import{f as ie,b as te,$ as ze}from"./Button-Dw7lljiq.js";import{c as Ge,d as Ae}from"./CalendarHeader-DGdpSmYE.js";import{j as L,b as $e,$ as he,f as ge,g as ye,h as Pe,a as Ve,i as De}from"./utils-CT8CL8Qy.js";import{b as xe,c as Re,d as Fe,e as Xe,f as Ce,g as He,h as K,i as W,j as Je,k as Oe}from"./DateInput-Cf9p0fS5.js";import{i as Me,m as Te,n as Ie,c as Qe,l as Ye}from"./Dialog-BQhmOU3o.js";import{$ as _e}from"./FieldError-Ax3oEaat.js";import{a as pe}from"./Form-C688dPfu.js";import{a as de,$ as ea}from"./Group-CrqH1lRX.js";import{a as ne}from"./Text-BDGh9UD8.js";import{b as X,e as Ze,a as Be}from"./useFocusRing-CiRxO26c.js";import{a as ke,g as we}from"./OverlayArrow-B5tMncCy.js";import{r as s,R as A}from"./index-ClcD9ViR.js";import{e as ee,f as ae}from"./CalendarDate-Lfx2W0H2.js";import{$ as q}from"./useDateFormatter-DzWwJ2YB.js";import{e as le,f as ce,d as fe,a as Se}from"./useFormValidation-DOw2d6ip.js";import{$ as Ee}from"./useControlledState-H1tiOFpU.js";import{b as Ne}from"./FocusScope-DFjHfTMc.js";import{a as Ue}from"./scrollIntoView-D-J2YGNX.js";import{$ as We}from"./useField-DCM7HehW.js";import{$ as je}from"./context-zNjZoWML.js";import{$ as Le}from"./useLocalizedStringFormatter-DiUIqqhg.js";import{j as z}from"./jsx-runtime-BYYWji4R.js";import{c as be}from"./clsx-B-dksMZM.js";import{c as aa}from"./createLucideIcon-DQK9Z80p.js";function la(e){return e&&e.__esModule?e.default:e}function ia(e,a,d){let g=L(),m=L(),b=L(),v=Le(la(Fe),"@react-aria/datepicker"),{isInvalid:o,validationErrors:l,validationDetails:x}=a.displayValidation,{labelProps:p,fieldProps:u,descriptionProps:Z,errorMessageProps:R}=We({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||l}),F=xe(a,d),C=u["aria-labelledby"]||u.id,{locale:c}=je(),O=a.formatValue(c,{month:"long"}),i=O?v.format("selectedDateDescription",{date:O}):"",M=Ue(i),T=[M["aria-describedby"],u["aria-describedby"]].filter(Boolean).join(" ")||void 0,P=X(e),I=s.useMemo(()=>Ne(d),[d]),_=s.useRef(!1),{focusWithinProps:D}=Ze({...e,isDisabled:a.isOpen,onBlurWithin:y=>{let V=document.getElementById(m);if(!(V!=null&&V.contains(y.relatedTarget))){var r,h;_.current=!1,(r=e.onBlur)===null||r===void 0||r.call(e,y),(h=e.onFocusChange)===null||h===void 0||h.call(e,!1)}},onFocusWithin:y=>{if(!_.current){var V,r;_.current=!0,(V=e.onFocus)===null||V===void 0||V.call(e,y),(r=e.onFocusChange)===null||r===void 0||r.call(e,!0)}}});return{groupProps:$e(P,F,u,M,D,{role:"group","aria-disabled":e.isDisabled||null,"aria-labelledby":C,"aria-describedby":T,onKeyDown(y){a.isOpen||e.onKeyDown&&e.onKeyDown(y)},onKeyUp(y){a.isOpen||e.onKeyUp&&e.onKeyUp(y)}}),labelProps:{...p,onClick:()=>{I.focusFirst()}},fieldProps:{...u,id:b,[Re]:"presentation","aria-describedby":T,value:a.value,onChange:a.setValue,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,granularity:e.granularity,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior,[le]:a,autoFocus:e.autoFocus,name:e.name},descriptionProps:Z,errorMessageProps:R,buttonProps:{...M,id:g,"aria-haspopup":"dialog","aria-label":v.format("calendar"),"aria-labelledby":`${g} ${C}`,"aria-describedby":T,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:m,"aria-labelledby":`${g} ${C}`},calendarProps:{autoFocus:!0,value:a.dateValue,onChange:a.setDateValue,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,defaultFocusedValue:a.dateValue?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" ")},isInvalid:o,validationErrors:l,validationDetails:x}}function ta(e){return e&&e.__esModule?e.default:e}function da(e,a,d){var g,m,b;let v=Le(ta(Fe),"@react-aria/datepicker"),{isInvalid:o,validationErrors:l,validationDetails:x}=a.displayValidation,{labelProps:p,fieldProps:u,descriptionProps:Z,errorMessageProps:R}=We({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||l}),F=u["aria-labelledby"]||u.id,{locale:C}=je(),c=a.formatValue(C,{month:"long"}),O=c?v.format("selectedRangeDescription",{startDate:c.start,endDate:c.end}):"",i=Ue(O),M={"aria-label":v.format("startDate"),"aria-labelledby":F},T={"aria-label":v.format("endDate"),"aria-labelledby":F},P=L(),I=L(),_=xe(a,d),D=[i["aria-describedby"],u["aria-describedby"]].filter(Boolean).join(" ")||void 0,y=s.useMemo(()=>Ne(d,{accept:n=>n.id!==P}),[d,P]),V={[Xe]:y,[Re]:"presentation","aria-describedby":D,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,granularity:e.granularity,shouldForceLeadingZeros:e.shouldForceLeadingZeros,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior},r=X(e),h=s.useRef(!1),{focusWithinProps:w}=Ze({...e,isDisabled:a.isOpen,onBlurWithin:n=>{let $=document.getElementById(I);if(!($!=null&&$.contains(n.relatedTarget))){var B,U;h.current=!1,(B=e.onBlur)===null||B===void 0||B.call(e,n),(U=e.onFocusChange)===null||U===void 0||U.call(e,!1)}},onFocusWithin:n=>{if(!h.current){var $,B;h.current=!0,($=e.onFocus)===null||$===void 0||$.call(e,n),(B=e.onFocusChange)===null||B===void 0||B.call(e,!0)}}}),S=s.useRef(ce),G=s.useRef(ce);var t,f;return{groupProps:$e(r,_,u,i,w,{role:"group","aria-disabled":e.isDisabled||null,"aria-describedby":D,onKeyDown(n){a.isOpen||e.onKeyDown&&e.onKeyDown(n)},onKeyUp(n){a.isOpen||e.onKeyUp&&e.onKeyUp(n)}}),labelProps:{...p,onClick:()=>{y.focusFirst()}},buttonProps:{...i,id:P,"aria-haspopup":"dialog","aria-label":v.format("calendar"),"aria-labelledby":`${P} ${F}`,"aria-describedby":D,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:I,"aria-labelledby":`${P} ${F}`},startFieldProps:{...M,...V,value:(t=(g=a.value)===null||g===void 0?void 0:g.start)!==null&&t!==void 0?t:null,onChange:n=>a.setDateTime("start",n),autoFocus:e.autoFocus,name:e.startName,[le]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){S.current=n,a.updateValidation(fe(n,G.current))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},endFieldProps:{...T,...V,value:(f=(m=a.value)===null||m===void 0?void 0:m.end)!==null&&f!==void 0?f:null,onChange:n=>a.setDateTime("end",n),name:e.endName,[le]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){G.current=n,a.updateValidation(fe(S.current,n))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},descriptionProps:Z,errorMessageProps:R,calendarProps:{autoFocus:!0,value:!((b=a.dateRange)===null||b===void 0)&&b.start&&a.dateRange.end?a.dateRange:null,onChange:a.setDateRange,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,allowsNonContiguousRanges:e.allowsNonContiguousRanges,defaultFocusedValue:a.dateRange?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" ")},isInvalid:o,validationErrors:l,validationDetails:x}}function na(e){let a=ke(e),[d,g]=Ee(e.value,e.defaultValue||null,e.onChange),m=d||e.placeholderValue||null,[b,v]=Ce(m,e.granularity),o=d!=null?d.toDate(v??"UTC"):null,l=b==="hour"||b==="minute"||b==="second";var x;let p=(x=e.shouldCloseOnSelect)!==null&&x!==void 0?x:!0,[u,Z]=s.useState(null),[R,F]=s.useState(null);if(d&&(u=d,"hour"in d&&(R=d)),m&&!(b in m))throw new Error("Invalid granularity "+b+" for value "+m.toString());let C=(d==null?void 0:d.calendar.identifier)==="gregory"&&d.era==="BC",c=s.useMemo(()=>({granularity:b,timeZone:v,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:C}),[b,e.hourCycle,e.shouldForceLeadingZeros,v,e.hideTimeZone,C]),{minValue:O,maxValue:i,isDateUnavailable:M}=e,T=s.useMemo(()=>He(d,O,i,M,c),[d,O,i,M,c]),P=Se({...e,value:d,builtinValidation:T}),I=P.displayValidation.isInvalid,_=e.validationState||(I?"invalid":null),D=(r,h)=>{g("timeZone"in h?h.set(ae(r)):ee(r,h)),Z(null),F(null),P.commitValidation()};return{...P,value:d,setValue:g,dateValue:u,timeValue:R,setDateValue:r=>{let h=typeof p=="function"?p():p;l?R||h?D(r,R||W(e.defaultValue||e.placeholderValue)):Z(r):(g(r),P.commitValidation()),h&&a.setOpen(!1)},setTimeValue:r=>{u&&r?D(u,r):F(r)},granularity:b,hasTime:l,...a,setOpen(r){!r&&!d&&u&&l&&D(u,R||W(e.defaultValue||e.placeholderValue)),a.setOpen(r)},validationState:_,isInvalid:I,formatValue(r,h){if(!o)return"";let w=K(h,c);return new q(r,w).format(o)},getDateFormatter(r,h){let w={...c,...h},S=K({},w);return new q(r,S)}}}function ra(e){var a,d;let g=ke(e),[m,b]=Ee(e.value,e.defaultValue||null,e.onChange),[v,o]=s.useState(()=>m||{start:null,end:null});m==null&&v.start&&v.end&&(v={start:null,end:null},o(v));let l=m||v,x=t=>{o(t||{start:null,end:null}),N(t)?b(t):b(null)},p=(l==null?void 0:l.start)||(l==null?void 0:l.end)||e.placeholderValue||null,[u,Z]=Ce(p,e.granularity),R=u==="hour"||u==="minute"||u==="second";var F;let C=(F=e.shouldCloseOnSelect)!==null&&F!==void 0?F:!0,[c,O]=s.useState(null),[i,M]=s.useState(null);l&&N(l)&&(c=l,"hour"in l.start&&(i=l));let T=(t,f)=>{x({start:"timeZone"in f.start?f.start.set(ae(t.start)):ee(t.start,f.start),end:"timeZone"in f.end?f.end.set(ae(t.end)):ee(t.end,f.end)}),O(null),M(null),w.commitValidation()},P=t=>{let f=typeof C=="function"?C():C;R?N(t)&&(f||i!=null&&i.start&&(i!=null&&i.end))?T(t,{start:(i==null?void 0:i.start)||W(e.placeholderValue),end:(i==null?void 0:i.end)||W(e.placeholderValue)}):O(t):N(t)?(x(t),w.commitValidation()):O(t),f&&g.setOpen(!1)},I=t=>{N(c)&&N(t)?T(c,t):M(t)},_=(l==null||(a=l.start)===null||a===void 0?void 0:a.calendar.identifier)==="gregory"&&l.start.era==="BC"||(l==null||(d=l.end)===null||d===void 0?void 0:d.calendar.identifier)==="gregory"&&l.end.era==="BC",D=s.useMemo(()=>({granularity:u,timeZone:Z,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:_}),[u,e.hourCycle,e.shouldForceLeadingZeros,Z,e.hideTimeZone,_]),{minValue:y,maxValue:V,isDateUnavailable:r}=e,h=s.useMemo(()=>Je(l,y,V,r,D),[l,y,V,r,D]),w=Se({...e,value:m,name:s.useMemo(()=>[e.startName,e.endName].filter(t=>t!=null),[e.startName,e.endName]),builtinValidation:h}),S=w.displayValidation.isInvalid,G=e.validationState||(S?"invalid":null);return{...w,value:l,setValue:x,dateRange:c,timeRange:i,granularity:u,hasTime:R,setDate(t,f){var n,$;P(t==="start"?{start:f,end:(n=c==null?void 0:c.end)!==null&&n!==void 0?n:null}:{start:($=c==null?void 0:c.start)!==null&&$!==void 0?$:null,end:f})},setTime(t,f){var n,$;I(t==="start"?{start:f,end:(n=i==null?void 0:i.end)!==null&&n!==void 0?n:null}:{start:($=i==null?void 0:i.start)!==null&&$!==void 0?$:null,end:f})},setDateTime(t,f){var n,$;x(t==="start"?{start:f,end:(n=l==null?void 0:l.end)!==null&&n!==void 0?n:null}:{start:($=l==null?void 0:l.start)!==null&&$!==void 0?$:null,end:f})},setDateRange:P,setTimeRange:I,...g,setOpen(t){!t&&!(l!=null&&l.start&&(l!=null&&l.end))&&N(c)&&R&&T(c,{start:(i==null?void 0:i.start)||W(e.placeholderValue),end:(i==null?void 0:i.end)||W(e.placeholderValue)}),g.setOpen(t)},validationState:G,isInvalid:S,formatValue(t,f){if(!l||!l.start||!l.end)return null;let n="timeZone"in l.start?l.start.timeZone:void 0,$=e.granularity||(l.start&&"minute"in l.start?"minute":"day"),B="timeZone"in l.end?l.end.timeZone:void 0,U=e.granularity||(l.end&&"minute"in l.end?"minute":"day"),qe=K(f,{granularity:$,timeZone:n,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,showEra:l.start.calendar.identifier==="gregory"&&l.start.era==="BC"||l.end.calendar.identifier==="gregory"&&l.end.era==="BC"}),re=l.start.toDate(n||"UTC"),oe=l.end.toDate(B||"UTC"),H=new q(t,qe),J;if(n===B&&$===U&&l.start.compare(l.end)!==0){try{let E=H.formatRangeToParts(re,oe),Q=-1;for(let k=0;k<E.length;k++){let Y=E[k];if(Y.source==="shared"&&Y.type==="literal")Q=k;else if(Y.source==="endRange")break}let se="",ue="";for(let k=0;k<E.length;k++)k<Q?se+=E[k].value:k>Q&&(ue+=E[k].value);return{start:se,end:ue}}catch{}J=H}else{let E=K(f,{granularity:U,timeZone:B,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle});J=new q(t,E)}return{start:H.format(re),end:J.format(oe)}},getDateFormatter(t,f){let n={...D,...f},$=K({},n);return new q(t,$)}}}function N(e){return(e==null?void 0:e.start)!=null&&e.end!=null}const oa=s.createContext(null),sa=s.createContext(null),ua=s.createContext(null),ca=s.createContext(null),Ke=[de,ie,te,ne],ja=s.forwardRef(function(a,d){[a,d]=he(a,d,oa);let{validationBehavior:g}=ge(pe)||{};var m,b;let v=(b=(m=a.validationBehavior)!==null&&m!==void 0?m:g)!==null&&b!==void 0?b:"native",o=na({...a,validationBehavior:v}),l=s.useRef(null),[x,p]=ye(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:u,labelProps:Z,fieldProps:R,buttonProps:F,dialogProps:C,calendarProps:c,descriptionProps:O,errorMessageProps:i,...M}=ia({...Pe(a),label:p,validationBehavior:v},o,l),[T,P]=s.useState(null),I=s.useCallback(()=>{l.current&&P(l.current.offsetWidth+"px")},[]);we({ref:l,onResize:I});let{focusProps:_,isFocused:D,isFocusVisible:y}=Be({within:!0}),V=Ve({...a,values:{state:o,isFocusWithin:D,isFocusVisible:y,isDisabled:a.isDisabled||!1,isInvalid:o.isInvalid,isOpen:o.isOpen},defaultClassName:"react-aria-DatePicker"}),r=X(a);return delete r.id,A.createElement(De,{values:[[ua,o],[de,{...u,ref:l,isInvalid:o.isInvalid}],[Oe,R],[ie,{...F,isPressed:o.isOpen}],[te,{...Z,ref:x,elementType:"span"}],[Ae,c],[Me,o],[Te,{trigger:"DatePicker",triggerRef:l,placement:"bottom start",style:{"--trigger-width":T},clearContexts:Ke}],[Ie,C],[ne,{slots:{description:O,errorMessage:i}}],[_e,M]]},A.createElement("div",{..._,...r,...V,ref:d,slot:a.slot||void 0,"data-focus-within":D||void 0,"data-invalid":o.isInvalid||void 0,"data-focus-visible":y||void 0,"data-disabled":a.isDisabled||void 0,"data-open":o.isOpen||void 0}))}),La=s.forwardRef(function(a,d){[a,d]=he(a,d,sa);let{validationBehavior:g}=ge(pe)||{};var m,b;let v=(b=(m=a.validationBehavior)!==null&&m!==void 0?m:g)!==null&&b!==void 0?b:"native",o=ra({...a,validationBehavior:v}),l=s.useRef(null),[x,p]=ye(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:u,labelProps:Z,startFieldProps:R,endFieldProps:F,buttonProps:C,dialogProps:c,calendarProps:O,descriptionProps:i,errorMessageProps:M,...T}=da({...Pe(a),label:p,validationBehavior:v},o,l),[P,I]=s.useState(null),_=s.useCallback(()=>{l.current&&I(l.current.offsetWidth+"px")},[]);we({ref:l,onResize:_});let{focusProps:D,isFocused:y,isFocusVisible:V}=Be({within:!0}),r=Ve({...a,values:{state:o,isFocusWithin:y,isFocusVisible:V,isDisabled:a.isDisabled||!1,isInvalid:o.isInvalid,isOpen:o.isOpen},defaultClassName:"react-aria-DateRangePicker"}),h=X(a);return delete h.id,A.createElement(De,{values:[[ca,o],[de,{...u,ref:l,isInvalid:o.isInvalid}],[ie,{...C,isPressed:o.isOpen}],[te,{...Z,ref:x,elementType:"span"}],[Ge,O],[Me,o],[Te,{trigger:"DateRangePicker",triggerRef:l,placement:"bottom start",style:{"--trigger-width":P},clearContexts:Ke}],[Ie,c],[Oe,{slots:{start:R,end:F}}],[ne,{slots:{description:i,errorMessage:M}}],[_e,T]]},A.createElement("div",{...D,...h,...r,ref:d,slot:a.slot||void 0,"data-focus-within":y||void 0,"data-invalid":o.isInvalid||void 0,"data-focus-visible":V||void 0,"data-disabled":a.isDisabled||void 0,"data-open":o.isOpen||void 0}))});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=aa("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),ba="_datePicker_1ro4s_4",va="_inputField_1ro4s_11",ma="_medium_1ro4s_23",$a="_calendarButton_1ro4s_50",ha="_dialog_1ro4s_97",j={datePicker:ba,inputField:va,medium:ma,calendarButton:$a,dialog:ha},ve=({children:e,isDisabled:a,isInvalid:d,size:g="large"})=>z.jsxs(ea,{className:be(j.inputField,{[j.medium]:g==="medium"}),children:[e,z.jsx(ze,{className:be(j.calendarButton,{[j.medium]:g==="medium"}),"data-invalid":d||void 0,isDisabled:a,children:z.jsx(fa,{"aria-hidden":!0,size:20})})]});try{ve.displayName="DatePickerInputField",ve.__docgenInfo={description:"",displayName:"DatePickerInputField",props:{isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"large"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}}}}}catch{}const me=s.forwardRef(({children:e},a)=>z.jsx(Qe,{UNSTABLE_portalContainer:typeof a!="function"&&(a==null?void 0:a.current)||void 0,children:z.jsx(Ye,{className:j.dialog,children:e})}));try{me.displayName="DatePickerPopover",me.__docgenInfo={description:"",displayName:"DatePickerPopover",props:{}}}catch{}export{ja as $,ve as D,me as a,La as b,j as s};
