import{f as g,b as w,$ as D,h as B,a as I}from"./utils-DVlNRVKr.js";import{$ as O}from"./Hidden-BgNUkzG2.js";import{b as S,r as b,R as p}from"./iframe-CTgOJ9Ps.js";import{e as T,a as _,$ as H}from"./useFocusRing-X2jAZYAF.js";import{$ as Z}from"./useLabels-A9HpFVJQ.js";import{$ as k}from"./useButton-BHqm994R.js";function A(r,e=-1/0,t=1/0){return Math.min(Math.max(r,e),t)}let E=new Map,L=!1;try{L=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let y=!1;try{y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const V={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class W{format(e){let t="";if(!L&&this.options.signDisplay!=null?t=G(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!y){var l;let{unit:a,unitDisplay:i="short",locale:n}=this.resolvedOptions();if(!a)return t;let s=(l=V[a])===null||l===void 0?void 0:l[i];t+=s[n]||s.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let l=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(t);return[...l.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!L&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=z(e,t),this.options=t}}function z(r,e={}){let{numberingSystem:t}=e;if(t&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${t}`),e.style==="unit"&&!y){var l;let{unit:n,unitDisplay:s="short"}=e;if(!n)throw new Error('unit option must be provided with style: "unit"');if(!(!((l=V[n])===null||l===void 0)&&l[s]))throw new Error(`Unsupported unit ${n} with unitDisplay = ${s}`);e={...e,style:"decimal"}}let a=r+(e?Object.entries(e).sort((n,s)=>n[0]<s[0]?-1:1).join():"");if(E.has(a))return E.get(a);let i=new Intl.NumberFormat(r,e);return E.set(a,i),i}function G(r,e,t){if(e==="auto")return r.format(t);if(e==="never")return r.format(Math.abs(t));{let l=!1;if(e==="always"?l=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):l=t>0),l){let a=r.format(-t),i=r.format(t),n=a.replace(i,"").replace(/\u200e|\u061C/,"");return[...n].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(i,"!!!").replace(n,"+").replace("!!!",i)}else return r.format(t)}}function J(r={}){let{locale:e}=S();return b.useMemo(()=>new W(e,r),[e,r])}const M=7e3;let o=null;function R(r,e="assertive",t=M){o?o.announce(r,e,t):(o=new K,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?o.announce(r,e,t):setTimeout(()=>{o?.isAttached()&&o?.announce(r,e,t)},100))}function le(r){o&&o.clear(r)}class K{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",l=M){var a,i;if(!this.node)return;let n=document.createElement("div");typeof e=="object"?(n.setAttribute("role","img"),n.setAttribute("aria-labelledby",e["aria-labelledby"])):n.textContent=e,t==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(n):(i=this.politeLog)===null||i===void 0||i.appendChild(n),e!==""&&setTimeout(()=>{n.remove()},l)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function U(r){let{id:e,label:t,"aria-labelledby":l,"aria-label":a,labelElementType:i="label"}=r;e=g(e);let n=g(),s={};t&&(l=l?`${n} ${l}`:n,s={id:n,htmlFor:i==="label"?e:void 0});let d=Z({id:e,"aria-label":a,"aria-labelledby":l});return{labelProps:s,fieldProps:d}}function Y(r){let{value:e=0,minValue:t=0,maxValue:l=100,valueLabel:a,isIndeterminate:i,formatOptions:n={style:"percent"}}=r,s=T(r,{labelable:!0}),{labelProps:d,fieldProps:f}=U({...r,labelElementType:"span"});e=A(e,t,l);let m=(e-t)/(l-t),$=J(n);if(!i&&!a){let u=n.style==="percent"?m:e;a=$.format(u)}return{progressBarProps:w(s,{...f,"aria-valuenow":i?void 0:e,"aria-valuemin":t,"aria-valuemax":l,"aria-valuetext":i?void 0:a,role:"progressbar"}),labelProps:d}}const N=b.createContext({}),ne=O(function(e,t){[e,t]=D(e,t,N);let{elementType:l="label",...a}=e;return p.createElement(l,{className:"react-aria-Label",...a,ref:t})}),j=b.createContext(null),se=b.forwardRef(function(e,t){[e,t]=D(e,t,j);let{value:l=0,minValue:a=0,maxValue:i=100,isIndeterminate:n=!1}=e;l=A(l,a,i);let[s,d]=B(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:f,labelProps:m}=Y({...e,label:d}),$=n?void 0:(l-a)/(i-a)*100,u=I({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:f["aria-valuetext"],isIndeterminate:n}}),h=T(e,{global:!0});return p.createElement("div",{...w(h,u,f),ref:t,slot:e.slot||void 0},p.createElement(N.Provider,{value:{...m,ref:s,elementType:"span"}},u.children))}),q=b.createContext({}),oe=O(function(e,t){[e,t]=D(e,t,q);let l=e,{isPending:a}=l,{buttonProps:i,isPressed:n}=k(e,t);i=Q(i,a);let{focusProps:s,isFocused:d,isFocusVisible:f}=_(e),{hoverProps:m,isHovered:$}=H({...e,isDisabled:e.isDisabled||a}),u={isHovered:$,isPressed:(l.isPressed||n)&&!a,isFocused:d,isFocusVisible:f,isDisabled:e.isDisabled||!1,isPending:a??!1},h=I({...e,values:u,defaultClassName:"react-aria-Button"}),v=g(i.id),x=g(),c=i["aria-labelledby"];a&&(c?c=`${c} ${x}`:i["aria-label"]&&(c=`${v} ${x}`));let P=b.useRef(a);b.useEffect(()=>{let C={"aria-labelledby":c||v};(!P.current&&d&&a||P.current&&d&&!a)&&R(C,"assertive"),P.current=a},[a,d,c,v]);let F=T(e,{global:!0});return delete F.onClick,p.createElement("button",{...w(F,h,i,s,m),type:i.type==="submit"&&a?"button":i.type,id:v,ref:t,"aria-labelledby":c,slot:e.slot||void 0,"aria-disabled":a?"true":i["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":$||void 0,"data-focused":d||void 0,"data-pending":a||void 0,"data-focus-visible":f||void 0},p.createElement(j.Provider,{value:{id:x}},h.children))});function Q(r,e){if(e){for(const t in r)t.startsWith("on")&&!(t.includes("Focus")||t.includes("Blur"))&&(r[t]=void 0);r.href=void 0,r.target=void 0}return r}export{U as $,oe as a,N as b,se as c,A as d,q as e,ne as f,R as g,W as h,le as i};
