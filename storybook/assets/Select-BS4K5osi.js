import{j as v}from"./jsx-runtime-Nms4Y4qS.js";import{$ as W,b as z}from"./Button-C_z7reC9.js";import{$ as H,a as L,b as U,c as G,d as J}from"./ListBox-EV5pEwkC.js";import{$ as Q,a as X,b as Y,c as Z,d as ee}from"./Dialog-_mMpTr4W.js";import{n as B,b as V,r as te,A as ae,B as le,C as ie,c as E,w as N,e as se,x as oe,y as ne,f as M,z as re}from"./useFocusable-oEo1n-jK.js";import{b as de,c as ce,d as ue,a as fe,e as pe,f as me,g as A,h as be}from"./Form-BnF4q38W.js";import{$ as $e}from"./intlStrings-ZMTSFH_M.js";import{$ as ve}from"./Collection-BN912an0.js";import{r as u,R as m}from"./index-BwDkhjyp.js";import{$ as ye}from"./useSingleSelectListState-DmcIQ02l.js";import{$ as he}from"./DragAndDrop-BEwgP_ES.js";import{c as ge}from"./SelectionManager-NtlNGHh6.js";import{$ as xe}from"./useCollator-CmOnbdDs.js";import{$ as Pe}from"./VisuallyHidden-BgAYQwv3.js";import{$ as Se}from"./useLocalizedStringFormatter-Cah0Scr7.js";import{I as _e}from"./TextField-BLg3SWSQ.js";import{C as Re}from"./chevron-down-FOu3nidH.js";const T=new WeakMap;function Ie(e,t,i){let{keyboardDelegate:s,isDisabled:l,isRequired:r,name:o,validationBehavior:a="aria"}=e,d=xe({usage:"search",sensitivity:"base"}),c=u.useMemo(()=>s||new he(t.collection,t.disabledKeys,null,d),[s,t.collection,t.disabledKeys,d]),{menuTriggerProps:n,menuProps:b}=H({isDisabled:l,type:"listbox"},t,i),p=f=>{switch(f.key){case"ArrowLeft":{f.preventDefault();let h=t.selectedKey!=null?c.getKeyAbove(t.selectedKey):c.getFirstKey();h&&t.setSelectedKey(h);break}case"ArrowRight":{f.preventDefault();let h=t.selectedKey!=null?c.getKeyBelow(t.selectedKey):c.getFirstKey();h&&t.setSelectedKey(h);break}}},{typeSelectProps:y}=ge({keyboardDelegate:c,selectionManager:t.selectionManager,onTypeSelect(f){t.setSelectedKey(f)}}),{isInvalid:x,validationErrors:_,validationDetails:I}=t.displayValidation,{labelProps:D,fieldProps:P,descriptionProps:g,errorMessageProps:C}=de({...e,labelElementType:"span",isInvalid:x,errorMessage:e.errorMessage||_});y.onKeyDown=y.onKeyDownCapture,delete y.onKeyDownCapture;let q=B(e,{labelable:!0}),$=V(y,n,P),R=te();return T.set(t,{isDisabled:l,isRequired:r,name:o,validationBehavior:a}),{labelProps:{...D,onClick:()=>{e.isDisabled||(i.current.focus(),ae("keyboard"))}},triggerProps:V(q,{...$,isDisabled:l,onKeyDown:le($.onKeyDown,p,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[R,$["aria-labelledby"],$["aria-label"]&&!$["aria-labelledby"]?$.id:null].filter(Boolean).join(" "),onFocus(f){t.isFocused||(e.onFocus&&e.onFocus(f),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(f){t.isOpen||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:R},menuProps:{...b,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:f=>{f.currentTarget.contains(f.relatedTarget)||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[P["aria-labelledby"],$["aria-label"]&&!P["aria-labelledby"]?$.id:null].filter(Boolean).join(" ")},descriptionProps:g,errorMessageProps:C,isInvalid:x,validationErrors:_,validationDetails:I}}function De(e,t,i){let s=T.get(t)||{},{autoComplete:l,name:r=s.name,isDisabled:o=s.isDisabled}=e,{validationBehavior:a,isRequired:d}=s,c=ie(),{visuallyHiddenProps:n}=Pe();ce(e.selectRef,t.selectedKey,t.setSelectedKey),ue({validationBehavior:a,focus:()=>i.current.focus()},t,e.selectRef);var b;return{containerProps:{...n,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{type:"text",tabIndex:c==null||t.isFocused||t.isOpen?-1:0,style:{fontSize:16},onFocus:()=>i.current.focus(),disabled:o},selectProps:{tabIndex:-1,autoComplete:l,disabled:o,required:a==="native"&&d,name:r,value:(b=t.selectedKey)!==null&&b!==void 0?b:"",onChange:p=>t.setSelectedKey(p.target.value)}}}function Ce(e){let{state:t,triggerRef:i,label:s,name:l,isDisabled:r}=e,o=u.useRef(null),{containerProps:a,inputProps:d,selectProps:c}=De({...e,selectRef:o},t,i);var n;return t.collection.size<=300?m.createElement("div",{...a,"data-testid":"hidden-select-container"},m.createElement("input",d),m.createElement("label",null,s,m.createElement("select",{...c,ref:o},m.createElement("option",null),[...t.collection.getKeys()].map(b=>{let p=t.collection.getItem(b);if(p.type==="item")return m.createElement("option",{key:p.key,value:p.key},p.textValue)})))):l?m.createElement("input",{type:"hidden",autoComplete:c.autoComplete,name:l,disabled:r,value:(n=t.selectedKey)!==null&&n!==void 0?n:""}):null}function qe(e){let t=Q(e),[i,s]=u.useState(null),l=ye({...e,onSelectionChange:d=>{e.onSelectionChange!=null&&e.onSelectionChange(d),t.close(),r.commitValidation()}}),r=fe({...e,value:l.selectedKey}),[o,a]=u.useState(!1);return{...r,...l,...t,focusStrategy:i,open(d=null){l.collection.size!==0&&(s(d),t.open())},toggle(d=null){l.collection.size!==0&&(s(d),t.toggle())},isFocused:o,setFocused:a}}function Be(e){return e&&e.__esModule?e.default:e}const F=u.createContext(null),j=u.createContext(null);function Fe(e,t){[e,t]=E(e,t,F);let{children:i,isDisabled:s=!1,isInvalid:l=!1,isRequired:r=!1}=e,o=u.useMemo(()=>typeof i=="function"?i({isOpen:!1,isDisabled:s,isInvalid:l,isRequired:r,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):i,[i,s,l,r]);return m.createElement(ve,{content:o},a=>m.createElement(Ke,{props:e,collection:a,selectRef:t}))}function Ke({props:e,selectRef:t,collection:i}){let{validationBehavior:s}=N(pe)||{};var l,r;let o=(r=(l=e.validationBehavior)!==null&&l!==void 0?l:s)!==null&&r!==void 0?r:"native",a=qe({...e,collection:i,children:void 0,validationBehavior:o}),{isFocusVisible:d,focusProps:c}=se({within:!0}),n=u.useRef(null),[b,p]=oe(),{labelProps:y,triggerProps:x,valueProps:_,menuProps:I,descriptionProps:D,errorMessageProps:P,...g}=Ie({...ne(e),label:p,validationBehavior:o},a,n),[C,q]=u.useState(null),$=u.useCallback(()=>{n.current&&q(n.current.offsetWidth+"px")},[n]);X({ref:n,onResize:$});let R=u.useMemo(()=>({isOpen:a.isOpen,isFocused:a.isFocused,isFocusVisible:d,isDisabled:e.isDisabled||!1,isInvalid:g.isInvalid||!1,isRequired:e.isRequired||!1}),[a.isOpen,a.isFocused,d,e.isDisabled,g.isInvalid,e.isRequired]),f=M({...e,values:R,defaultClassName:"react-aria-Select"}),h=B(e);delete h.id;let K=u.useRef(null);return m.createElement(re,{values:[[F,e],[j,a],[O,_],[me,{...y,ref:b,elementType:"span"}],[W,{...x,ref:n,isPressed:a.isOpen}],[Y,a],[Z,{trigger:"Select",triggerRef:n,scrollRef:K,placement:"bottom start",style:{"--trigger-width":C}}],[L,{...I,ref:K}],[U,a],[A,{slots:{description:D,errorMessage:P}}],[be,g]]},m.createElement("div",{...h,...f,...c,ref:t,slot:e.slot||void 0,"data-focused":a.isFocused||void 0,"data-focus-visible":d||void 0,"data-open":a.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":g.isInvalid||void 0,"data-required":e.isRequired||void 0}),m.createElement(Ce,{state:a,triggerRef:n,label:p,name:e.name,isDisabled:e.isDisabled}))}const Ve=u.forwardRef(Fe),O=u.createContext(null);function ke(e,t){var i,s;[e,t]=E(e,t,O);let l=u.useContext(j),{placeholder:r}=N(F),o=l.selectedKey!=null?l.collection.getItem(l.selectedKey):null,a=o==null?void 0:o.props.children;typeof a=="function"&&(a=a({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let d=Se(Be($e),"react-aria-components");var c,n,b;let p=M({...e,defaultChildren:(c=a??r)!==null&&c!==void 0?c:d.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(n=(i=l.selectedItem)===null||i===void 0?void 0:i.value)!==null&&n!==void 0?n:null,selectedText:(b=(s=l.selectedItem)===null||s===void 0?void 0:s.textValue)!==null&&b!==void 0?b:null,isPlaceholder:!o}}),y=B(e);return m.createElement("span",{ref:t,...y,...p,"data-placeholder":!o||void 0},m.createElement(A.Provider,{value:void 0},p.children))}const we=u.forwardRef(ke),Ee='"../../../theme/src/lib/tokens.css"',Ne='"Inter", sans-serif',Me="#000000",Ae="#b31b1b",Te="(max-width: 767px)",je="#bfbfbf",Oe="#e6e6e6",We="#f2f2f2",ze="_select_1qp38_4",He="_button_1qp38_14",Le="_popover_1qp38_56",Ue="_listBoxItem_1qp38_64",Ge="_icon_1qp38_85",S={tokens:Ee,display:Ne,black:Me,signalRed130:Ae,smBreakpoint:Te,gray50:je,gray20:Oe,backgroundSecondary:We,select:ze,button:He,popover:Le,listBoxItem:Ue,icon:Ge};function k({label:e,description:t,errorMessage:i,children:s,items:l,...r}){return v.jsxs(Ve,{className:S.select,...r,children:[v.jsx(_e,{label:e,description:t,errorMessage:i,children:v.jsxs(z,{className:S.button,children:[v.jsx(we,{}),v.jsx("div",{className:S.icon,"aria-hidden":"true",children:v.jsx(Re,{height:16,width:16})})]})}),v.jsx(ee,{className:S.popover,offset:0,children:v.jsx(G,{items:l,children:s})})]})}function w(e){return v.jsx(J,{className:S.listBoxItem,...e})}try{k.displayName="Select",k.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Iterable<T>"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: SelectRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: SelectRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:'"native" | "aria"'}}}}}catch{}try{w.displayName="Item",w.__docgenInfo={description:"",displayName:"Item",props:{id:{defaultValue:null,description:"The unique id of the item.",name:"id",required:!1,type:{name:"Key"}},value:{defaultValue:null,description:"The object value that this item represents. When using dynamic collections, this is set automatically.",name:"value",required:!1,type:{name:"object"}},textValue:{defaultValue:null,description:"A string representation of the item's contents, used for features like typeahead.",name:"textValue",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"An accessibility label for this item.",name:"aria-label",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"Whether the item is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},onAction:{defaultValue:null,description:"Handler that is called when a user performs an action on the item. The exact user event depends on\nthe collection's `selectionBehavior` prop and the interaction modality.",name:"onAction",required:!1,type:{name:"() => void"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode | ((values: ListBoxItemRenderProps & { defaultChildren: ReactNode; }) => ReactNode)"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: ListBoxItemRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: ListBoxItemRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}export{w as I,k as S};
