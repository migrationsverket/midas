import{r as m,j as s}from"./iframe-Da7nq29g.js";import{$ as q,C as b,s as y,a as x}from"./Checkbox-CxY7wjHN.js";import{$,F as R}from"./FieldError-N_3bhSnW.js";import{a as P,L as C}from"./Label-B5hFansb.js";import{a as F,d as A}from"./useFormValidation-TJjpFVH5.js";import{$ as E}from"./useControlledState-DqL64D7D.js";import{$ as I}from"./utils-B0CyUW-5.js";import{b as S,c as w}from"./useFocusRing-BfWaxzv3.js";import{$ as _}from"./useField-D5pIHEIl.js";import{u as k}from"./useLocalizedStringFormatter-B5xCdXuP.js";import{T as D}from"./Text-BQLX2n4Y.js";function W(e,a){let{isDisabled:n,name:u,form:c,validationBehavior:o="aria"}=e,{isInvalid:r,validationErrors:d,validationDetails:i}=a.displayValidation,{labelProps:f,fieldProps:h,descriptionProps:l,errorMessageProps:t}=_({...e,labelElementType:"span",isInvalid:r,errorMessage:e.errorMessage||d});q.set(a,{name:u,form:c,descriptionId:l.id,errorMessageId:t.id,validationBehavior:o});let v=S(e,{labelable:!0}),{focusWithinProps:g}=w({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:I(v,{role:"group","aria-disabled":n||void 0,...h,...g}),labelProps:f,descriptionProps:l,errorMessageProps:t,isInvalid:r,validationErrors:d,validationDetails:i}}function B(e={}){let[a,n]=E(e.value,e.defaultValue||[],e.onChange),[u]=m.useState(a),c=!!e.isRequired&&a.length===0,o=m.useRef(new Map),r=F({...e,value:a}),d=r.displayValidation.isInvalid;var i,f;return{...r,value:a,defaultValue:(i=e.defaultValue)!==null&&i!==void 0?i:u,setValue(l){e.isReadOnly||e.isDisabled||n(l)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(l){return a.includes(l)},addValue(l){e.isReadOnly||e.isDisabled||n(t=>t.includes(l)?t:t.concat(l))},removeValue(l){e.isReadOnly||e.isDisabled||a.includes(l)&&n(a.filter(t=>t!==l))},toggleValue(l){e.isReadOnly||e.isDisabled||(a.includes(l)?n(a.filter(t=>t!==l)):n(a.concat(l)))},setInvalid(l,t){let v=new Map(o.current);t.isInvalid?v.set(l,t):v.delete(l),o.current=v,r.updateValidation(A(...v.values()))},validationState:(f=e.validationState)!==null&&f!==void 0?f:d?"invalid":null,isInvalid:d,isRequired:c}}const j=(e,{value:a})=>{const n=m.Children.toArray(e).filter(i=>m.isValidElement(i)&&i.type===b),u=m.Children.count(n),c=m.Children.toArray(e).filter(i=>m.isValidElement(i)).filter(i=>!!i&&i.type===b).map(i=>i.props.value||""),o=a.length===0,r=a.length===u;return{allSelected:r,someSelected:!o&&!r,checkboxValues:c}},p=({state:e,errorMessage:a})=>s.jsx($.Provider,{value:e.displayValidation,children:s.jsx(R,{children:a})});try{p.displayName="CheckboxGroupFieldError",p.__docgenInfo={description:"",displayName:"CheckboxGroupFieldError",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"CheckboxGroupState"}},showSelectAll:{defaultValue:null,description:"",name:"showSelectAll",required:!1,type:{name:"boolean"}},selectAllLabel:{defaultValue:null,description:"",name:"selectAllLabel",required:!1,type:{name:"string"}},errorPosition:{defaultValue:null,description:"",name:"errorPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},popover:{defaultValue:null,description:"",name:"popover",required:!1,type:{name:"InfoPopoverProps"}},value:{defaultValue:null,description:"The current value (controlled).",name:"value",required:!1,type:{name:"string[]"}},defaultValue:{defaultValue:null,description:"The default value (uncontrolled).",name:"defaultValue",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"Handler that is called when the value changes.",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}},isDisabled:{defaultValue:null,description:"Whether the input is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},isReadOnly:{defaultValue:null,description:"Whether the input can be selected but not changed by the user.",name:"isReadOnly",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"The content to display as the label.",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"A description for the field. Provides a hint such as specific requirements for what to choose.",name:"description",required:!1,type:{name:"ReactNode"}},errorMessage:{defaultValue:null,description:"An error message for the field.",name:"errorMessage",required:!1,type:{name:"ReactNode | ((v: ValidationResult) => ReactNode)"}},isRequired:{defaultValue:null,description:"Whether user input is required on the input before form submission.",name:"isRequired",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"Whether the input value is invalid.",name:"isInvalid",required:!1,type:{name:"boolean"}},validationState:{defaultValue:null,description:"@deprecated Use `isInvalid` instead.",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"valid"'},{value:'"invalid"'}]}},validationBehavior:{defaultValue:{value:"'aria'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:"enum",value:[{value:'"aria"'},{value:'"native"'}]}},validate:{defaultValue:null,description:'A function that returns an error message if a given value is invalid.\nValidation errors are displayed to the user when the form is submitted\nif `validationBehavior="native"`. For realtime validation, use the `isInvalid`\nprop instead.',name:"validate",required:!1,type:{name:"((value: string[]) => true | ValidationError | null)"}},onFocus:{defaultValue:null,description:"Handler that is called when the element receives focus.",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"Handler that is called when the element loses focus.",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onFocusChange:{defaultValue:null,description:"Handler that is called when the element's focus status changes.",name:"onFocusChange",required:!1,type:{name:"((isFocused: boolean) => void)"}}}}}catch{}const M={selectAll:"Select all"},N={selectAll:"VÃ¤lj alla"},O={en:M,sv:N};function V(e){const a=B(e),n=k(O),{groupProps:u,labelProps:c,descriptionProps:o}=W(e,a),{allSelected:r,someSelected:d,checkboxValues:i}=j(e.children,a),f=h=>{a.setValue(h?i:[])};return s.jsxs("div",{...u,className:y.checkboxGroup,"data-readonly":e.isReadOnly||void 0,"data-disabled":e.isDisabled||void 0,children:[s.jsx(P,{popover:e.popover,children:e.label&&s.jsx(C,{...c,children:e.label})}),e.description&&s.jsx(D,{slot:"description",...o,children:e.description}),e.errorPosition==="top"&&s.jsx(p,{...e,state:a}),s.jsxs("div",{className:y.checkboxList,children:[e.showSelectAll&&s.jsx(b,{isSelected:r,isIndeterminate:d,isReadOnly:e.isReadOnly,onChange:f,children:e.selectAllLabel||n.format("selectAll")}),s.jsx(x.Provider,{value:a,children:e.children})]}),e.errorPosition==="bottom"&&s.jsx(p,{...e,state:a})]})}try{V.displayName="CheckboxGroup",V.__docgenInfo={description:"",displayName:"CheckboxGroup",props:{showSelectAll:{defaultValue:null,description:"",name:"showSelectAll",required:!1,type:{name:"boolean"}},selectAllLabel:{defaultValue:null,description:"",name:"selectAllLabel",required:!1,type:{name:"string"}},errorPosition:{defaultValue:null,description:"",name:"errorPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},popover:{defaultValue:null,description:"",name:"popover",required:!1,type:{name:"InfoPopoverProps"}},value:{defaultValue:null,description:"The current value (controlled).",name:"value",required:!1,type:{name:"string[]"}},defaultValue:{defaultValue:null,description:"The default value (uncontrolled).",name:"defaultValue",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"Handler that is called when the value changes.",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}},isDisabled:{defaultValue:null,description:"Whether the input is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},isReadOnly:{defaultValue:null,description:"Whether the input can be selected but not changed by the user.",name:"isReadOnly",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"The content to display as the label.",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"A description for the field. Provides a hint such as specific requirements for what to choose.",name:"description",required:!1,type:{name:"ReactNode"}},errorMessage:{defaultValue:null,description:"An error message for the field.",name:"errorMessage",required:!1,type:{name:"ReactNode | ((v: ValidationResult) => ReactNode)"}},isRequired:{defaultValue:null,description:"Whether user input is required on the input before form submission.",name:"isRequired",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"Whether the input value is invalid.",name:"isInvalid",required:!1,type:{name:"boolean"}},validationState:{defaultValue:null,description:"@deprecated Use `isInvalid` instead.",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"valid"'},{value:'"invalid"'}]}},validationBehavior:{defaultValue:{value:"'aria'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:"enum",value:[{value:'"aria"'},{value:'"native"'}]}},validate:{defaultValue:null,description:'A function that returns an error message if a given value is invalid.\nValidation errors are displayed to the user when the form is submitted\nif `validationBehavior="native"`. For realtime validation, use the `isInvalid`\nprop instead.',name:"validate",required:!1,type:{name:"((value: string[]) => true | ValidationError | null)"}},onFocus:{defaultValue:null,description:"Handler that is called when the element receives focus.",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"Handler that is called when the element loses focus.",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onFocusChange:{defaultValue:null,description:"Handler that is called when the element's focus status changes.",name:"onFocusChange",required:!1,type:{name:"((isFocused: boolean) => void)"}}}}}catch{}export{V as C};
