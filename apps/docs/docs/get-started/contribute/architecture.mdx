---
sidebar_label: 'Arkitektur'
sidebar_position: 4
---

# üèóÔ∏è Designfilosofi och arkitektur

Midas designsystem f√∂ljer principer fr√•n Clean Code och Clean Architecture f√∂r att s√§kerst√§lla h√∂g kvalitet, underh√•llbarhet och l√•ngsiktig stabilitet.

## ‚ú® Clean Code-principer

Vi str√§var efter ren, l√§sbar och underh√•llbar kod:

- **Sm√• funktioner och komponenter**: Varje komponent har ett tydligt, avgr√§nsat ansvar (Single Responsibility Principle)
- **Beskrivande namn**: Funktioner, variabler och komponenter har namn som tydligt beskriver vad de g√∂r
- **Testbar kod**: Kod struktureras f√∂r att vara enkel att testa
- **DRY (Don't Repeat Yourself)**: Undvik kodduplicering genom √•teranv√§ndning och abstraktion
- **Inkrementella f√∂rb√§ttringar**: L√§mna koden b√§ttre √§n du hittade den - fixa g√§rna problem du ser √§ven om de inte √§r en del av din uppgift
- **Stateless komponenter**: Komponenter √§r i m√∂jlig m√•n stateless och st√∂djer designsystemet p√• ett generiskt s√§tt

## üèõÔ∏è Clean Architecture-principer

Vi till√§mpar principer fr√•n clean architecture f√∂r att skapa ett underh√•llbart och stabilt komponentbibliotek:

- **Separera styling fr√•n beteende**: Anv√§nd headless-bibliotek f√∂r logik och tillg√§nglighet, applicera endast visuell stil
- **Minimera beroenden**: H√•ll komponenter l√∂st kopplade och undvik on√∂diga beroenden mellan dem
- **Testbarhet**: Komponenter √§r enkla att testa isolerat utan omfattande setup
- **Stabilitet √∂ver flexibilitet**: V√§lj stabila, v√§lunderh√•llna beroenden framf√∂r att bygga egen komplexitet

---

## üì¶ Beroendestrategi: Headless-bibliotek

### React Aria Components (RAC) - F√∂rstahandsval

Komponenter byggs **i f√∂rsta hand** p√• [React Aria Components](https://react-spectrum.adobe.com/react-aria/getting-started.html). React Aria tillhandah√•ller:

- **Tillg√§nglighet**: Fullst√§ndigt st√∂d f√∂r WCAG, sk√§rml√§sare och tangentbordsnavigation
- **Plattformsst√∂d**: Touch, mouse och keyboard fungerar s√∂ml√∂st
- **Produktionstestad**: V√§ltestad kod fr√•n Adobe som anv√§nds i stora produktionsmilj√∂er
- **Internationalisering**: Inbyggt st√∂d f√∂r olika spr√•k och lokalisering

**Viktigt**: F√∂lj React Aria's API och m√∂nster s√• n√§ra som m√∂jligt. Undvik att avvika f√∂r mycket fr√•n originalet d√• det:
- F√∂rsv√•rar uppgraderingar n√§r React Aria uppdaterar sitt API
- √ñkar underh√•llsb√∂rdan f√∂r teamet
- Riskerar att vi bygger egen komplexitet som redan √§r l√∂st

:::tip
Om du beh√∂ver anpassa beteende, fr√•ga dig f√∂rst om React Aria redan har en l√∂sning via props, composition eller hooks.
:::

### Alternativa headless-bibliotek

N√§r funktionalitet **inte finns** i React Aria Components, v√§lj andra v√§lunderh√•llna headless-bibliotek.

**Exempel p√• bibliotek vi redan anv√§nder:**
- **[TanStack Table](https://tanstack.com/table)**: F√∂r avancerad tabellhantering
- **[React Select](https://react-select.com/)**: F√∂r komplexa select-komponenter

**Kriterier f√∂r att v√§lja ett bibliotek:**
- V√§lunderh√•llet och aktivt utvecklat
- Headless (ingen inbyggd styling)
- Stort community och bra dokumentation
- TypeScript-st√∂d
- Stabilt API med tydlig versionshantering
- Produktionstestat och anv√§nds av m√•nga projekt

Tveka inte att f√∂resl√• andra v√§lunderh√•llna headless-bibliotek om de passar anv√§ndarfallet b√§ttre!

### Undvik egenutvecklade l√∂sningar

:::warning
Bygg inte egen logik f√∂r tangentbordshantering, focus management, ARIA eller accessibility-funktionalitet. Egenutvecklade l√∂sningar √§r sv√•ra att f√• r√§tt, √∂kar underh√•llsb√∂rdan dramatiskt och riskerar att introducera tillg√§nglighetsbrister.
:::

**Innan du bygger n√•got eget, fr√•ga dig:**

1. **Kan det komponeras av befintliga byggstenar?** Ofta g√•r det att kombinera existerande komponenter f√∂r att l√∂sa behovet.
2. **√Ñr det tillr√§ckligt generiskt?** Om l√∂sningen √§r v√§ldigt specifik f√∂r ett enskilt projekt kanske den inte h√∂r hemma i det delade biblioteket - implementera den d√• projektspecifikt ist√§llet.
3. **Finns det i ett headless-bibliotek?** Kolla React Aria och andra bibliotek innan du bygger eget.

**N√§r √§r egenutvecklat OK?** Endast f√∂r ren visuell styling eller sm√•, v√§ldefinierade utilities som inte existerar i headless-bibliotek.

---

## üì¶ Publicerade paket

Midas √§r uppdelat i flera paket med tydliga ansvarsomr√•den:

- **components** - Alla komponenter baserade p√• React Aria samlas i ett paket f√∂r enkel installation och uppdatering
- **theme** - Design tokens och CSS-variabler √§r separerade f√∂r flexibel beroendehantering (du kan anv√§nda tokens utan komponenter)
- **Styling f√∂r tredjepartsbibliotek** - N√§r vi st√∂djer externa bibliotek (react-datepicker, react-select, TanStack Table) publiceras styling som separata paket s√• du bara installerar det du beh√∂ver

| Paket | Version | Beskrivning |
|-------|---------|-------------|
| [@midas-ds/components](https://www.npmjs.com/package/@midas-ds/components) | [![npm](https://img.shields.io/npm/v/@midas-ds/components)](https://www.npmjs.com/package/@midas-ds/components) | React-komponenter |
| [@midas-ds/theme](https://www.npmjs.com/package/@midas-ds/theme) | [![npm](https://img.shields.io/npm/v/@midas-ds/theme)](https://www.npmjs.com/package/@midas-ds/theme) | Design tokens och CSS |
| [@midas-ds/datepicker-styles](https://www.npmjs.com/package/@midas-ds/datepicker-styles) | [![npm](https://img.shields.io/npm/v/@midas-ds/datepicker-styles)](https://www.npmjs.com/package/@midas-ds/datepicker-styles) | Styling f√∂r [react-datepicker](/dev/react-datepicker) |
| [@midas-ds/select-styles](https://www.npmjs.com/package/@midas-ds/select-styles) | [![npm](https://img.shields.io/npm/v/@midas-ds/select-styles)](https://www.npmjs.com/package/@midas-ds/select-styles) | Styling f√∂r [react-select](/dev/react-select) |
| [@midas-ds/table-styles](https://www.npmjs.com/package/@midas-ds/table-styles) | [![npm](https://img.shields.io/npm/v/@midas-ds/table-styles)](https://www.npmjs.com/package/@midas-ds/table-styles) | Styling f√∂r [TanStack Table](/dev/tanstack-table) |
