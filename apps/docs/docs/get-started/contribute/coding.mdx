---
sidebar_label: 'Utvecklingsmilj√∂'
sidebar_position: 1
---

# üõ†Ô∏è S√§tt upp utvecklingsmilj√∂n

H√§r beskriver vi hur du s√§tter upp din utvecklingsmilj√∂ f√∂r att kunna bidra till Midas.

## üê≥ Docker (Rekommenderat)

Det snabbaste s√§ttet att komma ig√•ng √§r med Docker. D√• beh√∂ver du inte installera Node.js, npm eller n√•gra beroenden lokalt - allt k√∂rs i en isolerad milj√∂ med exakt r√§tt versioner.

**Krav:** Endast Docker Desktop (eller Docker Engine + Docker Compose)

### Starta

```bash
docker compose up -d
```

Detta startar i bakgrunden:
- **Storybook** p√• http://localhost:4400
- **Dokumentation** p√• http://localhost:3000
- **Playground** p√• http://localhost:4200

:::note
F√∂rsta uppstarten tar n√•gra minuter f√∂r att installera beroenden. F√∂lj processen med `docker compose logs -f`.
:::

**Starta en specifik app:**
```bash
docker compose up -d storybook  # Endast Storybook
docker compose up -d docs       # Endast dokumentation
```

### K√∂r kommandon

```bash
docker compose exec docs nx test components   # K√∂r tester
docker compose exec docs nx build components  # Bygg komponenter
docker compose exec docs npm install <paket>  # Installera beroenden
docker compose exec docs sh                   # √ñppna shell i containern
```

### Stoppa

```bash
docker compose down
```

### Fels√∂kning

**Port redan upptagen:** Stoppa processen som anv√§nder porten, eller √§ndra portmappning i `docker-compose.yml`.

**√Ñndringar syns inte:** Kontrollera loggarna med `docker compose logs -f <service>` eller starta om med `docker compose restart <service>`.

**Bygga om efter beroende√§ndringar:**
```bash
docker compose down
docker compose build --no-cache
docker compose up -d
```

**Ren omstart:**
```bash
docker compose down -v
docker compose build --no-cache
docker compose up -d
```

---

## üíª Lokal installation (Alternativ)

Om du f√∂redrar att k√∂ra allt lokalt beh√∂ver du:

Node version `^22.12.0` kr√§vs. Installera [Nx](https://nx.dev) globalt: `npm install --global nx@latest`

### Nx

Midas √§r ett monorepo som hanteras med [Nx](https://nx.dev). Det inneb√§r att vi har flera olika projekt i samma repo, till exempel komponentbiblioteket, dokumentationswebben och andra verktyg. Du kan k√∂ra `nx graph` f√∂r att se en visuell representation av hur projekten √§r relaterade till varandra.

### Starta Storybook

```bash
nx serve storybook
```

### Komponentbibliotek

Alla komponenter ligger under `/packages/components` och exporteras som ett npm-paket [`@midas-ds/components`](https://www.npmjs.com/package/@midas-ds/components).

### Tester

```bash
nx test components
```

Mer info finns p√• [sidan om tester](/get-started/contribute/tests).

### Dokumentationswebb

Dokumentationswebben ligger i `apps/docs` och √§r byggd med [Docusaurus](https://docusaurus.io/).

```bash
nx serve docs    # K√∂r lokalt
nx build docs    # Produktionsbygge
```

---

## üß™ Testa lokalt end-to-end

F√∂r att testa komponentbiblioteket i en annan app kan du publicera det till ett lokalt Verdaccio-registry.

### Publicera till lokalt registry

**Med Docker:**
```bash
docker compose up -d verdaccio
docker compose exec docs npx nx run @midas-ds/source:release:local:docker:dev
```

**Utan Docker:**
```bash
nx run @midas-ds/source:release:local:dev
```

### Installera i ditt testprojekt

```bash
npm install @midas-ds/components@latest --registry=http://localhost:4873/
```

:::warning
Skriptet √§ndrar `package.json`-filer med tempor√§ra versioner (t.ex. `15.2.7-local.0`). **Committa inte dessa √§ndringar!** √Öterst√§ll efter testning:
```bash
git checkout -- packages/*/package.json
```
:::

---

## üìö F√∂rdjupning

- [Arkitektur](/get-started/contribute/architecture) - V√•r designfilosofi och val av beroenden
- [Arbetsfl√∂de](/get-started/contribute/conventions) - Commit-format och versionshantering
