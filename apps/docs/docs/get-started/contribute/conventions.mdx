---
sidebar_label: 'Arbetsfl칬de'
sidebar_position: 5
---

# 游 Arbetsfl칬de

Denna sida beskriver v친ra konventioner f칬r versionshantering, commits och release-processen.

## Versionshantering

Vi anv칛nder en enkel branchstrategi med en `main`-branch som alltid ska vara i ett deploybart skick. Utveckling sker i feature- eller bugfix-brancher som sedan mergas in i `main`. Vi anv칛nder inte `develop` eller andra liknande brancher f칬r att h친lla det enkelt och f칬r att passa ett arbetss칛tt med kontinuerlig integration och leverans (CI/CD).

---

## 游닇 Conventional commits

Commits g칬rs enligt [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/#summary). Anv칛nd engelska, **imperativ form**, definiera type `feat|docs|fix|refactor|test|chore|ops...` f칬r att avg칬ra vilken versions칛ndring du vill g칬ra och scope `(project, component)` som rubrik f칬r changelog.

**Viktigt**: Scope b칬rjar alltid med ett av Nx-projekten (`components`, `theme`, `docs`, etc.) f칬r att versionshanteringen ska fungera korrekt. Du kan l칛gga till flera scopes med kommatecken, t.ex. `feat(components,button): ...`

### Exempel

```bash
feat(components, button): add new button variant   # Minor bump f칬r components
fix(theme): fix button hover color                 # Patch f칬r theme
docs: update contribution guide                    # Ingen bump

# Med body f칬r mer kontext
fix(theme): prevent red color on button hover

Introduce new css variable to automatically
select style based on input type
```

### Types och versions칛ndringar

| Type | Beskrivning | Version |
|------|-------------|---------|
| `feat` | Ny funktionalitet | Minor |
| `fix` | Buggfix | Patch |
| `docs` | Dokumentation | Ingen |
| `refactor` | Kodrefaktorering | Ingen |
| `test` | Tester | Ingen |
| `chore` | Underh친ll | Ingen |

### Breaking changes och major-versioner

F칬r att trigga en major-version, l칛gg till `BREAKING CHANGE:` i commit-meddelandets body:

```bash
feat(components, button): remove deprecated size prop

BREAKING CHANGE: The size prop has been removed. Use variant instead.
```

:::warning
Ta aldrig bort funktionalitet direkt - deprecera f칬rst! Markera med `@deprecated` i koden och dokumentera i release notes. Ge anv칛ndare minst en major-version att migrera innan borttagning.
:::

:::info
Innan du skapar en PR, st칛da g칛rna commit-historiken med `git rebase -i` om du har m친nga commits i din feature branch. [Guide till git rebase](https://www.atlassian.com/git/tutorials/rewriting-history/git-rebase).
:::

---

## 游 Release

Release sker automatiskt via CI/CD n칛r 칛ndringar mergas till `main`-branchen.

### Hur det fungerar

1. **Automatiska versioner**: N칛r en pull request mergas till `main` analyserar Nx Release alla commits sedan senaste release och r칛knar fram r칛tt version baserat p친 conventional commits.

2. **Publicering**: Om n친gon package f친r en ny version publiceras den automatiskt till npm.

3. **Changelog och taggar**: Changelog uppdateras automatiskt och nya git-taggar skapas enligt formatet `nx-project@version`.

4. **Dokumentation**: Dokumentationswebben byggs och publiceras automatiskt med de senaste 칛ndringarna.

### Vad du beh칬ver g칬ra

- **F칬lj conventional commits**: Se till att dina commits f칬ljer conventional commits-standarden, eftersom det avg칬r vilken versions칛ndring som sker (major, minor, patch).
- **Skapa en PR**: Alla kan skapa pull requests, men Midas core-team ansvarar f칬r granskning och merge.
- **Inv칛nta merge**: N칛r din PR godk칛nns och mergas till `main` sker resten automatiskt.

:::tip
Du beh칬ver inte k칬ra n친gra manuella release-kommandon. CI/CD-pipelinen hanterar hela releasen automatiskt! 游꿀
:::
