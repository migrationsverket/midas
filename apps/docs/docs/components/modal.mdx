---
title: Modal
tags: []
description: Modal som lägger sig över allt annat innehåll. 
---

import { PropTable } from "@site/src/components/propsTable";
import { ComponentHeader, ComponentFooter } from '@site/src/components/getComponentMetaData';
import Info from '@site/static/data/modal.json'
import LiveCodeBlock from '@site/src/components/CodeBlock/CodeBlock'
import { DialogTrigger, Modal, ModalHeader, ModalBody } from '@midas-ds/modal'
import { Button } from '@midas-ds/button'
import { Flex, FlexItem } from '@midas-ds/flex'
import { TextArea } from '@midas-ds/textarea'
import { Heading } from 'react-aria-components'

<ComponentHeader name={'Modal'} info={Info} friendlyName="Modal, Dialog, Dialogruta" overrideHeadlessLink="https://react-spectrum.adobe.com/react-aria/Dialog.html" />

## Introduktion

Modaler lägger sig över allt annat innehåll för att fokusera användarens fokus på en sak. 

## Installation och användning

```bash npm2yarn
npm install @midas-ds/modal
```

```tsx
import { Modal, DialogTrigger, ModalHeader, ModalBody } from '@midas-ds/modal'
```

<LiveCodeBlock scope={{DialogTrigger, Button, Modal, ModalHeader, ModalBody, Flex, FlexItem, Heading, TextArea}}>
{`<DialogTrigger>
    <Button>Radera frukter</Button>
    <Modal>
        {({ close }) => (
        <>
            <ModalHeader />
            <ModalBody
            style={{
                display: 'flex',
                flexDirection: 'column',
                gap: '2rem'
            }}
            >
            <Flex>
                <FlexItem>
                    <Heading
                        slot='title'
                        style={{ margin: 0 }}
                    >
                        Vill du radera alla frukter?
                    </Heading>
                    <p>Är du säker? De kan inte återskapas.</p>
                </FlexItem>
            </Flex>
            <Flex>
                <FlexItem col='auto'>
                    <Button onPress={close} variant="danger">Radera</Button>
                </FlexItem>
                <FlexItem>
                    <Button
                        onPress={close}
                        variant='secondary'
                    >
                        Avbryt
                    </Button>
                </FlexItem>
            </Flex>
            </ModalBody>
        </>
        )}
    </Modal>
</DialogTrigger>
`}
</LiveCodeBlock>

## Avancerat innehåll
Modaler kan även innehålla mer avancerat innehåll som ett formulär. Använd då autoFocus på första element för att användarens fokus ska flyttas dit när modalen öppnas.

<LiveCodeBlock scope={{DialogTrigger, Button, Modal, ModalHeader, ModalBody, Flex, FlexItem, Heading, TextArea}}>
{`<DialogTrigger>
    <Button>Öppna ansökan</Button>
    <Modal>
        {({ close }) => (
            <>
                <ModalHeader />
                <ModalBody
                style={{
                    display: 'flex',
                    flexDirection: 'column',
                    gap: '2rem'
                }}
                >
                <Flex>
                    <FlexItem>
                    <Heading
                        slot='title'
                        style={{ margin: 0 }}
                    >
                        Vill du avsluta uppdraget?
                    </Heading>
                    </FlexItem>
                </Flex>
                <Flex>
                    <FlexItem>
                    <TextArea
                        autoFocus
                        label='Ange anledning'
                        description='Skriv anledning'
                        maxCharacters={100}
                    />
                    </FlexItem>
                </Flex>
                <Flex>
                    <FlexItem col='auto'>
                    <Button onPress={close}>Spara korrespondens</Button>
                    </FlexItem>
                    <FlexItem>
                    <Button
                        onPress={close}
                        variant='secondary'
                    >
                        Avbryt
                    </Button>
                    </FlexItem>
                </Flex>
                </ModalBody>
            </>
        )}
    </Modal>
</DialogTrigger>
`}
</LiveCodeBlock>

## Stänga modal
I vår komponent `<ModalHeader />` som du bör placera först innuti din modal ingår en knapp för att stänga modalen. Modaler kan även stängas med tangentbordet (`esc`).
För att komma åt funktionen för att stänga modalen kan du antingen komma åt det via useContext eller via funktionen som kan används som direkt barn till `<Modal>`.

### Funktionen close
```tsx {3,6}
...
<Modal>
    {({close}) => (
        ...
        <Button 
         onPress={close}
        >
            Stäng modal
        </Button>
        ...
    )}
</Modal>
```

### useContext
```tsx {1,4,8,16}
import { OverlayTriggerStateContext } from '@midas-ds/modal'

const CloseButton: React.FC () => {
    const state = React.useContext(OverlayTriggerStateContext)

    return (
        <Button 
         onPress={state.close}
        >
            Stäng modal
        </Button>
    )
}
...
<Modal>
    <CloseButton />
</Modal>
```

## Riktlinjer
TBD

## Beroenden
<ComponentFooter info={Info}/>