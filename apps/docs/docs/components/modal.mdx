---
title: Modal
description: Modal som lägger sig över allt annat innehåll.
---

import { PropTable } from '@site/src/components/propsTable'
import { ComponentHeader } from '@site/src/components/getComponentMetaData'
import LiveCodeBlock from '@site/src/components/CodeBlock/CodeBlock'
import { Button, DialogTrigger, Modal, Link } from '@midas-ds/components'

export const Example = props => {
  return (
    <LiveCodeBlock
      scope={{
        Button,
        DialogTrigger,
        Modal,
      }}
      {...props}
    >
      {`
      <DialogTrigger>
        <Button>Öppna modal</Button>
         <Modal title={'Rubrik'}>
         Innehåll i modal
         </Modal>
      </DialogTrigger>`}
    </LiveCodeBlock>
  )
}

<ComponentHeader
  name={'Modal'}
  friendlyName='Modal, Dialog, Dialogruta'
  overrideHeadlessLink='https://react-spectrum.adobe.com/react-spectrum/Dialog.html#dialog'
/>
En modal är en komponent som dyker upp som ett lager ovanpå tjänsten/webbplatsen. Modaler låser allt innehåll bakom den,
så att användaren måste interagera med innehållet innan den kan stänga rutan. Modaler används främst när direkt input
behövs från användaren. Använd därför dessa sparsamt och endast när det är nödvändigt då de avbryter användarens flöde.

<Example hideCode />

## Installation

```bash npm2yarn
npm install @midas-ds/components
```

```tsx
import { DialogTrigger, Modal } from '@midas-ds/components'
```

<Example hideExample />

## Varianter

För att stänga modal via klick utanför modalens yta, använd `isDismissable` på modalen.

```tsx title='Dismissable'
<DialogTrigger>
  <Button>Open</Button>
  <Modal
    //highlight-start
    isDismissable
    //highlight-end
    title={'Modal Title'}
  >
    /* Modal content */
  </Modal>
</DialogTrigger>
```

### Uncontrolled

Alla varianter av `<Button>` samt alla övriga [pressable](https://react-spectrum.adobe.com/react-aria/Dialog.html#custom-trigger)
element kan användas för att öppna modalen. För att stänga modalen med en knapp innanför modalen, använd `slot={'close'}`.

```tsx title='Uncontrolled Modal'
<DialogTrigger>
  <Button>Open</Button>
  <Modal title={'Modal Title'}>
    //highlight-start
    <Button slot={'close'}>Close</Button>
    //highlight-end
  </Modal>
</DialogTrigger>
```

### Controlled

Använd `isOpen` och `onOpenChange()` för att via state kontrollera om modalen är öppen eller stängd.

```tsx title='Controlled Modal'
/* imports and rest of app */
const [open, setOpen] = React.useState<boolean>(false)
/* trigger modal from anywhere */
<Button onPress={() => setOpen(true))}>Open</Button>
//highlight-start
<DialogTrigger isOpen={open} onOpenChange={setOpen}>
//highlight-end
  <Modal
    title={'Modal Title'}
  >
    /* Modal content */
  </Modal>
</DialogTrigger>
```

## Avancerat innehåll

Modaler kan även innehålla mer avancerat innehåll som ett formulär. Använd då autoFocus på första element för att användarens fokus ska flyttas dit när modalen öppnas.

```tsx title=AutoFocus
<DialogTrigger>
  <Button>Open</Button>
  <Modal title={'Modal Title'}>
//highlight-start
    <TextField label={'Name'} autoFocus>
//highlight-end
  </Modal>
</DialogTrigger>
```

## Riktlinjer

### Användning

Använd modal för:

- Att låta användaren bekräfta att den vill utföra en handling som kan få stor påverkan och som inte kan ångras.
- Enklare formulär

Undvik att använda modal för:

- Varningar. Använd istället <Link href="/components/toast" >Toast</Link> eller <Link href="/components/info-banner" >InfoBanner</Link>
- Situationer där användaren behöver kunna ta del av annan information under tiden som modalen är öppen.
- Långa formulär

### Knapparnas placering och ordning

Knapparna ska placeras i modalens nedre vänster kant. Jakande, accepterande knappar, placeras längst till vänster i knappgruppen, se riktlinjer för <Link href="/components/button" >Knappar</Link>

## API

### DialogTrigger

<PropTable name='DialogTrigger' />

### Modal

<PropTable name='Modal' />
