---
title: Modal
description: Modal som lägger sig över allt annat innehåll.
---

import { PropTable } from '@site/src/components/PropsTable'
import { ComponentHeader } from '@site/src/components/getComponentMetaData'
import { FormExample, ConfirmationExample } from '@site/src/components/examples/ModalExamples'

<ComponentHeader
  name='Modal'
  friendlyName='Modal, Dialog, Dialogruta'
  overrideHeadlessLink='https://react-spectrum.adobe.com/react-spectrum/Dialog.html#dialog'
/>
Komponent som dyker upp som ett lager ovanpå tjänsten/webbplatsen. Modalen hindrar åtkomst till det underliggande
lagret, så användaren måste interagera med modalen innan den kan gå vidare. Modaler används främst när det krävs ett
aktivt svar från användaren.

<FormExample />

## Användning

```tsx
import { DialogTrigger, Modal } from '@midas-ds/components'
```

```tsx
<DialogTrigger>
  <Button>Öppna modal</Button>
  <Modal title='Rubrik'>Innehåll i modal</Modal>
</DialogTrigger>
```

### Bekräftelsemodal

För att undvika oönskade fel kan en modal användas för att bekräfta en handling som har konsekvenser för användaren.

<ConfirmationExample />

## Varianter

För att stänga modal via klick utanför modalens yta, använd `isDismissable` på modalen.

```tsx
<DialogTrigger>
  <Button>Open</Button>
  <Modal
    //highlight-start
    isDismissable
    //highlight-end
    title='Modal Title'
  >
    /* Modal content */
  </Modal>
</DialogTrigger>
```

### Uncontrolled

Alla varianter av `<Button>` samt alla övriga [pressable](https://react-spectrum.adobe.com/react-aria/Dialog.html#custom-trigger)
element kan användas för att öppna modalen. För att stänga modalen med en knapp innanför modalen, använd `slot={'close'}`.

```tsx
<DialogTrigger>
  <Button>Open</Button>
  <Modal title='Modal Title'>
    //highlight-start
    <Button slot='close'>Close</Button>
    //highlight-end
  </Modal>
</DialogTrigger>
```

### Controlled

Använd `isOpen` och `onOpenChange()` för att via state kontrollera om modalen är öppen eller stängd.

```tsx
/* imports and rest of app */
const [open, setOpen] = React.useState<boolean>(false)

/* trigger modal from anywhere */
<Button onPress={() => setOpen(true))}>Open</Button>

//highlight-start
<DialogTrigger isOpen={open} onOpenChange={setOpen}>
//highlight-end
  <Modal
    title="Modal Title"
  >
    /* Modal content */
  </Modal>
</DialogTrigger>
```

## Avancerat innehåll

Modaler kan även innehålla mer avancerat innehåll som ett formulär. Använd då autoFocus på första element för att användarens fokus ska flyttas dit när modalen öppnas.

```tsx
<DialogTrigger>
  <Button>Open</Button>
  <Modal title="Modal Title">
    //highlight-start
    <TextField label="Name" autoFocus>
    //highlight-end
  </Modal>
</DialogTrigger>
```

## Riktlinjer

### Användning

Använd modaler sparsamt och endast när det är nödvändigt då de skapar avbrott i användarens flöde.

Använd modal för:

- Att låta användaren bekräfta att den vill utföra en handling som kan få stor påverkan och som inte kan ångras.
- Enklare formulär

Undvik att använda modal för:

- Varningar. Använd istället [Toast](/components/toast) eller [InfoBanner](/components/info-banner)
- Situationer där användaren behöver kunna ta del av den underliggande sidans innehåll för att kunna ta ett beslut.
- Långa formulär

### Knapparnas placering och ordning

Knapparna ska placeras i modalens nedre vänster kant. Jakande, accepterande knappar, placeras längst till vänster i knappgruppen, se riktlinjer för [Knappar](/components/button)

## API

### DialogTrigger

<PropTable name='DialogTrigger' />

### Modal

<PropTable name='Modal' />
