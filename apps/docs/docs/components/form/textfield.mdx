---
title: TextField
description: Använd ett textfält när användaren ska fylla i en rad med text.
---

import { PropTable } from '@site/src/components/PropsTable'
import { TextField } from '@midas-ds/components'
import { ComponentHeader } from '@site/src/components/getComponentMetaData'
import { ControlledValue } from '@site/src/components/examples/form/TextFieldExamples'

<ComponentHeader
  name='Textfield'
  friendlyName='Inmatningsfält, textfält, nummerfält, lösenordsfält'
  overrideHeadlessLink='https://react-spectrum.adobe.com/react-aria/TextField.html'
/>

Inmatningsfält när användaren ska fylla i kortare information, tex namn, personnummer eller e-postadress. För längre inmatning används [TextArea](/components/form/textarea).

```tsx
import { TextField } from '@midas-ds/components'
```

```tsx
<TextField
  label='Etikett'
  description='Beskrivning'
/>
```

<div className='card'>
  <TextField
    label='Etikett'
    description='Beskrivning'
  />
</div>

## Beskrivning

TextField är en komposition av `<Input>`, `<Label>`, `<FieldError>` samt `<Text>` som alla är React Aria komponenter.
Beskrivning av hur de hänger ihop finns på React Arias [dokumentation för TextField](https://react-spectrum.adobe.com/react-aria/TextField.html#anatomy).
Elementen renderas som vanliga html `<label>` och `<input>` med fördelen att tillgänglighet avseende korrekt `<label>` är inbyggt
samt att validering fungerar både med native HTML eller med realtime/serverside validering. **MIDAS TextField** erbjuder därmed via
React Arias komponenter:

- Standard HTML-element renderade enligt MIDAS utseende
- Tillgänglighet via semantiskt sammankopplade labels och description
- Inbyggd formulärsvalidering för native HTML samt validering via andra bibliotek

## Användning i formulär

React Aria stöder native HTML-formulär via `name` prop och eftersom TextField komponenten i grunden rymmer en standard `<input>` fungerar
det som vanligt. Komponenten går också bra att använda i andra bibliotek för formulär. Se [React Arias dokumentation för
formulär](https://react-spectrum.adobe.com/react-aria/forms.html) för detaljer om hur den kan integreras i till exempel
React Hook Form eller server-side validation.

### Uncontrolled value

Använd `defaultValue` för att sätta ett uncontrolled value på ett TextField.

```tsx
<TextField
  label='Skriv din favoritfrukt'
  defaultValue='Banan'
/>
```

<div className='card'>
  <TextField
    label='Skriv din favoritfrukt'
    defaultValue='Banan'
  />
</div>

### Controlled value

Använd `value` och `onChange` för att använda controlled value på TextField/Input. Använd prop `isInvalid` för att
kontrollera fältets validering via state.

```tsx title="ControlledValue.tsx"
const ControlledValue = () => {
  const [text, setText] = React.useState('')
  return (
    <>
      <TextField value={text} onChange={setText} label="Controlled value" />
      <Text>Text value: {text}</Text>
    </>
)
```

<ControlledValue />

### Inbyggd validering

TextField kan valideras precis som en standard `<input>` via **HTML constraint validation** genom att sätta exempelvis
`type="email"`, `isRequired`, `minLength` etc, eller ett eget `pattern` för godtycklig regular expression. Felmeddelanden
renderas automatiskt på valt språk i browsern. Se [API](#api) för möjliga varianter.

### Egen validering

Komponenten kan valideras med en egen funktion `validate()`.

```tsx
<TextField
  label='Skriv in frukt'
  isRequired
  //highlight-start
  validate={value => (value === 'frukt' ? true : 'Du måste skriva "frukt"')}
  //highlight-end
/>
```

Läs mer om validering i [React Arias dokumentation](https://react-spectrum.adobe.com/react-aria/forms.html#validation).

## Varianter

### Storlek

För att minska höjden på TextField, använd `size="medium"` som minskar padding i inputfältet.

```tsx
<TextField label="Large" /> // default is size="large"
//highlight-next-line
<TextField label="Medium" size="medium" />
```

<div className='card'>
  <span
    style={{
      display: 'flex',
      gap: '1rem',
      flexDirection: 'row',
    }}
  >
    <TextField
      label='Large'
      size='large'
      defaultValue='large textfield'
    />
    <TextField
      label='Medium'
      size='medium'
      defaultValue='medium textfield'
    />
  </span>
</div>

Varianterna är tillägg till React Arias ursprungliga implementation.

### Character counter

Använd `showCounter` för att visa antalet tecken som skrivits in i fältet.

```tsx
<TextField
  label='Skriv in frukt'
  maxLength={10}
  //highlight-start
  showCounter
  //highlight-end
/>
```

<div className='card'>
  <TextField
    label='Skriv in frukt'
    description='Max 10 tecken'
    maxLength={10}
    showCounter
  />
</div>

### Lösenord

Använd `type="password"` för att aktivera en knapp för att visa/dölja inmatat värde.

```tsx
<TextField
  label='Lösenord'
  //highlight-start
  type='password'
  //highlight-end
/>
```

<div className='card'>
  <TextField
    defaultValue='super-secret'
    label='Lösenord'
    autoComplete='off'
    type='password'
  />
</div>

## API

### TextField

<PropTable name='TextField' />
````
