---
title: Table
description: En enkel tabell för att visualisera data.
---

import { PropTable } from '@site/src/components/PropsTable'
import { ComponentHeader } from '@site/src/components/getComponentMetaData'
import {
  BasicExample,
  FullExample,
  ControlledExample,
  SortingExample,
} from '@site/src/components/examples/table/TableExamples'

<ComponentHeader
  name='Table'
  friendlyName='Tabell'
/>

Komponent för att visualisera data. Kan kombineras med andra komponenter, till exempel [Select](/components/select),
för att filtrera eller [SearchField](/components/search-field) för att söka osv.

:::info
Denna komponent är utformad för att visa data på ett enkelt och okomplicerat sätt. Om dina behov är mer komplexa och kräver avancerade funktioner som paginering, sortering, filtrering eller omfattande anpassning, rekommenderar vi att du överväger [Tanstack Table](https://tanstack.com/table/v8). För att få en Midas-liknande stil och känsla, se vår [guide för Midas-tema för Tanstack Table](/dev/tanstack-table).
:::

```tsx
import { Table, TableHeader, Column, TableBody, Row, Cell } from '@midas-ds/components'
```

```tsx
<Table aria-label='Fruit'>
  <TableHeader>
    <Column>Name</Column>
    <Column>Description</Column>
  </TableHeader>
  <TableBody>
    <Row>
      <Cell>Banana</Cell>
      <Cell>A yellow fruit</Cell>
    </Row>
    <Row>
      <Cell>Pear</Cell>
      <Cell>Usually green</Cell>
    </Row>
  </TableBody>
</Table>
```

<BasicExample />

## Varianter

För en tabell behövs data för hur kolumnerna och raderna ska få sitt innehåll. Vi kommer basera samtliga tabeller på följande dataset.
Börja med att sätta upp dina kolumner. Nycklarna på raderna ska sedan referera till värdet för kolumnernas `id`, i det här fallet `name` och `description`.

```tsx
const columns = [
  { name: 'Namn', id: 'name', isRowHeader: true },
  { name: 'Beskrivning', id: 'description', width: 'max-content' },
]

const rows = [
  {
    id: 'apple',
    name: 'Apple',
    description: 'Pink lady is a good one',
  },
  {
    id: 'banana',
    name: 'Banana',
    description: 'A yellow fruit',
  },
  {
    id: 'pear',
    name: 'Pear',
    description: 'Usually green',
  },
]
```

### Standardtabell

```tsx
<Table aria-label='Fruit'>
  <TableHeader columns={columns}>
    {column => {
      return <Column isRowHeader={column.isRowHeader}>{column.name}</Column>
    }}
  </TableHeader>
  <TableBody items={rows}>
    {item => {
      return (
        <Row columns={columns}>
          {column => {
            return <Cell>{item[column.id]}</Cell>
          }}
        </Row>
      )
    }}
  </TableBody>
</Table>
```

<FullExample />

### Zebrarandiga rader

Använd `striped` om du vill att raderna ska vara zebrarandiga. Det är särskilt användbart i breda tabeller med många kolumner, där det annars kan vara svårt för användaren att följa en enskild rad horisontellt.

```tsx
<Table
  aria-label='Fruit'
  // highlight-start
  striped
  // highlight-end
>
  ...
</Table>
```

<FullExample striped />

### Kompakt tabell

Använd `size='medium'` om du vill ha en kompaktare tabell.

```tsx
<Table
  aria-label='Fruit'
  // highlight-start
  size='medium'
  // highlight-end
>
  ...
</Table>
```

<FullExample size='medium' />

## Valbara rader

Tabellen har inbyggd funktion för att kunna välja en eller flera rader med `selectionMode` vilket kan vara antingen `single` eller `multiple`

```tsx title="single"
<Table
  aria-label='Fruit'
  // highlight-start
  selectionMode='single'
  // highlight-end
>
  ...
</Table>
```

<FullExample selectionMode='single' />

```tsx title="multiple"
<Table
  aria-label='Fruit'
  // highlight-start
  selectionMode='multiple'
  // highlight-end
>
  ...
</Table>
```

<FullExample selectionMode='multiple' />

#### Kontrollerade val

Om du själv vill ha kontroll över vilka eller vilken rad som är vald kan du använda `useState`

```tsx
import type React from 'react'
import type { Selection } from 'react-aria-components'
```

```tsx
const [selectedKeys, setSelectedKeys] = React.useState<Selection>(new Set(['apple']))

<Table
  aria-label='Fruit'
  // highlight-start
  selectedKeys={selectedKeys}
  onSelectionChange={setSelectedKeys}
  selectionMode='multiple'
  // highlight-end
>
  ...
</Table>
```

<ControlledExample />

## Sortering

Tabellen har inbyggd support för sortering. Använd `sortDescriptor` och `onSortChange` för att hantera sorteringen, och sätt `allowsSorting` på de kolumner som ska vara sorterbara.

```tsx
import type { SortDescriptor } from 'react-aria-components'

const [sortDescriptor, setSortDescriptor] = React.useState<SortDescriptor>({
  column: 'name',
  direction: 'ascending',
})

const sortedRows = [...rows].sort((a, b) => {
  const first = a[sortDescriptor.column]
  const second = b[sortDescriptor.column]
  let cmp = 0

  if (typeof first === 'string' && typeof second === 'string') {
    cmp = first.localeCompare(second)
  } else if (typeof first === 'number' && typeof second === 'number') {
    cmp = first - second
  }

  if (sortDescriptor.direction === 'descending') {
    cmp *= -1
  }

  return cmp
})

<Table
  aria-label='Fruit'
  // highlight-start
  sortDescriptor={sortDescriptor}
  onSortChange={setSortDescriptor}
  // highlight-end
>
  <TableHeader columns={columns}>
    {column => (
      <Column
        isRowHeader={column.isRowHeader}
        // highlight-start
        allowsSorting
        // highlight-end
      >
        {column.name}
      </Column>
    )}
  </TableHeader>
  <TableBody items={sortedRows}>
    {item => (
      <Row columns={columns}>
        {column => <Cell>{item[column.id]}</Cell>}
      </Row>
    )}
  </TableBody>
</Table>
```

<SortingExample />

## Virtuell tabell

För stora tabeller med mycket data kan en [`Virtualizer`](https://react-spectrum.adobe.com/react-aria/Virtualizer.html) hjälpa till att reducera mängden renderade DOM-element, begränsat till vad användaren ser för tillfället.

:::note
Notera att tabellen behöver ange ett värde för höjd och overflow.
:::

:::note
För användning av randiga rader behöver `data-even`-attributet anges för jämna rader.
:::

```tsx
import { Virtualizer, TableLayout } from 'react-aria-components'
import { Table, TableHeader, Column, TableBody, Row, Cell } from '@midas-ds/components'

const VirtualizedExample = () => {
  const rows = [...Array.from(Array(5000).keys())].map(i => ({
    id: i,
    foo: `Foo: ${i}`,
    bar: `Bar: ${i}`,
    baz: `Baz: ${i}`,
  }))

  return (
    <Virtualizer
      layout={TableLayout}
      layoutOptions={{
        rowHeight: 48,
        headingHeight: 48,
      }}
    >
      <Table
        aria-label='Virtualized Table'
        selectionMode='multiple'
        striped
        style={{ height: 300, overflow: 'auto', scrollPaddingTop: 48 }}
      >
        <TableHeader>
          <Column isRowHeader>Foo</Column>
          <Column>Bar</Column>
          <Column>Baz</Column>
        </TableHeader>
        <TableBody items={rows}>
          {item => (
            <Row data-even={item.id % 2 === 0}>
              <Cell>{item.foo}</Cell>
              <Cell>{item.bar}</Cell>
              <Cell>{item.baz}</Cell>
            </Row>
          )}
        </TableBody>
      </Table>
    </Virtualizer>
  )
}
```

En demo av denna kod finns på vår Storybook.

## API

### Table

<PropTable name='Table' />

### TableHeader

<PropTable
  name='TableHeader'
  defaultOpen={false}
/>

### Row

<PropTable
  name='Row'
  defaultOpen={false}
/>

### Column

<PropTable
  name='Column'
  defaultOpen={false}
/>

### Cell

<PropTable
  name='Cell'
  defaultOpen={false}
/>
