# Sök och filtrering

import useBaseUrl from '@docusaurus/useBaseUrl'
import ThemedImage from '@theme/ThemedImage'

import { NoHitsExample } from '@site/src/components/examples/search-and-filter/SearchExamples'

På denna sida beskrivs begreppen sökning och filtrering samt designmönster för respektive situation.
Tekniskt är det inte någon skillnad på sökning och filtrering, båda är sätt att begränsa mängden data som visas i en tabell eller en lista. Men från användarens perspektiv är detta två olika uppgifter och det är därför vi väljer att skilja på dem.

Vi definierar en sökning som det användaren gör innan det inte finns någon data att ta ställning till. Syftet med sökningen är att se vad det finns för data. En filtrering görs efter sökningen, när användaren har tillgång till datan. Syftet med filtrering är att begränsa mängden data till det som är relevant för användaren.

## Sökning

En sökning sker som sagt innan det finns någon data att ta ställning till. Användaren vet inte vilka värden som finns och sökningen är därför öppen och ostrukturerad, vanligtvis i form av där användaren själv formulerar sin sökterm. I vissa fall behövs dock en mer avancerad sökning med flera alternativ och då använder vi samma designmönster som för filtrering, se nedan.

### Inga träffar

:::warning
OBS: Det är skillnad mellan tekniskt fel och tomt resultat. Om det är ett tekniskt fel så visar vi ett felmeddelande.
:::
När användaren söker finns det en risk att de inte får några träffar. Om detta händer visar vi en Infobanner där träffarna skulle ha varit. I meddelandet bör vi också ge användaren konstruktiva förslag på vad de kan göra för att få träffar.

<NoHitsExample />

## Filtrering

Till skillnad från sökning, som är mer utforskande, bygger filtrering oftast på fördefinierade värden. Användaren väljer aktivt vilka kriterier som ska gälla och kan kombinera flera filter för att begränsa träffmängden. Filtrering ska vara tydlig, kontrollerbar och göra det enkelt att förstå vilka urval som påverkar den visade datan.
Filtreringen är därför mer styrd och användaren väljer oftast från en uppsättning av fördefinierade val.

Nedan följer ett antal designmönster för filtrering i tabeller och listor

### Inline-filter

Inline-filter innebär att filtren placeras direkt ovanför tabellen och är alltid synliga. Detta gör det enkelt att upptäcka vilka filter som finns tillgängliga, se vilka filter som redan är aktiva samt justera flera filter på en gång utan extra interaktioner. Du kan [se ett exempel på detta mönster här](/dev/tanstack-table/#filtrering)

Använd detta mönster när

- du har ett fåtal filter
- användaren snabbt behöver kunna justera flera filter på en gång
- det är viktigt att direkt kunna se vilka filter som är aktiva

<InlineFilter />

Filtren kan vid behov läggas i en [Accordion](/components/accordion) för att kunna fällas ihop och ta mindre plats.

<InlineFilterAccordion />
### Filter i popover

I detta mönster öppnas filtervalen i en popover via en knapp eller en ikon. Det ger en fokuserad tabellvy och är användbart filtrering inte är användarens primära handling. Inne i popovern läggs filtren i [Accordion](/components/accordion) som kan expanderas och fällas ihop, vilket ger en tydlig och skalbar struktur även när det är många filter.

Använd detta mönster när

- filtreringen inte är en primär uppgift för de flesta användare
- det finns många filter
- du vill kunna gruppera filter

<FilterPopup />

export function InlineFilter() {
  const lightSrc = useBaseUrl('/img/inline-filter-light.svg');
  const darkSrc = useBaseUrl('/img/inline-filter-dark.svg');

return (

<ThemedImage
  alt='Inline filter'
  sources={{
    light: lightSrc,
    dark: darkSrc,
  }}
/>
); }

export function InlineFilterAccordion() {
  const lightSrc = useBaseUrl('/img/inline-accordion-light.svg');
  const darkSrc = useBaseUrl('/img/inline-accordion-dark.svg');

return (

<ThemedImage
  alt='Inline filter'
  sources={{
    light: lightSrc,
    dark: darkSrc,
  }}
/>
); }

export function FilterPopup() {
  const lightSrc = useBaseUrl('/img/filter-popover-light.svg');
  const darkSrc = useBaseUrl('/img/filter-popover-dark.svg');

return (

<ThemedImage
  alt='Inline filter'
  sources={{
    light: lightSrc,
    dark: darkSrc,
  }}
/>
); }
