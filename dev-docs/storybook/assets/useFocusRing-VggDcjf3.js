import{r as b,e as X,_ as tt,i as rt}from"./iframe-5BetUtcV.js";import{d as Ke,g as _,b as re,l as nt,f as ot}from"./utils-CoA_VPnw.js";import"./index-lQmPnj_E.js";const P=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},F=e=>e&&"window"in e&&e.window===e?e:P(e).defaultView||window;function at(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function it(e){return at(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let st=!1,lt=!1;function Jt(){return st}function pe(){return lt}function S(e,t){if(!pe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:it(r)?r=r.host:r=r.parentNode}return!1}const q=(e=document)=>{var t;if(!pe())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function T(e){return pe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}const ct=new Set(["id"]),ut=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),ft=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),dt=/^(data-.*)$/;function Qt(e,t={}){let{labelable:r,isLink:n,propNames:a}=t,u={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(ct.has(l)||r&&ut.has(l)||n&&ft.has(l)||a!=null&&a.has(l)||dt.test(l))&&(u[l]=e[l]);return u}function G(e){if(bt())e.focus({preventScroll:!0});else{let t=vt(e);e.focus(),pt(t)}}let Q=null;function bt(){if(Q==null){Q=!1;try{document.createElement("div").focus({get preventScroll(){return Q=!0,!0}})}catch{}}return Q}function vt(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function pt(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function ie(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function $e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function H(e){let t=null;return()=>(t==null&&(t=e()),t)}const j=H(function(){return $e(/^Mac/i)}),$t=H(function(){return $e(/^iPhone/i)}),_e=H(function(){return $e(/^iPad/i)||j()&&navigator.maxTouchPoints>1}),ge=H(function(){return $t()||_e()}),Zt=H(function(){return j()||ge()}),gt=H(function(){return ie(/AppleWebKit/i)&&!Et()}),Et=H(function(){return ie(/Chrome/i)}),Ae=H(function(){return ie(/Android/i)}),yt=H(function(){return ie(/Firefox/i)}),De=b.createContext({isNative:!0,open:ht,useHref:e=>e});function er(e){let{children:t,navigate:r,useHref:n}=e,a=b.useMemo(()=>({isNative:!1,open:(u,l,c,f)=>{Oe(u,v=>{mt(v,l)?r(c,f):B(v,l)})},useHref:n||(u=>u)}),[r,n]);return X.createElement(De.Provider,{value:a},t)}function Ie(){return b.useContext(De)}function mt(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function B(e,t,r=!0){var n,a;let{metaKey:u,ctrlKey:l,altKey:c,shiftKey:f}=t;yt()&&(!((a=window.event)===null||a===void 0||(n=a.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(j()?u=!0:l=!0);let v=gt()&&j()&&!_e()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:l,altKey:c,shiftKey:f}):new MouseEvent("click",{metaKey:u,ctrlKey:l,altKey:c,shiftKey:f,bubbles:!0,cancelable:!0});B.isOpening=r,G(e),e.dispatchEvent(v),B.isOpening=!1}B.isOpening=!1;function Oe(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function ht(e,t){Oe(e,r=>B(r,t))}function tr(e){let t=Ie();var r;const n=t.useHref((r=e.href)!==null&&r!==void 0?r:"");return{"data-href":e.href?n:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function rr(e){let t=Ie();var r;const n=t.useHref((r=e==null?void 0:e.href)!==null&&r!==void 0?r:"");return{href:e!=null&&e.href?n:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let A=new Map,fe=new Set;function we(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let a=A.get(n.target);a||(a=new Set,A.set(n.target,a),n.target.addEventListener("transitioncancel",r,{once:!0})),a.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let a=A.get(n.target);if(a&&(a.delete(n.propertyName),a.size===0&&(n.target.removeEventListener("transitioncancel",r),A.delete(n.target)),A.size===0)){for(let u of fe)u();fe.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?we():document.addEventListener("DOMContentLoaded",we));function Tt(){for(const[e]of A)"isConnected"in e&&!e.isConnected&&A.delete(e)}function Be(e){requestAnimationFrame(()=>{Tt(),A.size===0?e():fe.add(e)})}function Ee(){let e=b.useRef(new Map),t=b.useCallback((a,u,l,c)=>{let f=c!=null&&c.once?(...v)=>{e.current.delete(l),l(...v)}:l;e.current.set(l,{type:u,eventTarget:a,fn:f,options:c}),a.addEventListener(u,f,c)},[]),r=b.useCallback((a,u,l,c)=>{var f;let v=((f=e.current.get(l))===null||f===void 0?void 0:f.fn)||l;a.removeEventListener(u,v,c),e.current.delete(l)},[]),n=b.useCallback(()=>{e.current.forEach((a,u)=>{r(a.eventTarget,a.type,u,a.options)})},[r]);return b.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Ne(e,t){Ke(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function We(e){return e.mozInputSource===0&&e.isTrusted?!0:Ae()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Pt(e){return!Ae()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const ye=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],wt=ye.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";ye.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Lt=ye.join(':not([hidden]):not([tabindex="-1"]),');function xt(e){return e.matches(wt)}function nr(e){return e.matches(Lt)}function me(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Re(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ue(e){let t=b.useRef({isFocused:!1,observer:null});Ke(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=_(n=>{e==null||e(n)});return b.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,u=l=>{if(t.current.isFocused=!1,a.disabled){let c=me(l);r(c)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let c=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let ne=!1;function St(e){for(;e&&!xt(e);)e=e.parentElement;let t=F(e),r=t.document.activeElement;if(!r||r===e)return;ne=!0;let n=!1,a=$=>{($.target===r||n)&&$.stopImmediatePropagation()},u=$=>{($.target===r||n)&&($.stopImmediatePropagation(),!e&&!n&&(n=!0,G(r),f()))},l=$=>{($.target===e||n)&&$.stopImmediatePropagation()},c=$=>{($.target===e||n)&&($.stopImmediatePropagation(),n||(n=!0,G(r),f()))};t.addEventListener("blur",a,!0),t.addEventListener("focusout",u,!0),t.addEventListener("focusin",c,!0),t.addEventListener("focus",l,!0);let f=()=>{cancelAnimationFrame(v),t.removeEventListener("blur",a,!0),t.removeEventListener("focusout",u,!0),t.removeEventListener("focusin",c,!0),t.removeEventListener("focus",l,!0),ne=!1,n=!1},v=requestAnimationFrame(f);return f}let R="default",de="",te=new WeakMap;function kt(e){if(ge()){if(R==="default"){const t=P(e);de=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}R="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";te.set(e,e.style[t]),e.style[t]="none"}}function Le(e){if(ge()){if(R!=="disabled")return;R="restoring",setTimeout(()=>{Be(()=>{if(R==="restoring"){const t=P(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=de||""),de="",R="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&te.has(e)){let t=te.get(e),r="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[r]==="none"&&(e.style[r]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),te.delete(e)}}const Ge=X.createContext({register:()=>{}});Ge.displayName="PressResponderContext";function Ft(e,t){return t.get?t.get.call(e):t.value}function je(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Ct(e,t){var r=je(e,t,"get");return Ft(e,r)}function Mt(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function xe(e,t,r){var n=je(e,t,"set");return Mt(e,n,r),r}function Ht(e){let t=b.useContext(Ge);if(t){let{register:r,...n}=t;e=re(n,e),r()}return Ne(t,e.ref),e}var Z=new WeakMap;class ee{continuePropagation(){xe(this,Z,!1)}get shouldStopPropagation(){return Ct(this,Z)}constructor(t,r,n,a){tt(this,Z,{writable:!0,value:void 0}),xe(this,Z,!0);var u;let l=(u=a==null?void 0:a.target)!==null&&u!==void 0?u:n.currentTarget;const c=l==null?void 0:l.getBoundingClientRect();let f,v=0,$,p=null;n.clientX!=null&&n.clientY!=null&&($=n.clientX,p=n.clientY),c&&($!=null&&p!=null?(f=$-c.left,v=p-c.top):(f=c.width/2,v=c.height/2)),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=f,this.y=v}}const Se=Symbol("linkClicked"),ke="react-aria-pressable-style",Fe="data-react-aria-pressable";function or(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:a,onPressUp:u,onClick:l,isDisabled:c,isPressed:f,preventFocusOnPress:v,shouldCancelOnPointerExit:$,allowTextSelectionOnPress:p,ref:k,...x}=Ht(e),[K,E]=b.useState(!1),h=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:D}=Ee(),V=_((o,d)=>{let m=h.current;if(c||m.didFirePressStart)return!1;let i=!0;if(m.isTriggeringEvent=!0,n){let g=new ee("pressstart",d,o);n(g),i=g.shouldStopPropagation}return r&&r(!0),m.isTriggeringEvent=!1,m.didFirePressStart=!0,E(!0),i}),W=_((o,d,m=!0)=>{let i=h.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let g=!0;if(a){let s=new ee("pressend",d,o);a(s),g=s.shouldStopPropagation}if(r&&r(!1),E(!1),t&&m&&!c){let s=new ee("press",d,o);t(s),g&&(g=s.shouldStopPropagation)}return i.isTriggeringEvent=!1,g}),z=_((o,d)=>{let m=h.current;if(c)return!1;if(u){m.isTriggeringEvent=!0;let i=new ee("pressup",d,o);return u(i),m.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),I=_(o=>{let d=h.current;if(d.isPressed&&d.target){d.didFirePressStart&&d.pointerType!=null&&W(O(d.target,o),d.pointerType,!1),d.isPressed=!1,d.isOverTarget=!1,d.activePointerId=null,d.pointerType=null,D(),p||Le(d.target);for(let m of d.disposables)m();d.disposables=[]}}),Te=_(o=>{$&&I(o)}),le=_(o=>{l==null||l(o)}),Pe=_((o,d)=>{if(l){let m=new MouseEvent("click",o);Re(m,d),l(me(m))}}),et=b.useMemo(()=>{let o=h.current,d={onKeyDown(i){if(ce(i.nativeEvent,i.currentTarget)&&S(i.currentTarget,T(i.nativeEvent))){var g;Ce(T(i.nativeEvent),i.key)&&i.preventDefault();let s=!0;if(!o.isPressed&&!i.repeat){o.target=i.currentTarget,o.isPressed=!0,o.pointerType="keyboard",s=V(i,"keyboard");let y=i.currentTarget,w=C=>{ce(C,y)&&!C.repeat&&S(y,T(C))&&o.target&&z(O(o.target,C),"keyboard")};L(P(i.currentTarget),"keyup",nt(w,m),!0)}s&&i.stopPropagation(),i.metaKey&&j()&&((g=o.metaKeyEvents)===null||g===void 0||g.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(o.metaKeyEvents=new Map)},onClick(i){if(!(i&&!S(i.currentTarget,T(i.nativeEvent)))&&i&&i.button===0&&!o.isTriggeringEvent&&!B.isOpening){let g=!0;if(c&&i.preventDefault(),!o.ignoreEmulatedMouseEvents&&!o.isPressed&&(o.pointerType==="virtual"||We(i.nativeEvent))){let s=V(i,"virtual"),y=z(i,"virtual"),w=W(i,"virtual");le(i),g=s&&y&&w}else if(o.isPressed&&o.pointerType!=="keyboard"){let s=o.pointerType||i.nativeEvent.pointerType||"virtual",y=z(O(i.currentTarget,i),s),w=W(O(i.currentTarget,i),s,!0);g=y&&w,o.isOverTarget=!1,le(i),I(i)}o.ignoreEmulatedMouseEvents=!1,g&&i.stopPropagation()}}},m=i=>{var g;if(o.isPressed&&o.target&&ce(i,o.target)){var s;Ce(T(i),i.key)&&i.preventDefault();let w=T(i),C=S(o.target,T(i));W(O(o.target,i),"keyboard",C),C&&Pe(i,o.target),D(),i.key!=="Enter"&&he(o.target)&&S(o.target,w)&&!i[Se]&&(i[Se]=!0,B(o.target,i,!1)),o.isPressed=!1,(s=o.metaKeyEvents)===null||s===void 0||s.delete(i.key)}else if(i.key==="Meta"&&(!((g=o.metaKeyEvents)===null||g===void 0)&&g.size)){var y;let w=o.metaKeyEvents;o.metaKeyEvents=void 0;for(let C of w.values())(y=o.target)===null||y===void 0||y.dispatchEvent(new KeyboardEvent("keyup",C))}};if(typeof PointerEvent<"u"){d.onPointerDown=s=>{if(s.button!==0||!S(s.currentTarget,T(s.nativeEvent)))return;if(Pt(s.nativeEvent)){o.pointerType="virtual";return}o.pointerType=s.pointerType;let y=!0;if(!o.isPressed){o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=s.pointerId,o.target=s.currentTarget,p||kt(o.target),y=V(s,o.pointerType);let w=T(s.nativeEvent);"releasePointerCapture"in w&&w.releasePointerCapture(s.pointerId),L(P(s.currentTarget),"pointerup",i,!1),L(P(s.currentTarget),"pointercancel",g,!1)}y&&s.stopPropagation()},d.onMouseDown=s=>{if(S(s.currentTarget,T(s.nativeEvent))&&s.button===0){if(v){let y=St(s.target);y&&o.disposables.push(y)}s.stopPropagation()}},d.onPointerUp=s=>{!S(s.currentTarget,T(s.nativeEvent))||o.pointerType==="virtual"||s.button===0&&!o.isPressed&&z(s,o.pointerType||s.pointerType)},d.onPointerEnter=s=>{s.pointerId===o.activePointerId&&o.target&&!o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!0,V(O(o.target,s),o.pointerType))},d.onPointerLeave=s=>{s.pointerId===o.activePointerId&&o.target&&o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!1,W(O(o.target,s),o.pointerType,!1),Te(s))};let i=s=>{if(s.pointerId===o.activePointerId&&o.isPressed&&s.button===0&&o.target){if(S(o.target,T(s))&&o.pointerType!=null){let y=!1,w=setTimeout(()=>{o.isPressed&&o.target instanceof HTMLElement&&(y?I(s):(G(o.target),o.target.click()))},80);L(s.currentTarget,"click",()=>y=!0,!0),o.disposables.push(()=>clearTimeout(w))}else I(s);o.isOverTarget=!1}},g=s=>{I(s)};d.onDragStart=s=>{S(s.currentTarget,T(s.nativeEvent))&&I(s)}}return d},[L,c,v,D,p,I,Te,W,V,z,le,Pe]);return b.useEffect(()=>{if(!k)return;const o=P(k.current);if(!o||!o.head||o.getElementById(ke))return;const d=o.createElement("style");d.id=ke,d.textContent=`
@layer {
  [${Fe}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),o.head.prepend(d)},[k]),b.useEffect(()=>{let o=h.current;return()=>{var d;p||Le((d=o.target)!==null&&d!==void 0?d:void 0);for(let m of o.disposables)m();o.disposables=[]}},[p]),{isPressed:f||K,pressProps:re(x,et,{[Fe]:!0})}}function he(e){return e.tagName==="A"&&e.hasAttribute("href")}function ce(e,t){const{key:r,code:n}=e,a=t,u=a.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(a instanceof F(a).HTMLInputElement&&!Ve(a,r)||a instanceof F(a).HTMLTextAreaElement||a.isContentEditable)&&!((u==="link"||!u&&he(a))&&r!=="Enter")}function O(e,t){let r=t.clientX,n=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function Kt(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!he(e)}function Ce(e,t){return e instanceof HTMLInputElement?!Ve(e,t):Kt(e)}const _t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ve(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":_t.has(e.type)}let M=null,J=new Set,Y=new Map,N=!1,be=!1;const At={Tab:!0,Escape:!0};function se(e,t){for(let r of J)r(e,t)}function Dt(e){return!(e.metaKey||!j()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function oe(e){N=!0,Dt(e)&&(M="keyboard",se("keyboard",e))}function U(e){M="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(N=!0,se("pointer",e))}function ze(e){We(e)&&(N=!0,M="virtual")}function Ye(e){e.target===window||e.target===document||ne||!e.isTrusted||(!N&&!be&&(M="virtual",se("virtual",e)),N=!1,be=!1)}function Xe(){ne||(N=!1,be=!0)}function ae(e){if(typeof window>"u"||typeof document>"u"||Y.get(F(e)))return;const t=F(e),r=P(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){N=!0,n.apply(this,arguments)},r.addEventListener("keydown",oe,!0),r.addEventListener("keyup",oe,!0),r.addEventListener("click",ze,!0),t.addEventListener("focus",Ye,!0),t.addEventListener("blur",Xe,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",U,!0),r.addEventListener("pointermove",U,!0),r.addEventListener("pointerup",U,!0)),t.addEventListener("beforeunload",()=>{qe(e)},{once:!0}),Y.set(t,{focus:n})}const qe=(e,t)=>{const r=F(e),n=P(e);t&&n.removeEventListener("DOMContentLoaded",t),Y.has(r)&&(r.HTMLElement.prototype.focus=Y.get(r).focus,n.removeEventListener("keydown",oe,!0),n.removeEventListener("keyup",oe,!0),n.removeEventListener("click",ze,!0),r.removeEventListener("focus",Ye,!0),r.removeEventListener("blur",Xe,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",U,!0),n.removeEventListener("pointermove",U,!0),n.removeEventListener("pointerup",U,!0)),Y.delete(r))};function It(e){const t=P(e);let r;return t.readyState!=="loading"?ae(e):(r=()=>{ae(e)},t.addEventListener("DOMContentLoaded",r)),()=>qe(e,r)}typeof document<"u"&&It();function Je(){return M!=="pointer"}function Ot(){return M}function ar(e){M=e,se(e,null)}function ir(){ae();let[e,t]=b.useState(M);return b.useEffect(()=>{let r=()=>{t(M)};return J.add(r),()=>{J.delete(r)}},[]),rt()?null:e}const Bt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Nt(e,t,r){let n=P(r==null?void 0:r.target);const a=typeof window<"u"?F(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,u=typeof window<"u"?F(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?F(r==null?void 0:r.target).HTMLElement:HTMLElement,c=typeof window<"u"?F(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!Bt.has(n.activeElement.type)||n.activeElement instanceof u||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof c&&!At[r.key])}function Wt(e,t,r){ae(),b.useEffect(()=>{let n=(a,u)=>{Nt(!!(r!=null&&r.isTextInput),a,u)&&e(Je())};return J.add(n),()=>{J.delete(n)}},t)}function Rt(e){const t=P(e),r=q(t);if(Ot()==="virtual"){let n=r;Be(()=>{q(t)===n&&e.isConnected&&G(e)})}else G(e)}function Qe(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const u=b.useCallback(f=>{if(f.target===f.currentTarget)return n&&n(f),a&&a(!1),!0},[n,a]),l=Ue(u),c=b.useCallback(f=>{const v=P(f.target),$=v?q(v):q();f.target===f.currentTarget&&$===T(f.nativeEvent)&&(r&&r(f),a&&a(!0),l(f))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?c:void 0,onBlur:!t&&(n||a)?u:void 0}}}function Me(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(n),t&&r.stopPropagation()}}function Ut(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Me(e.onKeyDown),onKeyUp:Me(e.onKeyUp)}}}let Ze=X.createContext(null);function Gt(e){let t=b.useContext(Ze)||{};Ne(t,e);let{ref:r,...n}=t;return n}const sr=X.forwardRef(function(t,r){let{children:n,...a}=t,u=ot(r),l={...a,ref:u};return X.createElement(Ze.Provider,{value:l},n)});function lr(e,t){let{focusProps:r}=Qe(e),{keyboardProps:n}=Ut(e),a=re(r,n),u=Gt(t),l=e.isDisabled?{}:u,c=b.useRef(e.autoFocus);b.useEffect(()=>{c.current&&t.current&&Rt(t.current),c.current=!1},[t]);let f=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(f=void 0),{focusableProps:re({...a,tabIndex:f},l)}}function jt(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,u=b.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:c}=Ee(),f=b.useCallback(p=>{p.currentTarget.contains(p.target)&&u.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(u.current.isFocusWithin=!1,c(),r&&r(p),a&&a(!1))},[r,a,u,c]),v=Ue(f),$=b.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const k=P(p.target),x=q(k);if(!u.current.isFocusWithin&&x===T(p.nativeEvent)){n&&n(p),a&&a(!0),u.current.isFocusWithin=!0,v(p);let K=p.currentTarget;l(k,"focus",E=>{if(u.current.isFocusWithin&&!S(K,E.target)){let h=new k.defaultView.FocusEvent("blur",{relatedTarget:E.target});Re(h,K);let L=me(h);f(L)}},{capture:!0})}},[n,a,v,l,f]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:$,onBlur:f}}}let ve=!1,ue=0;function Vt(){ve=!0,setTimeout(()=>{ve=!1},50)}function He(e){e.pointerType==="touch"&&Vt()}function zt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",He),ue++,()=>{ue--,!(ue>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",He)}}function cr(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[u,l]=b.useState(!1),c=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(zt,[]);let{addGlobalListener:f,removeAllGlobalListeners:v}=Ee(),{hoverProps:$,triggerHoverEnd:p}=b.useMemo(()=>{let k=(E,h)=>{if(c.pointerType=h,a||h==="touch"||c.isHovered||!E.currentTarget.contains(E.target))return;c.isHovered=!0;let L=E.currentTarget;c.target=L,f(P(E.target),"pointerover",D=>{c.isHovered&&c.target&&!S(c.target,D.target)&&x(D,D.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:L,pointerType:h}),r&&r(!0),l(!0)},x=(E,h)=>{let L=c.target;c.pointerType="",c.target=null,!(h==="touch"||!c.isHovered||!L)&&(c.isHovered=!1,v(),n&&n({type:"hoverend",target:L,pointerType:h}),r&&r(!1),l(!1))},K={};return typeof PointerEvent<"u"&&(K.onPointerEnter=E=>{ve&&E.pointerType==="mouse"||k(E,E.pointerType)},K.onPointerLeave=E=>{!a&&E.currentTarget.contains(E.target)&&x(E,E.pointerType)}),{hoverProps:K,triggerHoverEnd:x}},[t,r,n,a,c,f,v]);return b.useEffect(()=>{a&&p({currentTarget:c.target},c.pointerType)},[a]),{hoverProps:$,isHovered:u}}function ur(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=b.useRef({isFocused:!1,isFocusVisible:t||Je()}),[u,l]=b.useState(!1),[c,f]=b.useState(()=>a.current.isFocused&&a.current.isFocusVisible),v=b.useCallback(()=>f(a.current.isFocused&&a.current.isFocusVisible),[]),$=b.useCallback(x=>{a.current.isFocused=x,l(x),v()},[v]);Wt(x=>{a.current.isFocusVisible=x,v()},[],{isTextInput:r});let{focusProps:p}=Qe({isDisabled:n,onFocusChange:$}),{focusWithinProps:k}=jt({isDisabled:!n,onFocusWithinChange:$});return{isFocused:u,isFocusVisible:c,focusProps:n?k:p}}export{cr as $,gt as A,Je as B,sr as C,Ee as D,G as E,Zt as F,B as G,ir as H,tr as I,Jt as J,_e as K,Qe as L,ge as M,Ut as N,ur as a,lr as b,Qt as c,F as d,jt as e,or as f,Ge as g,Ne as h,er as i,ar as j,pe as k,S as l,q as m,P as n,nr as o,xt as p,Rt as q,T as r,Ae as s,Et as t,Ot as u,Ie as v,rr as w,mt as x,Ze as y,j as z};
