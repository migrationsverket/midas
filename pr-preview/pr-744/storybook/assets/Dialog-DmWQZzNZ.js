import{f as xr}from"./Button-BnGcr9X4.js";import{g as j,e as H,d as U,l as de,b as X,c as te,$ as oe,a as Y,k as N,f as be,h as yr,m as fe,n as hr,i as Pr}from"./utils-RHx87K0F.js";import{$ as Er}from"./RSPContexts-HQcWPJyv.js";import{g as Cr,c as Dr,$ as Sr,a as Re,b as Mr,d as wr,e as kr}from"./OverlayArrow-CKbZP2rQ.js";import{e as Ar,$ as Br,c as $e,a as Tr,b as Rr,d as Fr,g as Or}from"./Collection-h-VYV8ts.js";import{$ as Kr,a as Ir,b as De,c as Lr,d as Nr}from"./Separator-x0qfR_Vk.js";import{r as d,R as g}from"./index-ClcD9ViR.js";import{$ as zr}from"./Text-CZ6zcozL.js";import{m as _r,e as Hr,M as Ur,E as I,c as z,v as Vr,f as Wr,$ as Fe,B as Se,N as jr,L as Gr,w as Xr,H as Yr,p as pe}from"./useFocusRing-zhkOjX4v.js";import{$ as me}from"./useResizeObserver-D8gvjDpO.js";import{l as qr,d as Zr,$ as Oe,a as Jr,b as Ke}from"./SelectionManager-BkX4LkPr.js";import{a as Qr,$ as Ie}from"./PressResponder-DWi2SZR7.js";import{$ as Le}from"./useLocalizedStringFormatter-DiUIqqhg.js";import{$ as Ne}from"./context-zNjZoWML.js";import{$ as en}from"./useControlledState-H1tiOFpU.js";import{c as tn,a as ze}from"./FocusScope-p3_VE_8x.js";import{$ as rn}from"./index-DQEgcCId.js";import{$ as nn}from"./SSRProvider-BhYbDCf7.js";import{b as on}from"./Hidden-BC9qER92.js";import{$ as _e}from"./getScrollParent-CvodOSaS.js";import{$ as an}from"./useLabels-FEgier_d.js";import{$ as sn}from"./VisuallyHidden-BekSNXsj.js";function ln(r){let{ref:e,onInteractOutside:t,isDisabled:o,onInteractOutsideStart:n}=r,s=d.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=j(a=>{t&&Me(a,e)&&(n&&n(a),s.current.isPointerDown=!0)}),u=j(a=>{t&&t(a)});d.useEffect(()=>{let a=s.current;if(o)return;const c=e.current,i=_r(c);if(typeof PointerEvent<"u"){let p=b=>{a.isPointerDown&&Me(b,e)&&u(b),a.isPointerDown=!1};return i.addEventListener("pointerdown",l,!0),i.addEventListener("click",p,!0),()=>{i.removeEventListener("pointerdown",l,!0),i.removeEventListener("click",p,!0)}}},[e,o,l,u])}function Me(r,e){if(r.button>0)return!1;if(r.target){const t=r.target.ownerDocument;if(!t||!t.documentElement.contains(r.target)||r.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!r.composedPath().includes(e.current):!1}const T=[];function un(r,e){let{onClose:t,shouldCloseOnBlur:o,isOpen:n,isDismissable:s=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:u}=r;d.useEffect(()=>{if(n&&!T.includes(e))return T.push(e),()=>{let $=T.indexOf(e);$>=0&&T.splice($,1)}},[n,e]);let a=()=>{T[T.length-1]===e&&t&&t()},c=$=>{(!u||u($.target))&&T[T.length-1]===e&&($.stopPropagation(),$.preventDefault())},i=$=>{(!u||u($.target))&&(T[T.length-1]===e&&($.stopPropagation(),$.preventDefault()),a())},p=$=>{$.key==="Escape"&&!l&&!$.nativeEvent.isComposing&&($.stopPropagation(),$.preventDefault(),a())};ln({ref:e,onInteractOutside:s&&n?i:void 0,onInteractOutsideStart:c});let{focusWithinProps:b}=Hr({isDisabled:!o,onBlurWithin:$=>{!$.relatedTarget||tn($.relatedTarget)||(!u||u($.relatedTarget))&&(t==null||t())}}),f=$=>{$.target===$.currentTarget&&$.preventDefault()};return{overlayProps:{onKeyDown:p,...b},underlayProps:{onPointerDown:f}}}function He(r,e,t){let{type:o}=r,{isOpen:n}=e;d.useEffect(()=>{t&&t.current&&Cr.set(t.current,e.close)});let s;o==="menu"?s=!0:o==="listbox"&&(s="listbox");let l=H();return{triggerProps:{"aria-haspopup":s,"aria-expanded":n,"aria-controls":n?l:void 0,onPress:e.toggle},overlayProps:{id:l}}}const ie=typeof document<"u"&&window.visualViewport,cn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Q=0,ce;function dn(r={}){let{isDisabled:e}=r;U(()=>{if(!e)return Q++,Q===1&&(Ur()?ce=pn():ce=fn()),()=>{Q--,Q===0&&ce()}},[e])}function fn(){let r=window.innerWidth-document.documentElement.clientWidth;return de(r>0&&("scrollbarGutter"in document.documentElement.style?L(document.documentElement,"scrollbarGutter","stable"):L(document.documentElement,"paddingRight",`${r}px`)),L(document.documentElement,"overflow","hidden"))}function pn(){let r,e,t=c=>{r=_e(c.target,!0),!(r===document.documentElement&&r===document.body)&&r instanceof HTMLElement&&window.getComputedStyle(r).overscrollBehavior==="auto"&&(e=L(r,"overscrollBehavior","contain"))},o=c=>{if(!r||r===document.documentElement||r===document.body){c.preventDefault();return}r.scrollHeight===r.clientHeight&&r.scrollWidth===r.clientWidth&&c.preventDefault()},n=()=>{e&&e()},s=c=>{let i=c.target;bn(i)&&(u(),i.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{i.style.transform="",ie&&(ie.height<window.innerHeight?requestAnimationFrame(()=>{we(i)}):ie.addEventListener("resize",()=>we(i),{once:!0}))}))},l=null,u=()=>{if(l)return;let c=()=>{window.scrollTo(0,0)},i=window.pageXOffset,p=window.pageYOffset;l=de(V(window,"scroll",c),L(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),L(document.documentElement,"overflow","hidden"),L(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(i,p)}),window.scrollTo(0,0)},a=de(V(document,"touchstart",t,{passive:!1,capture:!0}),V(document,"touchmove",o,{passive:!1,capture:!0}),V(document,"touchend",n,{passive:!1,capture:!0}),V(document,"focus",s,!0));return()=>{e==null||e(),l==null||l(),a()}}function L(r,e,t){let o=r.style[e];return r.style[e]=t,()=>{r.style[e]=o}}function V(r,e,t,o){return r.addEventListener(e,t,o),()=>{r.removeEventListener(e,t,o)}}function we(r){let e=document.scrollingElement||document.documentElement,t=r;for(;t&&t!==e;){let o=_e(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let n=o.getBoundingClientRect().top,s=t.getBoundingClientRect().top;s>n+t.clientHeight&&(o.scrollTop+=s-n)}t=o.parentElement}}function bn(r){return r instanceof HTMLInputElement&&!cn.has(r.type)||r instanceof HTMLTextAreaElement||r instanceof HTMLElement&&r.isContentEditable}var Ue={};Ue={dismiss:"تجاهل"};var Ve={};Ve={dismiss:"Отхвърляне"};var We={};We={dismiss:"Odstranit"};var je={};je={dismiss:"Luk"};var Ge={};Ge={dismiss:"Schließen"};var Xe={};Xe={dismiss:"Απόρριψη"};var Ye={};Ye={dismiss:"Dismiss"};var qe={};qe={dismiss:"Descartar"};var Ze={};Ze={dismiss:"Lõpeta"};var Je={};Je={dismiss:"Hylkää"};var Qe={};Qe={dismiss:"Rejeter"};var et={};et={dismiss:"התעלם"};var tt={};tt={dismiss:"Odbaci"};var rt={};rt={dismiss:"Elutasítás"};var nt={};nt={dismiss:"Ignora"};var ot={};ot={dismiss:"閉じる"};var at={};at={dismiss:"무시"};var st={};st={dismiss:"Atmesti"};var lt={};lt={dismiss:"Nerādīt"};var ut={};ut={dismiss:"Lukk"};var it={};it={dismiss:"Negeren"};var ct={};ct={dismiss:"Zignoruj"};var dt={};dt={dismiss:"Descartar"};var ft={};ft={dismiss:"Dispensar"};var pt={};pt={dismiss:"Revocare"};var bt={};bt={dismiss:"Пропустить"};var $t={};$t={dismiss:"Zrušiť"};var mt={};mt={dismiss:"Opusti"};var gt={};gt={dismiss:"Odbaci"};var vt={};vt={dismiss:"Avvisa"};var xt={};xt={dismiss:"Kapat"};var yt={};yt={dismiss:"Скасувати"};var ht={};ht={dismiss:"取消"};var Pt={};Pt={dismiss:"關閉"};var Et={};Et={"ar-AE":Ue,"bg-BG":Ve,"cs-CZ":We,"da-DK":je,"de-DE":Ge,"el-GR":Xe,"en-US":Ye,"es-ES":qe,"et-EE":Ze,"fi-FI":Je,"fr-FR":Qe,"he-IL":et,"hr-HR":tt,"hu-HU":rt,"it-IT":nt,"ja-JP":ot,"ko-KR":at,"lt-LT":st,"lv-LV":lt,"nb-NO":ut,"nl-NL":it,"pl-PL":ct,"pt-BR":dt,"pt-PT":ft,"ro-RO":pt,"ru-RU":bt,"sk-SK":$t,"sl-SI":mt,"sr-SP":gt,"sv-SE":vt,"tr-TR":xt,"uk-UA":yt,"zh-CN":ht,"zh-TW":Pt};function $n(r){return r&&r.__esModule?r.default:r}function ke(r){let{onDismiss:e,...t}=r,o=Le($n(Et),"@react-aria/overlays"),n=an(t,o.format("dismiss")),s=()=>{e&&e()};return g.createElement(sn,null,g.createElement("button",{...n,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let W=new WeakMap,w=[];function mn(r,e=document.body){let t=new Set(r),o=new Set,n=a=>{for(let b of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(b);let c=b=>{if(t.has(b)||b.parentElement&&o.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of t)if(b.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),p=c(a);if(p===NodeFilter.FILTER_ACCEPT&&s(a),p!==NodeFilter.FILTER_REJECT){let b=i.nextNode();for(;b!=null;)s(b),b=i.nextNode()}},s=a=>{var c;let i=(c=W.get(a))!==null&&c!==void 0?c:0;a.getAttribute("aria-hidden")==="true"&&i===0||(i===0&&a.setAttribute("aria-hidden","true"),o.add(a),W.set(a,i+1))};w.length&&w[w.length-1].disconnect(),n(e);let l=new MutationObserver(a=>{for(let c of a)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...t,...o].some(i=>i.contains(c.target))){for(let i of c.removedNodes)i instanceof Element&&(t.delete(i),o.delete(i));for(let i of c.addedNodes)(i instanceof HTMLElement||i instanceof SVGElement)&&(i.dataset.liveAnnouncer==="true"||i.dataset.reactAriaTopLayer==="true")?t.add(i):i instanceof Element&&n(i)}});l.observe(e,{childList:!0,subtree:!0});let u={visibleNodes:t,hiddenNodes:o,observe(){l.observe(e,{childList:!0,subtree:!0})},disconnect(){l.disconnect()}};return w.push(u),()=>{l.disconnect();for(let a of o){let c=W.get(a);c!=null&&(c===1?(a.removeAttribute("aria-hidden"),W.delete(a)):W.set(a,c-1))}u===w[w.length-1]?(w.pop(),w.length&&w[w.length-1].observe()):w.splice(w.indexOf(u),1)}}function gn(r){let e=w[w.length-1];if(e&&!e.visibleNodes.has(r))return e.visibleNodes.add(r),()=>{e.visibleNodes.delete(r)}}function vn(r,e){let{triggerRef:t,popoverRef:o,groupRef:n,isNonModal:s,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u,...a}=r,c=a.trigger==="SubmenuTrigger",{overlayProps:i,underlayProps:p}=un({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||c,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u},n??o),{overlayProps:b,arrowProps:f,placement:$}=Dr({...a,targetRef:t,overlayRef:o,isOpen:e.isOpen,onClose:s&&!c?e.close:null});return dn({isDisabled:s||!e.isOpen}),U(()=>{if(e.isOpen&&o.current){var x,v;return s?gn((x=n==null?void 0:n.current)!==null&&x!==void 0?x:o.current):mn([(v=n==null?void 0:n.current)!==null&&v!==void 0?v:o.current])}},[s,e.isOpen,o,n]),{popoverProps:X(i,b),arrowProps:f,underlayProps:p,placement:$}}const Ct=g.createContext(null);function Ae(r){let e=nn(),{portalContainer:t=e?null:document.body,isExiting:o}=r,[n,s]=d.useState(!1),l=d.useMemo(()=>({contain:n,setContain:s}),[n,s]),{getContainer:u}=Sr();if(!r.portalContainer&&u&&(t=u()),!t)return null;let a=r.children;return r.disableFocusManagement||(a=g.createElement(ze,{restoreFocus:!0,contain:(r.shouldContainFocus||n)&&!o},a)),a=g.createElement(Ct.Provider,{value:l},g.createElement(Qr,null,a)),rn.createPortal(a,t)}function xn(){let r=d.useContext(Ct),e=r==null?void 0:r.setContain;U(()=>{e==null||e(!0)},[e])}var Dt={};Dt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var St={};St={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Mt={};Mt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var wt={};wt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var kt={};kt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var At={};At={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Bt={};Bt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Tt={};Tt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Rt={};Rt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ft={};Ft={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ot={};Ot={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Kt={};Kt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var It={};It={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Lt={};Lt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Nt={};Nt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var zt={};zt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var _t={};_t={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Ht={};Ht={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Ut={};Ut={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Vt={};Vt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Wt={};Wt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var jt={};jt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Gt={};Gt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Xt={};Xt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Yt={};Yt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var qt={};qt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Zt={};Zt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Jt={};Jt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Qt={};Qt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var er={};er={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var tr={};tr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var rr={};rr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var nr={};nr={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var or={};or={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ar={};ar={"ar-AE":Dt,"bg-BG":St,"cs-CZ":Mt,"da-DK":wt,"de-DE":kt,"el-GR":At,"en-US":Bt,"es-ES":Tt,"et-EE":Rt,"fi-FI":Ft,"fr-FR":Ot,"he-IL":Kt,"hr-HR":It,"hu-HU":Lt,"it-IT":Nt,"ja-JP":zt,"ko-KR":_t,"lt-LT":Ht,"lv-LV":Ut,"nb-NO":Vt,"nl-NL":Wt,"pl-PL":jt,"pt-BR":Gt,"pt-PT":Xt,"ro-RO":Yt,"ru-RU":qt,"sk-SK":Zt,"sl-SI":Jt,"sr-SP":Qt,"sv-SE":er,"tr-TR":tr,"uk-UA":rr,"zh-CN":nr,"zh-TW":or};function yn(r){return r&&r.__esModule?r.default:r}function hn(r,e,t){let{type:o="menu",isDisabled:n,trigger:s="press"}=r,l=H(),{triggerProps:u,overlayProps:a}=He({type:o},e,t),c=f=>{if(!n&&!(s==="longPress"&&!f.altKey)&&t&&t.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},i=Le(yn(ar),"@react-aria/menu"),{longPressProps:p}=qr({isDisabled:n||s!=="longPress",accessibilityDescription:i.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!n&&(I(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!n&&(I(f.target),e.toggle())}};return delete u.onPress,{menuTriggerProps:{...u,...s==="press"?b:p,id:l,onKeyDown:c},menuProps:{...a,"aria-labelledby":l,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const sr=new WeakMap;function Pn(r,e,t){let{shouldFocusWrap:o=!0,onKeyDown:n,onKeyUp:s,...l}=r;!r["aria-label"]&&r["aria-labelledby"];let u=z(r,{labelable:!0}),{listProps:a}=Kr({...l,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return sr.set(e,{onClose:r.onClose,onAction:r.onAction,shouldUseVirtualFocus:r.shouldUseVirtualFocus}),{menuProps:X(u,{onKeyDown:n,onKeyUp:s},{role:"menu",...a,onKeyDown:c=>{var i;(c.key!=="Escape"||r.shouldUseVirtualFocus)&&((i=a.onKeyDown)===null||i===void 0||i.call(a,c))}})}}function En(r,e,t){let{id:o,key:n,closeOnSelect:s,isVirtualized:l,"aria-haspopup":u,onPressStart:a,onPressUp:c,onPress:i,onPressChange:p,onPressEnd:b,onHoverStart:f,onHoverChange:$,onHoverEnd:x,onKeyDown:v,onKeyUp:M,onFocus:k,onFocusChange:A,onBlur:B,selectionManager:h=e.selectionManager}=r,C=!!u,D=C&&r["aria-expanded"]==="true";var S;let m=(S=r.isDisabled)!==null&&S!==void 0?S:h.isDisabled(n);var P;let O=(P=r.isSelected)!==null&&P!==void 0?P:h.isSelected(n),F=sr.get(e),E=e.collection.getItem(n),R=r.onClose||F.onClose,Z=Vr(),K=y=>{var ue;if(!C){if(!(E==null||(ue=E.props)===null||ue===void 0)&&ue.onAction?E.props.onAction():r.onAction&&r.onAction(n),F.onAction){let vr=F.onAction;vr(n)}y.target instanceof HTMLAnchorElement&&E&&Z.open(y.target,y,E.props.href,E.props.routerOptions)}},le="menuitem";C||(h.selectionMode==="single"?le="menuitemradio":h.selectionMode==="multiple"&&(le="menuitemcheckbox"));let xe=te(),ye=te(),he=te(),J={id:o,"aria-disabled":m||void 0,role:le,"aria-label":r["aria-label"],"aria-labelledby":xe,"aria-describedby":[ye,he].filter(Boolean).join(" ")||void 0,"aria-controls":r["aria-controls"],"aria-haspopup":u,"aria-expanded":r["aria-expanded"]};h.selectionMode!=="none"&&!C&&(J["aria-checked"]=O),l&&(J["aria-posinset"]=E==null?void 0:E.index,J["aria-setsize"]=Ir(e.collection));let ir=y=>{y.pointerType==="keyboard"&&K(y),a==null||a(y)},Pe=()=>{!C&&R&&(s??(h.selectionMode!=="multiple"||h.isLink(n)))&&R()},cr=y=>{y.pointerType==="mouse"&&(K(y),Pe()),c==null||c(y)},dr=y=>{y.pointerType!=="keyboard"&&y.pointerType!=="mouse"&&(K(y),Pe()),i==null||i(y)},{itemProps:_,isFocused:Ee}=Zr({id:o,selectionManager:h,key:n,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:F.shouldUseVirtualFocus}),{pressProps:fr,isPressed:pr}=Wr({onPressStart:ir,onPress:dr,onPressUp:cr,onPressChange:p,onPressEnd:b,isDisabled:m}),{hoverProps:br}=Fe({isDisabled:m,onHoverStart(y){!Se()&&!(D&&u)&&(h.setFocused(!0),h.setFocusedKey(n)),f==null||f(y)},onHoverChange:$,onHoverEnd:x}),{keyboardProps:$r}=jr({onKeyDown:y=>{if(y.repeat){y.continuePropagation();return}switch(y.key){case" ":!m&&h.selectionMode==="none"&&!C&&s!==!1&&R&&R();break;case"Enter":!m&&s!==!1&&!C&&R&&R();break;default:C||y.continuePropagation(),v==null||v(y);break}},onKeyUp:M}),{focusProps:mr}=Gr({onBlur:B,onFocus:k,onFocusChange:A}),Ce=z(E==null?void 0:E.props);delete Ce.id;let gr=Xr(E==null?void 0:E.props);return{menuItemProps:{...J,...X(Ce,gr,C?{onFocus:_.onFocus,"data-collection":_["data-collection"],"data-key":_["data-key"]}:_,fr,br,$r,mr,F.shouldUseVirtualFocus||C?{onMouseDown:y=>y.preventDefault()}:void 0),tabIndex:_.tabIndex!=null&&D&&!F.shouldUseVirtualFocus?-1:_.tabIndex},labelProps:{id:xe},descriptionProps:{id:ye},keyboardShortcutProps:{id:he},isFocused:Ee,isFocusVisible:Ee&&h.isFocused&&Se()&&!D,isSelected:O,isPressed:pr,isDisabled:m}}function Cn(r){let{heading:e,"aria-label":t}=r,o=H();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?o:void 0}}}const ee=2,Dn=50,Sn=1e3,Be=Math.PI/12;function Mn(r){let{menuRef:e,submenuRef:t,isOpen:o,isDisabled:n}=r,s=d.useRef(void 0),l=d.useRef(void 0),u=d.useRef(0),a=d.useRef(void 0),c=d.useRef(void 0),i=d.useRef(void 0),p=d.useRef(2),[b,f]=d.useState(!1);me({ref:t,onResize:()=>{t.current&&(l.current=t.current.getBoundingClientRect(),i.current=void 0)}});let x=()=>{f(!1),p.current=ee,s.current=void 0},v=Yr(),M=j(k=>{b&&k.preventDefault()});d.useEffect(()=>{b&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,b]),d.useEffect(()=>{let k=t.current,A=e.current;if(n||!k||!o||v!=="pointer"||!A){x();return}l.current=k.getBoundingClientRect();let B=h=>{if(h.pointerType==="touch"||h.pointerType==="pen")return;let C=Date.now();if(C-u.current<Dn)return;clearTimeout(a.current),clearTimeout(c.current);let{clientX:D,clientY:S}=h;if(!s.current){s.current={x:D,y:S};return}if(!l.current)return;if(i.current||(i.current=D>l.current.right?"left":"right"),D<A.getBoundingClientRect().left||D>A.getBoundingClientRect().right||S<A.getBoundingClientRect().top||S>A.getBoundingClientRect().bottom){x();return}let m=s.current.x,P=s.current.y,O=i.current==="right"?l.current.left-m:m-l.current.right,F=Math.atan2(P-l.current.top,O)+Be,E=Math.atan2(P-l.current.bottom,O)-Be,R=Math.atan2(P-S,i.current==="left"?-(D-m):D-m),Z=R<F&&R>E;p.current=Z?Math.min(p.current+1,ee):Math.max(p.current-1,0),p.current>=ee?f(!0):f(!1),u.current=C,s.current={x:D,y:S},Z&&(a.current=setTimeout(()=>{x(),c.current=setTimeout(()=>{let K=document.elementFromPoint(D,S);K&&A.contains(K)&&K.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},Sn))};return window.addEventListener("pointermove",B),window.addEventListener("pointerdown",M,!0),()=>{window.removeEventListener("pointermove",B),window.removeEventListener("pointerdown",M,!0),clearTimeout(a.current),clearTimeout(c.current),p.current=ee}},[n,o,e,v,f,M,t])}function wn(r,e,t){let{parentMenuRef:o,submenuRef:n,type:s="menu",isDisabled:l,delay:u=200,shouldUseVirtualFocus:a}=r,c=H(),i=H(),{direction:p}=Ne(),b=d.useRef(void 0),f=d.useCallback(()=>{b.current&&(clearTimeout(b.current),b.current=void 0)},[b]),$=j(m=>{f(),e.open(m)}),x=j(()=>{f(),e.close()});U(()=>()=>{f()},[f]);let v=m=>{if(m.currentTarget.contains(document.activeElement))switch(m.key){case"ArrowLeft":p==="ltr"&&m.currentTarget.contains(m.target)&&(m.preventDefault(),m.stopPropagation(),x(),!a&&t.current&&I(t.current));break;case"ArrowRight":p==="rtl"&&m.currentTarget.contains(m.target)&&(m.preventDefault(),m.stopPropagation(),x(),!a&&t.current&&I(t.current));break;case"Escape":var P;!((P=n.current)===null||P===void 0)&&P.contains(m.target)&&(m.stopPropagation(),x(),!a&&t.current&&I(t.current));break}};var M;let k={id:i,"aria-labelledby":c,submenuLevel:e.submenuLevel,...s==="menu"&&{onClose:e.closeAll,autoFocus:(M=e.focusStrategy)!==null&&M!==void 0?M:void 0,onKeyDown:v}},A=m=>{switch(m.key){case"ArrowRight":l||(p==="ltr"?(m.preventDefault(),e.isOpen||$("first"),s==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&I(n.current)):e.isOpen?x():m.continuePropagation());break;case"ArrowLeft":l||(p==="rtl"?(m.preventDefault(),e.isOpen||$("first"),s==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&I(n.current)):e.isOpen?x():m.continuePropagation());break;default:m.continuePropagation();break}},B=m=>{!l&&(m.pointerType==="virtual"||m.pointerType==="keyboard")&&$("first")},h=m=>{!l&&(m.pointerType==="touch"||m.pointerType==="mouse")&&$()},C=m=>{l||(m&&!e.isOpen?b.current||(b.current=setTimeout(()=>{$()},u)):m||f())},D=m=>{var P;e.isOpen&&(!((P=o.current)===null||P===void 0)&&P.contains(m.relatedTarget))&&x()},S=m=>m!==t.current;return Mn({menuRef:o,submenuRef:n,isOpen:e.isOpen,isDisabled:l}),{submenuTriggerProps:{id:c,"aria-controls":e.isOpen?i:void 0,"aria-haspopup":l?void 0:s,"aria-expanded":e.isOpen?"true":"false",onPressStart:B,onPress:h,onHoverChange:C,onKeyDown:A,onBlur:D,isOpen:e.isOpen},submenuProps:k,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:S}}}function kn(r,e){let{role:t="dialog"}=r,o=te();o=r["aria-label"]?void 0:o;let n=d.useRef(!1);return d.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){pe(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(n.current=!0,e.current&&(e.current.blur(),pe(e.current)),n.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),xn(),{dialogProps:{...z(r,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":r["aria-labelledby"]||o,onBlur:s=>{n.current&&s.stopPropagation()}},titleProps:{id:o}}}function ge(r){let e=Re(r),[t,o]=d.useState(null),[n,s]=d.useState([]),l=()=>{s([]),e.close()};return{focusStrategy:t,...e,open(c=null){o(c),e.open()},toggle(c=null){o(c),e.toggle()},close(){l()},expandedKeysStack:n,openSubmenu:(c,i)=>{s(p=>i>p.length?p:[...p.slice(0,i),c])},closeSubmenu:(c,i)=>{s(p=>p[i]===c?p.slice(0,i):p)}}}function An(r,e){let{triggerKey:t}=r,{expandedKeysStack:o,openSubmenu:n,closeSubmenu:s,close:l}=e,[u]=d.useState(o==null?void 0:o.length),a=d.useMemo(()=>o[u]===t,[o,t,u]),[c,i]=d.useState(null),p=d.useCallback($=>{i($??null),n(t,u)},[n,u,t]),b=d.useCallback(()=>{i(null),s(t,u)},[s,u,t]),f=d.useCallback($=>{i($??null),a?b():p($)},[b,p,a]);return d.useMemo(()=>({focusStrategy:c,isOpen:a,open:p,close:b,closeAll:l,submenuLevel:u,setOpen:()=>{},toggle:f}),[a,p,b,l,c,f,u])}class Bn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var o;return t&&(o=t.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let t=this.keyMap.get(e);var o;return t&&(o=t.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let o=u=>{if(this.keyMap.set(u.key,u),u.childNodes&&(u.type==="section"||t.has(u.key)))for(let a of u.childNodes)o(a)};for(let u of e)o(u);let n=null,s=0;for(let[u,a]of this.keyMap)n?(n.nextKey=u,a.prevKey=n.key):(this.firstKey=u,a.prevKey=void 0),a.type==="item"&&(a.index=s++),n=a,n.nextKey=void 0;var l;this.lastKey=(l=n==null?void 0:n.key)!==null&&l!==void 0?l:null}}function Tn(r){let{onExpandedChange:e}=r,[t,o]=en(r.expandedKeys?new Set(r.expandedKeys):void 0,r.defaultExpandedKeys?new Set(r.defaultExpandedKeys):new Set,e),n=Oe(r),s=d.useMemo(()=>r.disabledKeys?new Set(r.disabledKeys):new Set,[r.disabledKeys]),l=Jr(r,d.useCallback(a=>new Bn(a,{expandedKeys:t}),[t]),null);return d.useEffect(()=>{n.focusedKey!=null&&!l.getItem(n.focusedKey)&&n.setFocusedKey(null)},[l,n.focusedKey]),{collection:l,expandedKeys:t,disabledKeys:s,toggleKey:a=>{o(Rn(t,a))},setExpandedKeys:o,selectionManager:new Ke(l,n)}}function Rn(r,e){let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}const ae=d.createContext(null),Te=d.createContext(null),lo=d.forwardRef(function(e,t){[e,t]=oe(e,t,ae);let o=d.useContext(q),n=Re(e),s=e.isOpen!=null||e.defaultOpen!=null||!o?n:o,l=Mr(t,s.isOpen)||e.isExiting||!1,u=on(),{direction:a}=Ne();if(u){let c=e.children;return typeof c=="function"&&(c=c({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),g.createElement(g.Fragment,null,c)}return s&&!s.isOpen&&!l?null:g.createElement(Fn,{...e,triggerRef:e.triggerRef,state:s,popoverRef:t,isExiting:l,dir:a})});function Fn({state:r,isExiting:e,UNSTABLE_portalContainer:t,clearContexts:o,...n}){let s=d.useRef(null),[l,u]=d.useState(0),a=d.useRef(null),c=d.useContext(Te),i=c&&n.trigger==="SubmenuTrigger";U(()=>{s.current&&r.isOpen&&u(s.current.getBoundingClientRect().width)},[r.isOpen,s]);var p;let{popoverProps:b,underlayProps:f,arrowProps:$,placement:x}=vn({...n,offset:(p=n.offset)!==null&&p!==void 0?p:8,arrowSize:l,groupRef:i?c:a},r),v=n.popoverRef,M=wr(v,!!x)||n.isEntering||!1,k=Y({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:x,isEntering:M,isExiting:e}}),A=!n.isNonModal||n.trigger==="SubmenuTrigger",[B,h]=d.useState(!1);U(()=>{v.current&&h(A&&!v.current.querySelector("[role=dialog]"))},[v,A]),d.useEffect(()=>{B&&v.current&&!v.current.contains(document.activeElement)&&pe(v.current)},[B,v]);let C=d.useMemo(()=>{let P=k.children;if(o)for(let O of o)P=g.createElement(O.Provider,{value:null},P);return P},[k.children,o]),D={...b.style,...k.style},S=g.createElement("div",{...X(z(n),b),...k,role:B?"dialog":void 0,tabIndex:B?-1:void 0,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],ref:v,slot:n.slot||void 0,style:D,dir:n.dir,"data-trigger":n.trigger,"data-placement":x,"data-entering":M||void 0,"data-exiting":e||void 0},!n.isNonModal&&g.createElement(ke,{onDismiss:r.close}),g.createElement(kr.Provider,{value:{...$,placement:x,ref:s}},C),g.createElement(ke,{onDismiss:r.close}));if(!i)return g.createElement(Ae,{...n,shouldContainFocus:B,isExiting:e,portalContainer:t},!n.isNonModal&&r.isOpen&&g.createElement("div",{"data-testid":"underlay",...f,style:{position:"fixed",inset:0}}),g.createElement("div",{ref:a,style:{display:"contents"}},g.createElement(Te.Provider,{value:a},S)));var m;return g.createElement(Ae,{...n,shouldContainFocus:B,isExiting:e,portalContainer:(m=t??(c==null?void 0:c.current))!==null&&m!==void 0?m:void 0},S)}const On=d.createContext({}),ve=d.createContext(null),se=d.createContext(null),G=d.createContext(null),re=d.createContext(null);function uo(r){let e=ge(r),t=d.useRef(null),{menuTriggerProps:o,menuProps:n}=hn({...r,type:"menu"},e,t),[s,l]=d.useState(null),u=d.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);me({ref:t,onResize:u});let a=d.useRef(null);return g.createElement(N,{values:[[ve,{...n,ref:a}],[q,e],[G,e],[ae,{trigger:"MenuTrigger",triggerRef:t,scrollRef:a,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":n["aria-labelledby"]}]]},g.createElement(Ie,{...o,ref:t,isPressed:e.isOpen},r.children))}const lr=d.createContext(null),io=Ar("submenutrigger",(r,e,t)=>{let{CollectionBranch:o}=d.useContext($e),n=d.useContext(se),s=d.useContext(G),l=An({triggerKey:t.key},s),u=d.useRef(null),a=be(e),{parentMenuRef:c,shouldUseVirtualFocus:i}=d.useContext(lr),{submenuTriggerProps:p,submenuProps:b,popoverProps:f}=wn({parentMenuRef:c,submenuRef:u,delay:r.delay,shouldUseVirtualFocus:i},l,a);return g.createElement(N,{values:[[ne,{...p,onAction:void 0,ref:a}],[ve,b],[q,l],[ae,{ref:u,trigger:"SubmenuTrigger",triggerRef:a,placement:"end top","aria-labelledby":b["aria-labelledby"],...f}]]},g.createElement(o,{collection:n.collection,parent:t}),r.children[1])},r=>r.children[0]),co=d.forwardRef(function(e,t){return[e,t]=oe(e,t,ve),g.createElement(Tr,{content:g.createElement(Rr,e)},o=>g.createElement(Kn,{props:e,collection:o,menuRef:t}))});function Kn({props:r,collection:e,menuRef:t}){let{filter:o,collectionProps:n,collectionRef:s}=d.useContext(De)||{};t=be(d.useMemo(()=>hr(t,s!==void 0?s:null),[s,t]));let l=d.useMemo(()=>o?e.UNSTABLE_filter(o):e,[e,o]),u=Tn({...r,collection:l,children:void 0}),a=d.useContext(G),{isVirtualized:c,CollectionRoot:i}=d.useContext($e),{menuProps:p}=Pn({...r,...n,isVirtualized:c,onClose:r.onClose||(a==null?void 0:a.close)},u,t),b=Y({defaultClassName:"react-aria-Menu",className:r.className,style:r.style,values:{isEmpty:u.collection.size===0}}),f=null;return u.collection.size===0&&r.renderEmptyState&&(f=g.createElement("div",{role:"menuitem",style:{display:"contents"}},r.renderEmptyState())),g.createElement(ze,null,g.createElement("div",{...z(r),...p,...b,ref:t,slot:r.slot||void 0,"data-empty":u.collection.size===0||void 0,onScroll:r.onScroll},g.createElement(N,{values:[[se,u],[Lr,{elementType:"div"}],[Fr,{name:"MenuSection",render:Ln}],[lr,{parentMenuRef:t,shouldUseVirtualFocus:n==null?void 0:n.shouldUseVirtualFocus}],[ne,null],[De,null],[re,u.selectionManager],[G,a??ge({})]]},g.createElement(i,{collection:u.collection,persistedKeys:Or(u.selectionManager.focusedKey),scrollRef:t})),f))}class In extends Ke{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function Ln(r,e,t,o="react-aria-MenuSection"){var n,s;let l=d.useContext(se),{CollectionBranch:u}=d.useContext($e),[a,c]=Pr();var i;let{headingProps:p,groupProps:b}=Cn({heading:c,"aria-label":(i=t.props["aria-label"])!==null&&i!==void 0?i:void 0}),f=Y({defaultClassName:o,className:(n=t.props)===null||n===void 0?void 0:n.className,style:(s=t.props)===null||s===void 0?void 0:s.style,values:{}}),$=d.useContext(re),x=Oe(r),v=r.selectionMode!=null?new In($,x):$;return g.createElement("section",{...z(r),...b,...f,ref:e},g.createElement(N,{values:[[Nr,{...p,ref:a}],[re,v]]},g.createElement(u,{collection:l.collection,parent:t})))}const ne=d.createContext(null),fo=Br("item",function(e,t,o){var n;[e,t]=oe(e,t,ne);let s=(n=yr(ne))===null||n===void 0?void 0:n.id,l=d.useContext(se),u=be(t),a=d.useContext(re),{menuItemProps:c,labelProps:i,descriptionProps:p,keyboardShortcutProps:b,...f}=En({...e,id:s,key:o.key,selectionManager:a},l,u),{hoverProps:$,isHovered:x}=Fe({isDisabled:f.isDisabled}),v=Y({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:x,isFocusVisible:f.isFocusVisible,selectionMode:a.selectionMode,selectionBehavior:a.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),M=e.href?"a":"div";return g.createElement(M,{...X(c,$),...v,ref:u,"data-disabled":f.isDisabled||void 0,"data-hovered":x||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":a.selectionMode==="none"?void 0:a.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},g.createElement(N,{values:[[zr,{slots:{[fe]:i,label:i,description:p}}],[On,b]]},v.children))}),ur=d.createContext(null),q=d.createContext(null);function po(r){let e=ge(r),t=d.useRef(null),{triggerProps:o,overlayProps:n}=He({type:"dialog"},e,t),[s,l]=d.useState(null),u=d.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);return me({ref:t,onResize:u}),o.id=H(),n["aria-labelledby"]=o.id,g.createElement(N,{values:[[q,e],[G,e],[ur,n],[ae,{trigger:"DialogTrigger",triggerRef:t,"aria-labelledby":n["aria-labelledby"],style:{"--trigger-width":s}}]]},g.createElement(Ie,{...o,ref:t,isPressed:e.isOpen},r.children))}const bo=d.forwardRef(function(e,t){let o=e["aria-labelledby"];[e,t]=oe(e,t,ur);let{dialogProps:n,titleProps:s}=kn({...e,"aria-labelledby":o},t),l=d.useContext(q);!n["aria-label"]&&!n["aria-labelledby"]&&e["aria-labelledby"]&&(n["aria-labelledby"]=e["aria-labelledby"]);let u=Y({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(l==null?void 0:l.close)||(()=>{})}});return g.createElement("section",{...z(e),...n,...u,ref:t,slot:e.slot||void 0},g.createElement(N,{values:[[Er,{slots:{[fe]:{},title:{...s,level:2}}}],[xr,{slots:{[fe]:{},close:{onPress:()=>l==null?void 0:l.close()}}}]]},u.children))});export{po as $,fo as a,uo as b,lo as c,co as d,io as e,un as f,dn as g,xn as h,mn as i,q as j,ke as k,Ae as l,bo as m,ae as n,ur as o,hn as p,ge as q};
