import{e as Pr}from"./Button-Ze04MXeZ.js";import{g as j,e as H,d as U,l as de,b as q,c as re,$ as X,a as Y,k as N,h as Er,f as be,m as fe,n as Cr,i as Dr}from"./utils-k_xI_0Cb.js";import{$ as Mr}from"./RSPContexts-0c50kf5X.js";import{g as Sr,c as wr,$ as kr,a as Re,b as Ar,d as Br,e as Tr}from"./OverlayArrow-8eERRl8G.js";import{$ as Rr,c as Fe,a as Fr,b as Kr,d as $e,e as Or,g as Ir}from"./Collection-D2hEZ6rK.js";import{$ as Lr,a as Nr,b as De,c as zr,d as _r}from"./Separator-w4qZNhZD.js";import{r as c,e as g,i as Hr,c as Ke}from"./iframe-CMJJFu9j.js";import{$ as Ur}from"./Text-CFor_277.js";import{n as Vr,e as Wr,M as jr,E as I,c as z,v as Gr,f as qr,$ as Oe,B as Me,N as Xr,L as Yr,w as Zr,H as Jr,q as pe}from"./useFocusRing-CtdsP9bS.js";import{$ as me}from"./useResizeObserver-Yfq3l_iW.js";import{l as Qr,d as en,$ as Ie,a as tn,b as Le}from"./SelectionManager-Bf0z9v4v.js";import{a as rn,$ as Ne}from"./PressResponder-BBeMaEjo.js";import{$ as ze}from"./useLocalizedStringFormatter-Du1HXXHm.js";import{$ as nn}from"./useControlledState-y9SwHo4i.js";import{c as on,a as _e}from"./FocusScope-B8C7Jeuo.js";import{P as an}from"./index-CwgxdM1g.js";import{b as sn}from"./Hidden-DaCgDddU.js";import{$ as He}from"./getScrollParent-CvodOSaS.js";import{$ as ln}from"./useLabels-D-FjqiKN.js";import{$ as un}from"./VisuallyHidden-DluAf_o6.js";function cn(r){let{ref:e,onInteractOutside:t,isDisabled:o,onInteractOutsideStart:n}=r,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=j(a=>{t&&Se(a,e)&&(n&&n(a),s.current.isPointerDown=!0)}),u=j(a=>{t&&t(a)});c.useEffect(()=>{let a=s.current;if(o)return;const d=e.current,i=Vr(d);if(typeof PointerEvent<"u"){let p=b=>{a.isPointerDown&&Se(b,e)&&u(b),a.isPointerDown=!1};return i.addEventListener("pointerdown",l,!0),i.addEventListener("click",p,!0),()=>{i.removeEventListener("pointerdown",l,!0),i.removeEventListener("click",p,!0)}}},[e,o,l,u])}function Se(r,e){if(r.button>0)return!1;if(r.target){const t=r.target.ownerDocument;if(!t||!t.documentElement.contains(r.target)||r.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!r.composedPath().includes(e.current):!1}const T=[];function dn(r,e){let{onClose:t,shouldCloseOnBlur:o,isOpen:n,isDismissable:s=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:u}=r;c.useEffect(()=>{if(n&&!T.includes(e))return T.push(e),()=>{let $=T.indexOf(e);$>=0&&T.splice($,1)}},[n,e]);let a=()=>{T[T.length-1]===e&&t&&t()},d=$=>{(!u||u($.target))&&T[T.length-1]===e&&($.stopPropagation(),$.preventDefault())},i=$=>{(!u||u($.target))&&(T[T.length-1]===e&&($.stopPropagation(),$.preventDefault()),a())},p=$=>{$.key==="Escape"&&!l&&!$.nativeEvent.isComposing&&($.stopPropagation(),$.preventDefault(),a())};cn({ref:e,onInteractOutside:s&&n?i:void 0,onInteractOutsideStart:d});let{focusWithinProps:b}=Wr({isDisabled:!o,onBlurWithin:$=>{!$.relatedTarget||on($.relatedTarget)||(!u||u($.relatedTarget))&&(t==null||t())}}),f=$=>{$.target===$.currentTarget&&$.preventDefault()};return{overlayProps:{onKeyDown:p,...b},underlayProps:{onPointerDown:f}}}function Ue(r,e,t){let{type:o}=r,{isOpen:n}=e;c.useEffect(()=>{t&&t.current&&Sr.set(t.current,e.close)});let s;o==="menu"?s=!0:o==="listbox"&&(s="listbox");let l=H();return{triggerProps:{"aria-haspopup":s,"aria-expanded":n,"aria-controls":n?l:void 0,onPress:e.toggle},overlayProps:{id:l}}}const ie=typeof document<"u"&&window.visualViewport,fn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ee=0,ce;function pn(r={}){let{isDisabled:e}=r;U(()=>{if(!e)return ee++,ee===1&&(jr()?ce=$n():ce=bn()),()=>{ee--,ee===0&&ce()}},[e])}function bn(){let r=window.innerWidth-document.documentElement.clientWidth;return de(r>0&&("scrollbarGutter"in document.documentElement.style?L(document.documentElement,"scrollbarGutter","stable"):L(document.documentElement,"paddingRight",`${r}px`)),L(document.documentElement,"overflow","hidden"))}function $n(){let r,e,t=d=>{r=He(d.target,!0),!(r===document.documentElement&&r===document.body)&&r instanceof HTMLElement&&window.getComputedStyle(r).overscrollBehavior==="auto"&&(e=L(r,"overscrollBehavior","contain"))},o=d=>{if(!r||r===document.documentElement||r===document.body){d.preventDefault();return}r.scrollHeight===r.clientHeight&&r.scrollWidth===r.clientWidth&&d.preventDefault()},n=()=>{e&&e()},s=d=>{let i=d.target;mn(i)&&(u(),i.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{i.style.transform="",ie&&(ie.height<window.innerHeight?requestAnimationFrame(()=>{we(i)}):ie.addEventListener("resize",()=>we(i),{once:!0}))}))},l=null,u=()=>{if(l)return;let d=()=>{window.scrollTo(0,0)},i=window.pageXOffset,p=window.pageYOffset;l=de(V(window,"scroll",d),L(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),L(document.documentElement,"overflow","hidden"),L(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(i,p)}),window.scrollTo(0,0)},a=de(V(document,"touchstart",t,{passive:!1,capture:!0}),V(document,"touchmove",o,{passive:!1,capture:!0}),V(document,"touchend",n,{passive:!1,capture:!0}),V(document,"focus",s,!0));return()=>{e==null||e(),l==null||l(),a()}}function L(r,e,t){let o=r.style[e];return r.style[e]=t,()=>{r.style[e]=o}}function V(r,e,t,o){return r.addEventListener(e,t,o),()=>{r.removeEventListener(e,t,o)}}function we(r){let e=document.scrollingElement||document.documentElement,t=r;for(;t&&t!==e;){let o=He(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let n=o.getBoundingClientRect().top,s=t.getBoundingClientRect().top;s>n+t.clientHeight&&(o.scrollTop+=s-n)}t=o.parentElement}}function mn(r){return r instanceof HTMLInputElement&&!fn.has(r.type)||r instanceof HTMLTextAreaElement||r instanceof HTMLElement&&r.isContentEditable}var Ve={};Ve={dismiss:"تجاهل"};var We={};We={dismiss:"Отхвърляне"};var je={};je={dismiss:"Odstranit"};var Ge={};Ge={dismiss:"Luk"};var qe={};qe={dismiss:"Schließen"};var Xe={};Xe={dismiss:"Απόρριψη"};var Ye={};Ye={dismiss:"Dismiss"};var Ze={};Ze={dismiss:"Descartar"};var Je={};Je={dismiss:"Lõpeta"};var Qe={};Qe={dismiss:"Hylkää"};var et={};et={dismiss:"Rejeter"};var tt={};tt={dismiss:"התעלם"};var rt={};rt={dismiss:"Odbaci"};var nt={};nt={dismiss:"Elutasítás"};var ot={};ot={dismiss:"Ignora"};var at={};at={dismiss:"閉じる"};var st={};st={dismiss:"무시"};var lt={};lt={dismiss:"Atmesti"};var ut={};ut={dismiss:"Nerādīt"};var it={};it={dismiss:"Lukk"};var ct={};ct={dismiss:"Negeren"};var dt={};dt={dismiss:"Zignoruj"};var ft={};ft={dismiss:"Descartar"};var pt={};pt={dismiss:"Dispensar"};var bt={};bt={dismiss:"Revocare"};var $t={};$t={dismiss:"Пропустить"};var mt={};mt={dismiss:"Zrušiť"};var gt={};gt={dismiss:"Opusti"};var vt={};vt={dismiss:"Odbaci"};var xt={};xt={dismiss:"Avvisa"};var yt={};yt={dismiss:"Kapat"};var ht={};ht={dismiss:"Скасувати"};var Pt={};Pt={dismiss:"取消"};var Et={};Et={dismiss:"關閉"};var Ct={};Ct={"ar-AE":Ve,"bg-BG":We,"cs-CZ":je,"da-DK":Ge,"de-DE":qe,"el-GR":Xe,"en-US":Ye,"es-ES":Ze,"et-EE":Je,"fi-FI":Qe,"fr-FR":et,"he-IL":tt,"hr-HR":rt,"hu-HU":nt,"it-IT":ot,"ja-JP":at,"ko-KR":st,"lt-LT":lt,"lv-LV":ut,"nb-NO":it,"nl-NL":ct,"pl-PL":dt,"pt-BR":ft,"pt-PT":pt,"ro-RO":bt,"ru-RU":$t,"sk-SK":mt,"sl-SI":gt,"sr-SP":vt,"sv-SE":xt,"tr-TR":yt,"uk-UA":ht,"zh-CN":Pt,"zh-TW":Et};function gn(r){return r&&r.__esModule?r.default:r}function ke(r){let{onDismiss:e,...t}=r,o=ze(gn(Ct),"@react-aria/overlays"),n=ln(t,o.format("dismiss")),s=()=>{e&&e()};return g.createElement(un,null,g.createElement("button",{...n,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let W=new WeakMap,w=[];function vn(r,e=document.body){let t=new Set(r),o=new Set,n=a=>{for(let b of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(b);let d=b=>{if(t.has(b)||b.parentElement&&o.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of t)if(b.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(a);if(p===NodeFilter.FILTER_ACCEPT&&s(a),p!==NodeFilter.FILTER_REJECT){let b=i.nextNode();for(;b!=null;)s(b),b=i.nextNode()}},s=a=>{var d;let i=(d=W.get(a))!==null&&d!==void 0?d:0;a.getAttribute("aria-hidden")==="true"&&i===0||(i===0&&a.setAttribute("aria-hidden","true"),o.add(a),W.set(a,i+1))};w.length&&w[w.length-1].disconnect(),n(e);let l=new MutationObserver(a=>{for(let d of a)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...t,...o].some(i=>i.contains(d.target))){for(let i of d.removedNodes)i instanceof Element&&(t.delete(i),o.delete(i));for(let i of d.addedNodes)(i instanceof HTMLElement||i instanceof SVGElement)&&(i.dataset.liveAnnouncer==="true"||i.dataset.reactAriaTopLayer==="true")?t.add(i):i instanceof Element&&n(i)}});l.observe(e,{childList:!0,subtree:!0});let u={visibleNodes:t,hiddenNodes:o,observe(){l.observe(e,{childList:!0,subtree:!0})},disconnect(){l.disconnect()}};return w.push(u),()=>{l.disconnect();for(let a of o){let d=W.get(a);d!=null&&(d===1?(a.removeAttribute("aria-hidden"),W.delete(a)):W.set(a,d-1))}u===w[w.length-1]?(w.pop(),w.length&&w[w.length-1].observe()):w.splice(w.indexOf(u),1)}}function xn(r){let e=w[w.length-1];if(e&&!e.visibleNodes.has(r))return e.visibleNodes.add(r),()=>{e.visibleNodes.delete(r)}}function yn(r,e){let{triggerRef:t,popoverRef:o,groupRef:n,isNonModal:s,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u,...a}=r,d=a.trigger==="SubmenuTrigger",{overlayProps:i,underlayProps:p}=dn({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||d,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u},n??o),{overlayProps:b,arrowProps:f,placement:$}=wr({...a,targetRef:t,overlayRef:o,isOpen:e.isOpen,onClose:s&&!d?e.close:null});return pn({isDisabled:s||!e.isOpen}),U(()=>{if(e.isOpen&&o.current){var x,v;return s?xn((x=n==null?void 0:n.current)!==null&&x!==void 0?x:o.current):vn([(v=n==null?void 0:n.current)!==null&&v!==void 0?v:o.current])}},[s,e.isOpen,o,n]),{popoverProps:q(i,b),arrowProps:f,underlayProps:p,placement:$}}const Dt=g.createContext(null);function Ae(r){let e=Hr(),{portalContainer:t=e?null:document.body,isExiting:o}=r,[n,s]=c.useState(!1),l=c.useMemo(()=>({contain:n,setContain:s}),[n,s]),{getContainer:u}=kr();if(!r.portalContainer&&u&&(t=u()),!t)return null;let a=r.children;return r.disableFocusManagement||(a=g.createElement(_e,{restoreFocus:!0,contain:(r.shouldContainFocus||n)&&!o},a)),a=g.createElement(Dt.Provider,{value:l},g.createElement(rn,null,a)),an.createPortal(a,t)}function hn(){let r=c.useContext(Dt),e=r==null?void 0:r.setContain;U(()=>{e==null||e(!0)},[e])}var Mt={};Mt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var St={};St={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var wt={};wt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var kt={};kt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var At={};At={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Bt={};Bt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Tt={};Tt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Rt={};Rt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ft={};Ft={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Kt={};Kt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ot={};Ot={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var It={};It={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Lt={};Lt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Nt={};Nt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var zt={};zt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var _t={};_t={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Ht={};Ht={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Ut={};Ut={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Vt={};Vt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Wt={};Wt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var jt={};jt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Gt={};Gt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var qt={};qt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Xt={};Xt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Yt={};Yt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Zt={};Zt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Jt={};Jt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Qt={};Qt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var er={};er={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var tr={};tr={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var rr={};rr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var nr={};nr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var or={};or={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ar={};ar={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var sr={};sr={"ar-AE":Mt,"bg-BG":St,"cs-CZ":wt,"da-DK":kt,"de-DE":At,"el-GR":Bt,"en-US":Tt,"es-ES":Rt,"et-EE":Ft,"fi-FI":Kt,"fr-FR":Ot,"he-IL":It,"hr-HR":Lt,"hu-HU":Nt,"it-IT":zt,"ja-JP":_t,"ko-KR":Ht,"lt-LT":Ut,"lv-LV":Vt,"nb-NO":Wt,"nl-NL":jt,"pl-PL":Gt,"pt-BR":qt,"pt-PT":Xt,"ro-RO":Yt,"ru-RU":Zt,"sk-SK":Jt,"sl-SI":Qt,"sr-SP":er,"sv-SE":tr,"tr-TR":rr,"uk-UA":nr,"zh-CN":or,"zh-TW":ar};function Pn(r){return r&&r.__esModule?r.default:r}function En(r,e,t){let{type:o="menu",isDisabled:n,trigger:s="press"}=r,l=H(),{triggerProps:u,overlayProps:a}=Ue({type:o},e,t),d=f=>{if(!n&&!(s==="longPress"&&!f.altKey)&&t&&t.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},i=ze(Pn(sr),"@react-aria/menu"),{longPressProps:p}=Qr({isDisabled:n||s!=="longPress",accessibilityDescription:i.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!n&&(I(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!n&&(I(f.target),e.toggle())}};return delete u.onPress,{menuTriggerProps:{...u,...s==="press"?b:p,id:l,onKeyDown:d},menuProps:{...a,"aria-labelledby":l,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const lr=new WeakMap;function Cn(r,e,t){let{shouldFocusWrap:o=!0,onKeyDown:n,onKeyUp:s,...l}=r;!r["aria-label"]&&r["aria-labelledby"];let u=z(r,{labelable:!0}),{listProps:a}=Lr({...l,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return lr.set(e,{onClose:r.onClose,onAction:r.onAction,shouldUseVirtualFocus:r.shouldUseVirtualFocus}),{menuProps:q(u,{onKeyDown:n,onKeyUp:s},{role:"menu",...a,onKeyDown:d=>{var i;(d.key!=="Escape"||r.shouldUseVirtualFocus)&&((i=a.onKeyDown)===null||i===void 0||i.call(a,d))}})}}function Dn(r,e,t){let{id:o,key:n,closeOnSelect:s,isVirtualized:l,"aria-haspopup":u,onPressStart:a,onPressUp:d,onPress:i,onPressChange:p,onPressEnd:b,onHoverStart:f,onHoverChange:$,onHoverEnd:x,onKeyDown:v,onKeyUp:S,onFocus:k,onFocusChange:A,onBlur:B,selectionManager:h=e.selectionManager}=r,C=!!u,D=C&&r["aria-expanded"]==="true";var M;let m=(M=r.isDisabled)!==null&&M!==void 0?M:h.isDisabled(n);var P;let K=(P=r.isSelected)!==null&&P!==void 0?P:h.isSelected(n),F=lr.get(e),E=e.collection.getItem(n),R=r.onClose||F.onClose,J=Gr(),O=y=>{var ue;if(!C){if(!(E==null||(ue=E.props)===null||ue===void 0)&&ue.onAction?E.props.onAction():r.onAction&&r.onAction(n),F.onAction){let hr=F.onAction;hr(n)}y.target instanceof HTMLAnchorElement&&E&&J.open(y.target,y,E.props.href,E.props.routerOptions)}},le="menuitem";C||(h.selectionMode==="single"?le="menuitemradio":h.selectionMode==="multiple"&&(le="menuitemcheckbox"));let xe=re(),ye=re(),he=re(),Q={id:o,"aria-disabled":m||void 0,role:le,"aria-label":r["aria-label"],"aria-labelledby":xe,"aria-describedby":[ye,he].filter(Boolean).join(" ")||void 0,"aria-controls":r["aria-controls"],"aria-haspopup":u,"aria-expanded":r["aria-expanded"]};h.selectionMode!=="none"&&!C&&(Q["aria-checked"]=K),l&&(Q["aria-posinset"]=E==null?void 0:E.index,Q["aria-setsize"]=Nr(e.collection));let fr=y=>{y.pointerType==="keyboard"&&O(y),a==null||a(y)},Pe=()=>{!C&&R&&(s??(h.selectionMode!=="multiple"||h.isLink(n)))&&R()},pr=y=>{y.pointerType==="mouse"&&(O(y),Pe()),d==null||d(y)},br=y=>{y.pointerType!=="keyboard"&&y.pointerType!=="mouse"&&(O(y),Pe()),i==null||i(y)},{itemProps:_,isFocused:Ee}=en({id:o,selectionManager:h,key:n,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:F.shouldUseVirtualFocus}),{pressProps:$r,isPressed:mr}=qr({onPressStart:fr,onPress:br,onPressUp:pr,onPressChange:p,onPressEnd:b,isDisabled:m}),{hoverProps:gr}=Oe({isDisabled:m,onHoverStart(y){!Me()&&!(D&&u)&&(h.setFocused(!0),h.setFocusedKey(n)),f==null||f(y)},onHoverChange:$,onHoverEnd:x}),{keyboardProps:vr}=Xr({onKeyDown:y=>{if(y.repeat){y.continuePropagation();return}switch(y.key){case" ":!m&&h.selectionMode==="none"&&!C&&s!==!1&&R&&R();break;case"Enter":!m&&s!==!1&&!C&&R&&R();break;default:C||y.continuePropagation(),v==null||v(y);break}},onKeyUp:S}),{focusProps:xr}=Yr({onBlur:B,onFocus:k,onFocusChange:A}),Ce=z(E==null?void 0:E.props);delete Ce.id;let yr=Zr(E==null?void 0:E.props);return{menuItemProps:{...Q,...q(Ce,yr,C?{onFocus:_.onFocus,"data-collection":_["data-collection"],"data-key":_["data-key"]}:_,$r,gr,vr,xr,F.shouldUseVirtualFocus||C?{onMouseDown:y=>y.preventDefault()}:void 0),tabIndex:_.tabIndex!=null&&D&&!F.shouldUseVirtualFocus?-1:_.tabIndex},labelProps:{id:xe},descriptionProps:{id:ye},keyboardShortcutProps:{id:he},isFocused:Ee,isFocusVisible:Ee&&h.isFocused&&Me()&&!D,isSelected:K,isPressed:mr,isDisabled:m}}function Mn(r){let{heading:e,"aria-label":t}=r,o=H();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?o:void 0}}}const te=2,Sn=50,wn=1e3,Be=Math.PI/12;function kn(r){let{menuRef:e,submenuRef:t,isOpen:o,isDisabled:n}=r,s=c.useRef(void 0),l=c.useRef(void 0),u=c.useRef(0),a=c.useRef(void 0),d=c.useRef(void 0),i=c.useRef(void 0),p=c.useRef(2),[b,f]=c.useState(!1);me({ref:t,onResize:()=>{t.current&&(l.current=t.current.getBoundingClientRect(),i.current=void 0)}});let x=()=>{f(!1),p.current=te,s.current=void 0},v=Jr(),S=j(k=>{b&&k.preventDefault()});c.useEffect(()=>{b&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,b]),c.useEffect(()=>{let k=t.current,A=e.current;if(n||!k||!o||v!=="pointer"||!A){x();return}l.current=k.getBoundingClientRect();let B=h=>{if(h.pointerType==="touch"||h.pointerType==="pen")return;let C=Date.now();if(C-u.current<Sn)return;clearTimeout(a.current),clearTimeout(d.current);let{clientX:D,clientY:M}=h;if(!s.current){s.current={x:D,y:M};return}if(!l.current)return;if(i.current||(i.current=D>l.current.right?"left":"right"),D<A.getBoundingClientRect().left||D>A.getBoundingClientRect().right||M<A.getBoundingClientRect().top||M>A.getBoundingClientRect().bottom){x();return}let m=s.current.x,P=s.current.y,K=i.current==="right"?l.current.left-m:m-l.current.right,F=Math.atan2(P-l.current.top,K)+Be,E=Math.atan2(P-l.current.bottom,K)-Be,R=Math.atan2(P-M,i.current==="left"?-(D-m):D-m),J=R<F&&R>E;p.current=J?Math.min(p.current+1,te):Math.max(p.current-1,0),p.current>=te?f(!0):f(!1),u.current=C,s.current={x:D,y:M},J&&(a.current=setTimeout(()=>{x(),d.current=setTimeout(()=>{let O=document.elementFromPoint(D,M);O&&A.contains(O)&&O.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},wn))};return window.addEventListener("pointermove",B),window.addEventListener("pointerdown",S,!0),()=>{window.removeEventListener("pointermove",B),window.removeEventListener("pointerdown",S,!0),clearTimeout(a.current),clearTimeout(d.current),p.current=te}},[n,o,e,v,f,S,t])}function An(r,e,t){let{parentMenuRef:o,submenuRef:n,type:s="menu",isDisabled:l,delay:u=200,shouldUseVirtualFocus:a}=r,d=H(),i=H(),{direction:p}=Ke(),b=c.useRef(void 0),f=c.useCallback(()=>{b.current&&(clearTimeout(b.current),b.current=void 0)},[b]),$=j(m=>{f(),e.open(m)}),x=j(()=>{f(),e.close()});U(()=>()=>{f()},[f]);let v=m=>{if(m.currentTarget.contains(document.activeElement))switch(m.key){case"ArrowLeft":p==="ltr"&&m.currentTarget.contains(m.target)&&(m.preventDefault(),m.stopPropagation(),x(),!a&&t.current&&I(t.current));break;case"ArrowRight":p==="rtl"&&m.currentTarget.contains(m.target)&&(m.preventDefault(),m.stopPropagation(),x(),!a&&t.current&&I(t.current));break;case"Escape":var P;!((P=n.current)===null||P===void 0)&&P.contains(m.target)&&(m.stopPropagation(),x(),!a&&t.current&&I(t.current));break}};var S;let k={id:i,"aria-labelledby":d,submenuLevel:e.submenuLevel,...s==="menu"&&{onClose:e.closeAll,autoFocus:(S=e.focusStrategy)!==null&&S!==void 0?S:void 0,onKeyDown:v}},A=m=>{switch(m.key){case"ArrowRight":l||(p==="ltr"?(m.preventDefault(),e.isOpen||$("first"),s==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&I(n.current)):e.isOpen?x():m.continuePropagation());break;case"ArrowLeft":l||(p==="rtl"?(m.preventDefault(),e.isOpen||$("first"),s==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&I(n.current)):e.isOpen?x():m.continuePropagation());break;default:m.continuePropagation();break}},B=m=>{!l&&(m.pointerType==="virtual"||m.pointerType==="keyboard")&&$("first")},h=m=>{!l&&(m.pointerType==="touch"||m.pointerType==="mouse")&&$()},C=m=>{l||(m&&!e.isOpen?b.current||(b.current=setTimeout(()=>{$()},u)):m||f())},D=m=>{var P;e.isOpen&&(!((P=o.current)===null||P===void 0)&&P.contains(m.relatedTarget))&&x()},M=m=>m!==t.current;return kn({menuRef:o,submenuRef:n,isOpen:e.isOpen,isDisabled:l}),{submenuTriggerProps:{id:d,"aria-controls":e.isOpen?i:void 0,"aria-haspopup":l?void 0:s,"aria-expanded":e.isOpen?"true":"false",onPressStart:B,onPress:h,onHoverChange:C,onKeyDown:A,onBlur:D,isOpen:e.isOpen},submenuProps:k,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:M}}}function Bn(r,e){let{role:t="dialog"}=r,o=re();o=r["aria-label"]?void 0:o;let n=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){pe(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(n.current=!0,e.current&&(e.current.blur(),pe(e.current)),n.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),hn(),{dialogProps:{...z(r,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":r["aria-labelledby"]||o,onBlur:s=>{n.current&&s.stopPropagation()}},titleProps:{id:o}}}function ge(r){let e=Re(r),[t,o]=c.useState(null),[n,s]=c.useState([]),l=()=>{s([]),e.close()};return{focusStrategy:t,...e,open(d=null){o(d),e.open()},toggle(d=null){o(d),e.toggle()},close(){l()},expandedKeysStack:n,openSubmenu:(d,i)=>{s(p=>i>p.length?p:[...p.slice(0,i),d])},closeSubmenu:(d,i)=>{s(p=>p[i]===d?p.slice(0,i):p)}}}function Tn(r,e){let{triggerKey:t}=r,{expandedKeysStack:o,openSubmenu:n,closeSubmenu:s,close:l}=e,[u]=c.useState(o==null?void 0:o.length),a=c.useMemo(()=>o[u]===t,[o,t,u]),[d,i]=c.useState(null),p=c.useCallback($=>{i($??null),n(t,u)},[n,u,t]),b=c.useCallback(()=>{i(null),s(t,u)},[s,u,t]),f=c.useCallback($=>{i($??null),a?b():p($)},[b,p,a]);return c.useMemo(()=>({focusStrategy:d,isOpen:a,open:p,close:b,closeAll:l,submenuLevel:u,setOpen:()=>{},toggle:f}),[a,p,b,l,d,f,u])}class Rn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var o;return t&&(o=t.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let t=this.keyMap.get(e);var o;return t&&(o=t.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let o=u=>{if(this.keyMap.set(u.key,u),u.childNodes&&(u.type==="section"||t.has(u.key)))for(let a of u.childNodes)o(a)};for(let u of e)o(u);let n=null,s=0;for(let[u,a]of this.keyMap)n?(n.nextKey=u,a.prevKey=n.key):(this.firstKey=u,a.prevKey=void 0),a.type==="item"&&(a.index=s++),n=a,n.nextKey=void 0;var l;this.lastKey=(l=n==null?void 0:n.key)!==null&&l!==void 0?l:null}}function Fn(r){let{onExpandedChange:e}=r,[t,o]=nn(r.expandedKeys?new Set(r.expandedKeys):void 0,r.defaultExpandedKeys?new Set(r.defaultExpandedKeys):new Set,e),n=Ie(r),s=c.useMemo(()=>r.disabledKeys?new Set(r.disabledKeys):new Set,[r.disabledKeys]),l=tn(r,c.useCallback(a=>new Rn(a,{expandedKeys:t}),[t]),null);return c.useEffect(()=>{n.focusedKey!=null&&!l.getItem(n.focusedKey)&&n.setFocusedKey(null)},[l,n.focusedKey]),{collection:l,expandedKeys:t,disabledKeys:s,toggleKey:a=>{o(Kn(t,a))},setExpandedKeys:o,selectionManager:new Le(l,n)}}function Kn(r,e){let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}const ae=c.createContext(null),Te=c.createContext(null),ao=c.forwardRef(function(e,t){[e,t]=X(e,t,ae);let o=c.useContext(Z),n=Re(e),s=e.isOpen!=null||e.defaultOpen!=null||!o?n:o,l=Ar(t,s.isOpen)||e.isExiting||!1,u=sn(),{direction:a}=Ke();if(u){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),g.createElement(g.Fragment,null,d)}return s&&!s.isOpen&&!l?null:g.createElement(On,{...e,triggerRef:e.triggerRef,state:s,popoverRef:t,isExiting:l,dir:a})});function On({state:r,isExiting:e,UNSTABLE_portalContainer:t,clearContexts:o,...n}){let s=c.useRef(null),[l,u]=c.useState(0),a=c.useRef(null),d=c.useContext(Te),i=d&&n.trigger==="SubmenuTrigger";U(()=>{s.current&&r.isOpen&&u(s.current.getBoundingClientRect().width)},[r.isOpen,s]);var p;let{popoverProps:b,underlayProps:f,arrowProps:$,placement:x}=yn({...n,offset:(p=n.offset)!==null&&p!==void 0?p:8,arrowSize:l,groupRef:i?d:a},r),v=n.popoverRef,S=Br(v,!!x)||n.isEntering||!1,k=Y({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:x,isEntering:S,isExiting:e}}),A=!n.isNonModal||n.trigger==="SubmenuTrigger",[B,h]=c.useState(!1);U(()=>{v.current&&h(A&&!v.current.querySelector("[role=dialog]"))},[v,A]),c.useEffect(()=>{B&&v.current&&!v.current.contains(document.activeElement)&&pe(v.current)},[B,v]);let C=c.useMemo(()=>{let P=k.children;if(o)for(let K of o)P=g.createElement(K.Provider,{value:null},P);return P},[k.children,o]),D={...b.style,...k.style},M=g.createElement("div",{...q(z(n),b),...k,role:B?"dialog":void 0,tabIndex:B?-1:void 0,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],ref:v,slot:n.slot||void 0,style:D,dir:n.dir,"data-trigger":n.trigger,"data-placement":x,"data-entering":S||void 0,"data-exiting":e||void 0},!n.isNonModal&&g.createElement(ke,{onDismiss:r.close}),g.createElement(Tr.Provider,{value:{...$,placement:x,ref:s}},C),g.createElement(ke,{onDismiss:r.close}));if(!i)return g.createElement(Ae,{...n,shouldContainFocus:B,isExiting:e,portalContainer:t},!n.isNonModal&&r.isOpen&&g.createElement("div",{"data-testid":"underlay",...f,style:{position:"fixed",inset:0}}),g.createElement("div",{ref:a,style:{display:"contents"}},g.createElement(Te.Provider,{value:a},M)));var m;return g.createElement(Ae,{...n,shouldContainFocus:B,isExiting:e,portalContainer:(m=t??(d==null?void 0:d.current))!==null&&m!==void 0?m:void 0},M)}const ur=c.createContext({}),so=c.forwardRef(function(e,t){return[e,t]=X(e,t,ur),g.createElement("kbd",{dir:"ltr",...e,ref:t})}),ve=c.createContext(null),se=c.createContext(null),G=c.createContext(null),ne=c.createContext(null);function lo(r){let e=ge(r),t=c.useRef(null),{menuTriggerProps:o,menuProps:n}=En({...r,type:"menu"},e,t),[s,l]=c.useState(null),u=c.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);me({ref:t,onResize:u});let a=c.useRef(null);return g.createElement(N,{values:[[ve,{...n,ref:a}],[Z,e],[G,e],[ae,{trigger:"MenuTrigger",triggerRef:t,scrollRef:a,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":n["aria-labelledby"]}]]},g.createElement(Ne,{...o,ref:t,isPressed:e.isOpen},r.children))}const ir=c.createContext(null),uo=Fe("submenutrigger",(r,e,t)=>{let{CollectionBranch:o}=c.useContext($e),n=c.useContext(se),s=c.useContext(G),l=Tn({triggerKey:t.key},s),u=c.useRef(null),a=be(e),{parentMenuRef:d,shouldUseVirtualFocus:i}=c.useContext(ir),{submenuTriggerProps:p,submenuProps:b,popoverProps:f}=An({parentMenuRef:d,submenuRef:u,delay:r.delay,shouldUseVirtualFocus:i},l,a);return g.createElement(N,{values:[[oe,{...p,onAction:void 0,ref:a}],[ve,b],[Z,l],[ae,{ref:u,trigger:"SubmenuTrigger",triggerRef:a,placement:"end top","aria-labelledby":b["aria-labelledby"],...f}]]},g.createElement(o,{collection:n.collection,parent:t}),r.children[1])},r=>r.children[0]),io=c.forwardRef(function(e,t){return[e,t]=X(e,t,ve),g.createElement(Fr,{content:g.createElement(Kr,e)},o=>g.createElement(In,{props:e,collection:o,menuRef:t}))});function In({props:r,collection:e,menuRef:t}){let{filter:o,collectionProps:n,collectionRef:s}=c.useContext(De)||{};t=be(c.useMemo(()=>Cr(t,s!==void 0?s:null),[s,t]));let l=c.useMemo(()=>o?e.UNSTABLE_filter(o):e,[e,o]),u=Fn({...r,collection:l,children:void 0}),a=c.useContext(G),{isVirtualized:d,CollectionRoot:i}=c.useContext($e),{menuProps:p}=Cn({...r,...n,isVirtualized:d,onClose:r.onClose||(a==null?void 0:a.close)},u,t),b=Y({defaultClassName:"react-aria-Menu",className:r.className,style:r.style,values:{isEmpty:u.collection.size===0}}),f=null;return u.collection.size===0&&r.renderEmptyState&&(f=g.createElement("div",{role:"menuitem",style:{display:"contents"}},r.renderEmptyState())),g.createElement(_e,null,g.createElement("div",{...z(r),...p,...b,ref:t,slot:r.slot||void 0,"data-empty":u.collection.size===0||void 0,onScroll:r.onScroll},g.createElement(N,{values:[[se,u],[zr,{elementType:"div"}],[Or,{name:"MenuSection",render:cr}],[ir,{parentMenuRef:t,shouldUseVirtualFocus:n==null?void 0:n.shouldUseVirtualFocus}],[oe,null],[De,null],[ne,u.selectionManager],[G,a??ge({})]]},g.createElement(i,{collection:u.collection,persistedKeys:Ir(u.selectionManager.focusedKey),scrollRef:t})),f))}class Ln extends Le{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function cr(r,e,t,o="react-aria-MenuSection"){var n,s;let l=c.useContext(se),{CollectionBranch:u}=c.useContext($e),[a,d]=Dr();var i;let{headingProps:p,groupProps:b}=Mn({heading:d,"aria-label":(i=t.props["aria-label"])!==null&&i!==void 0?i:void 0}),f=Y({defaultClassName:o,className:(n=t.props)===null||n===void 0?void 0:n.className,style:(s=t.props)===null||s===void 0?void 0:s.style,values:{}}),$=c.useContext(ne),x=Ie(r),v=r.selectionMode!=null?new Ln($,x):$;return g.createElement("section",{...z(r),...b,...f,ref:e},g.createElement(N,{values:[[_r,{...p,ref:a}],[ne,v]]},g.createElement(u,{collection:l.collection,parent:t})))}const co=Fe("section",cr),oe=c.createContext(null),fo=Rr("item",function(e,t,o){var n;[e,t]=X(e,t,oe);let s=(n=Er(oe))===null||n===void 0?void 0:n.id,l=c.useContext(se),u=be(t),a=c.useContext(ne),{menuItemProps:d,labelProps:i,descriptionProps:p,keyboardShortcutProps:b,...f}=Dn({...e,id:s,key:o.key,selectionManager:a},l,u),{hoverProps:$,isHovered:x}=Oe({isDisabled:f.isDisabled}),v=Y({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:x,isFocusVisible:f.isFocusVisible,selectionMode:a.selectionMode,selectionBehavior:a.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),S=e.href?"a":"div";return g.createElement(S,{...q(d,$),...v,ref:u,"data-disabled":f.isDisabled||void 0,"data-hovered":x||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":a.selectionMode==="none"?void 0:a.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},g.createElement(N,{values:[[Ur,{slots:{[fe]:i,label:i,description:p}}],[ur,b]]},v.children))}),dr=c.createContext(null),Z=c.createContext(null);function po(r){let e=ge(r),t=c.useRef(null),{triggerProps:o,overlayProps:n}=Ue({type:"dialog"},e,t),[s,l]=c.useState(null),u=c.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);return me({ref:t,onResize:u}),o.id=H(),n["aria-labelledby"]=o.id,g.createElement(N,{values:[[Z,e],[G,e],[dr,n],[ae,{trigger:"DialogTrigger",triggerRef:t,"aria-labelledby":n["aria-labelledby"],style:{"--trigger-width":s}}]]},g.createElement(Ne,{...o,ref:t,isPressed:e.isOpen},r.children))}const bo=c.forwardRef(function(e,t){let o=e["aria-labelledby"];[e,t]=X(e,t,dr);let{dialogProps:n,titleProps:s}=Bn({...e,"aria-labelledby":o},t),l=c.useContext(Z);!n["aria-label"]&&!n["aria-labelledby"]&&e["aria-labelledby"]&&(n["aria-labelledby"]=e["aria-labelledby"]);let u=Y({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(l==null?void 0:l.close)||(()=>{})}});return g.createElement("section",{...z(e),...n,...u,ref:t,slot:e.slot||void 0},g.createElement(N,{values:[[Mr,{slots:{[fe]:{},title:{...s,level:2}}}],[Pr,{slots:{[fe]:{},close:{onPress:()=>l==null?void 0:l.close()}}}]]},u.children))});export{po as $,fo as a,lo as b,ao as c,io as d,co as e,so as f,uo as g,dn as h,pn as i,hn as j,vn as k,Z as l,ke as m,Ae as n,bo as o,ae as p,dr as q,En as r,ge as s};
