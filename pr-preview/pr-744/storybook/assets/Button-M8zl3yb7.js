import{e as v,b as C,$ as w,i as j,a as F}from"./utils-BMmhu9Qw.js";import{$ as A}from"./Hidden-D_gelNDL.js";import{c as B,r as b,e as h}from"./iframe-P5IyoOKp.js";import{c as I,a as S,$ as H}from"./useFocusRing-Bhx8O4iA.js";import{$ as _}from"./useLabels-C9w4JgAc.js";import{$ as K}from"./useButton-BDB40xhj.js";function R(a,e=-1/0,t=1/0){return Math.min(Math.max(a,e),t)}let x=new Map,E=!1;try{E=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let g=!1;try{g=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const V={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class U{format(e){let t="";if(!E&&this.options.signDisplay!=null?t=k(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!g){var r;let{unit:i,unitDisplay:n="short",locale:l}=this.resolvedOptions();if(!i)return t;let s=(r=V[i])===null||r===void 0?void 0:r[n];t+=s[l]||s.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...r.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!E&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!g&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=Z(e,t),this.options=t}}function Z(a,e={}){let{numberingSystem:t}=e;if(t&&a.includes("-nu-")&&(a.includes("-u-")||(a+="-u-"),a+=`-nu-${t}`),e.style==="unit"&&!g){var r;let{unit:l,unitDisplay:s="short"}=e;if(!l)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=V[l])===null||r===void 0)&&r[s]))throw new Error(`Unsupported unit ${l} with unitDisplay = ${s}`);e={...e,style:"decimal"}}let i=a+(e?Object.entries(e).sort((l,s)=>l[0]<s[0]?-1:1).join():"");if(x.has(i))return x.get(i);let n=new Intl.NumberFormat(a,e);return x.set(i,n),n}function k(a,e,t){if(e==="auto")return a.format(t);if(e==="never")return a.format(Math.abs(t));{let r=!1;if(e==="always"?r=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):r=t>0),r){let i=a.format(-t),n=a.format(t),l=i.replace(n,"").replace(/\u200e|\u061C/,"");return[...l].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(n,"!!!").replace(l,"+").replace("!!!",n)}else return a.format(t)}}function z(a={}){let{locale:e}=B();return b.useMemo(()=>new U(e,a),[e,a])}const O=7e3;let o=null;function D(a,e="assertive",t=O){o?o.announce(a,e,t):(o=new G,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?o.announce(a,e,t):setTimeout(()=>{o!=null&&o.isAttached()&&(o==null||o.announce(a,e,t))},100))}function ne(a){o&&o.clear(a)}class G{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",r=O){var i,n;if(!this.node)return;let l=document.createElement("div");typeof e=="object"?(l.setAttribute("role","img"),l.setAttribute("aria-labelledby",e["aria-labelledby"])):l.textContent=e,t==="assertive"?(i=this.assertiveLog)===null||i===void 0||i.appendChild(l):(n=this.politeLog)===null||n===void 0||n.appendChild(l),e!==""&&setTimeout(()=>{l.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function J(a){let{id:e,label:t,"aria-labelledby":r,"aria-label":i,labelElementType:n="label"}=a;e=v(e);let l=v(),s={};t&&(r=r?`${l} ${r}`:l,s={id:l,htmlFor:n==="label"?e:void 0});let d=_({id:e,"aria-label":i,"aria-labelledby":r});return{labelProps:s,fieldProps:d}}function W(a){let{value:e=0,minValue:t=0,maxValue:r=100,valueLabel:i,isIndeterminate:n,formatOptions:l={style:"percent"}}=a,s=I(a,{labelable:!0}),{labelProps:d,fieldProps:f}=J({...a,labelElementType:"span"});e=R(e,t,r);let m=(e-t)/(r-t),$=z(l);if(!n&&!i){let u=l.style==="percent"?m:e;i=$.format(u)}return{progressBarProps:C(s,{...f,"aria-valuenow":n?void 0:e,"aria-valuemin":t,"aria-valuemax":r,"aria-valuetext":n?void 0:i,role:"progressbar"}),labelProps:d}}const N=b.createContext({}),le=A(function(e,t){[e,t]=w(e,t,N);let{elementType:r="label",...i}=e;return h.createElement(r,{className:"react-aria-Label",...i,ref:t})}),M=b.createContext(null),se=b.forwardRef(function(e,t){[e,t]=w(e,t,M);let{value:r=0,minValue:i=0,maxValue:n=100,isIndeterminate:l=!1}=e;r=R(r,i,n);let[s,d]=j(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:f,labelProps:m}=W({...e,label:d}),$=l?void 0:(r-i)/(n-i)*100,u=F({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:f["aria-valuetext"],isIndeterminate:l}});return h.createElement("div",{...f,...u,ref:t,slot:e.slot||void 0},h.createElement(N.Provider,{value:{...m,ref:s,elementType:"span"}},u.children))}),Y=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),q=b.createContext({}),oe=A(function(e,t){[e,t]=w(e,t,q),e=Q(e);let r=e,{isPending:i}=r,{buttonProps:n,isPressed:l}=K(e,t),{focusProps:s,isFocused:d,isFocusVisible:f}=S(e),{hoverProps:m,isHovered:$}=H({...e,isDisabled:e.isDisabled||i}),u={isHovered:$,isPressed:(r.isPressed||l)&&!i,isFocused:d,isFocusVisible:f,isDisabled:e.isDisabled||!1,isPending:i??!1},L=F({...e,values:u,defaultClassName:"react-aria-Button"}),p=v(n.id),y=v(),c=n["aria-labelledby"];i&&(c?c=`${c} ${y}`:n["aria-label"]&&(c=`${p} ${y}`));let P=b.useRef(i);return b.useEffect(()=>{let T={"aria-labelledby":c||p};(!P.current&&d&&i||P.current&&d&&!i)&&D(T,"assertive"),P.current=i},[i,d,c,p]),h.createElement("button",{...I(e,{propNames:Y}),...C(n,s,m),...L,type:n.type==="submit"&&i?"button":n.type,id:p,ref:t,"aria-labelledby":c,slot:e.slot||void 0,"aria-disabled":i?"true":n["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":$||void 0,"data-focused":d||void 0,"data-pending":i||void 0,"data-focus-visible":f||void 0},h.createElement(M.Provider,{value:{id:y}},L.children))});function Q(a){return a.isPending&&(a.onPress=void 0,a.onPressStart=void 0,a.onPressEnd=void 0,a.onPressChange=void 0,a.onPressUp=void 0,a.onKeyDown=void 0,a.onKeyUp=void 0,a.onClick=void 0,a.href=void 0),a}export{oe as $,J as a,N as b,se as c,le as d,q as e,R as f,D as g,U as h,ne as i};
