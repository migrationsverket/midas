import{j as e}from"./jsx-runtime-DtgEGaVE.js";import{r as u}from"./index-BbAIUH2N.js";import{a as b}from"./Form-C3NsFlf4.js";import{$ as j}from"./Input-L53TOgYN.js";import{$ as y}from"./useField-BeeCyZF0.js";import{$ as m}from"./Text-BoWYQTAV.js";import{$ as N}from"./TextField-xxlnV8CW.js";import{T as s}from"./TextField.module-RvTXLpy1.js";import{c as R}from"./clsx-B-dksMZM.js";import{B as E}from"./Button-CmTjolvz.js";const T=({label:i,description:o,errorMessage:t,validationType:n,validate:c,maxLength:r,showCounter:x,...d})=>{const[l,h]=u.useState(""),p=a=>{const g=a.target.value;h(g)},$=a=>n==="ssn"?S.test(a)?null:"Felaktigt personnummer":n==="dossnr"?k.test(a)?null:"Felaktigt dossiernummer":n instanceof RegExp?new RegExp(n).test(a)?null:t==null?void 0:t.toString():r?r&&a.length>r?`Du har angett ${a.length-r} tecken för mycket. Fältet är begränsat till ${r} tecken.`:null:c?c(a):!0,w=()=>r?e.jsxs("span",{className:R(s.count,l.length>r&&s.countExceeded),children:[l.length," / ",r]}):x?e.jsx("span",{className:s.count,children:l.length}):null;return e.jsx(N,{className:s.inputField,validate:$,...d,children:e.jsxs(f,{label:i,description:o,errorMessage:t,children:[e.jsx(w,{}),e.jsxs("div",{className:s.wrap,children:[e.jsx(j,{type:d.type,className:s.input,onChange:p,onBlur:p}),e.jsx(F,{type:d.type,input:l})]})]})})},F=({type:i,input:o})=>{const[t,n]=u.useState(!1);return i==="password"?e.jsxs(e.Fragment,{children:[t&&e.jsx(m,{slot:"description",className:s.passwordText,children:o}),e.jsx(E,{variant:"tertiary",onPress:()=>n(!t),className:s.passwordButton,children:t?"Dölj":"Visa"})]}):null},f=({label:i,description:o,errorMessage:t,children:n})=>e.jsxs("div",{className:s.inputWrapper,children:[i&&e.jsx(y,{className:s.label,children:i}),o&&e.jsx(m,{slot:"description",className:s.text,children:o}),e.jsx(b,{className:s.fieldError,children:t}),n]}),S=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$"),k=new RegExp("\\d{1,2}[-+]?\\d{6}(/\\d{1,2})?$");T.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:"Specify label displayed above the TextField"},description:{required:!1,tsType:{name:"string"},description:"Specify description displayed below the label"},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string) | undefined",elements:[{name:"string"},{name:"unknown"},{name:"undefined"}]},description:"Custom error messages"},validationType:{required:!1,tsType:{name:"union",raw:"'ssn' | 'dossnr' | RegExp",elements:[{name:"literal",value:"'ssn'"},{name:"literal",value:"'dossnr'"},{name:"RegExp"}]},description:"Enable validations or add your own regex"},showCounter:{required:!1,tsType:{name:"boolean"},description:`Whether to show the character counter or not
@default
false`}},composes:["AriaTextFieldProps"]};f.__docgenInfo={description:"",methods:[],displayName:"InputWrapper"};export{f as I,T};
