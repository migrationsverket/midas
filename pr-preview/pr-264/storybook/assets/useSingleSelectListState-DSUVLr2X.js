import{$ as f}from"./useListState-BsgHITYP.js";import{$ as y}from"./useControlledState-DGyHFLi9.js";import{r as K}from"./index-BbAIUH2N.js";function S(l){var t;let[e,c]=y(l.selectedKey,(t=l.defaultSelectedKey)!==null&&t!==void 0?t:null,l.onSelectionChange),s=K.useMemo(()=>e!=null?[e]:[],[e]),{collection:o,disabledKeys:i,selectionManager:u}=f({...l,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:d=>{if(d==="all")return;var n;let a=(n=d.values().next().value)!==null&&n!==void 0?n:null;a===e&&l.onSelectionChange&&l.onSelectionChange(a),c(a)}}),r=e!=null?o.getItem(e):null;return{collection:o,disabledKeys:i,selectionManager:u,selectedKey:e,setSelectedKey:c,selectedItem:r}}export{S as $};
