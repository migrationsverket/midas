import{e as mr}from"./Button-CF_9qHfr.js";import{g as ye,e as q,d as ie,l as ne,b as S,c as W,$ as z,a as U,h as vr,f as xr,k as I,m as oe,i as yr}from"./utils-3JRhMg6v.js";import{$ as hr}from"./RSPContexts-DFoa7Jzb.js";import{g as Pr,c as Er,$ as Cr,a as Ae,b as Dr,d as kr,e as Mr}from"./OverlayArrow-fOrSUBGP.js";import{$ as Sr,g as Ar,c as wr,d as Br,h as we,i as Fr,l as Kr,b as Tr}from"./Collection-VBlmRWNR.js";import{c as he,a as Rr}from"./ListKeyboardDelegate-CJXe-5T0.js";import{$ as Or,a as Ir,b as Nr,c as Lr}from"./Separator-BRiqCdR7.js";import{r as u,e as p,i as Hr,c as _r}from"./iframe-a6T_oqXD.js";import{$ as zr}from"./Text-C2GHvdRv.js";import{l as Ur,e as Vr,M as jr,d as Wr,E as Pe,c as A,v as Gr,f as Zr,$ as Be,B as Ee,N as qr,L as Jr,w as Yr,x as Xr,o as se}from"./useFocusRing-D9UmzkvQ.js";import{$ as Fe}from"./useResizeObserver-aH0coZzU.js";import{l as Qr,f as ea,$ as Ke,a as ta,b as Te}from"./SelectionManager-Cy8g9VEB.js";import{a as ra,$ as Re}from"./PressResponder-Cnetkutk.js";import{$ as Oe}from"./useLocalizedStringFormatter-rFQB-ZdO.js";import{$ as aa}from"./useControlledState-VZ7Bh5gE.js";import{c as na,a as Ie}from"./FocusScope-Bqe3is0l.js";import{P as oa}from"./index-udwCI9Pl.js";import{b as sa}from"./Hidden-DDaNTZ5x.js";import{$ as Ne}from"./getScrollParent-CvodOSaS.js";import{$ as la}from"./useLabels-ClrvcWOH.js";import{$ as ia}from"./VisuallyHidden-u-Aixy2B.js";function ua(t){let{ref:e,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:a}=t,o=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=ye(i=>{r&&Ce(i,e)&&(a&&a(i),o.current.isPointerDown=!0)}),s=ye(i=>{r&&r(i)});u.useEffect(()=>{let i=o.current;if(n)return;const c=e.current,$=Ur(c);if(typeof PointerEvent<"u"){let g=y=>{i.isPointerDown&&Ce(y,e)&&s(y),i.isPointerDown=!1};return $.addEventListener("pointerdown",l,!0),$.addEventListener("click",g,!0),()=>{$.removeEventListener("pointerdown",l,!0),$.removeEventListener("click",g,!0)}}},[e,n,l,s])}function Ce(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const M=[];function da(t,e){let{onClose:r,shouldCloseOnBlur:n,isOpen:a,isDismissable:o=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:s}=t;u.useEffect(()=>{if(a&&!M.includes(e))return M.push(e),()=>{let b=M.indexOf(e);b>=0&&M.splice(b,1)}},[a,e]);let i=()=>{M[M.length-1]===e&&r&&r()},c=b=>{(!s||s(b.target))&&M[M.length-1]===e&&(b.stopPropagation(),b.preventDefault())},$=b=>{(!s||s(b.target))&&(M[M.length-1]===e&&(b.stopPropagation(),b.preventDefault()),i())},g=b=>{b.key==="Escape"&&!l&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),i())};ua({ref:e,onInteractOutside:o&&a?$:void 0,onInteractOutsideStart:c});let{focusWithinProps:y}=Vr({isDisabled:!n,onBlurWithin:b=>{!b.relatedTarget||na(b.relatedTarget)||(!s||s(b.relatedTarget))&&(r==null||r())}}),d=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:g,...y},underlayProps:{onPointerDown:d}}}function Le(t,e,r){let{type:n}=t,{isOpen:a}=e;u.useEffect(()=>{r&&r.current&&Pr.set(r.current,e.close)});let o;n==="menu"?o=!0:n==="listbox"&&(o="listbox");let l=q();return{triggerProps:{"aria-haspopup":o,"aria-expanded":a,"aria-controls":a?l:void 0,onPress:e.toggle},overlayProps:{id:l}}}const re=typeof document<"u"&&window.visualViewport,ca=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let j=0,ae;function fa(t={}){let{isDisabled:e}=t;ie(()=>{if(!e)return j++,j===1&&(jr()?ae=ba():ae=$a()),()=>{j--,j===0&&ae()}},[e])}function $a(){let t=window.innerWidth-document.documentElement.clientWidth;return ne(t>0&&("scrollbarGutter"in document.documentElement.style?K(document.documentElement,"scrollbarGutter","stable"):K(document.documentElement,"paddingRight",`${t}px`)),K(document.documentElement,"overflow","hidden"))}function ba(){let t,e,r=c=>{t=Ne(c.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=K(t,"overscrollBehavior","contain"))},n=c=>{if(!t||t===document.documentElement||t===document.body){c.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&c.preventDefault()},a=()=>{e&&e()},o=c=>{let $=c.target;pa($)&&(s(),$.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{$.style.transform="",re&&(re.height<window.innerHeight?requestAnimationFrame(()=>{De($)}):re.addEventListener("resize",()=>De($),{once:!0}))}))},l=null,s=()=>{if(l)return;let c=()=>{window.scrollTo(0,0)},$=window.pageXOffset,g=window.pageYOffset;l=ne(H(window,"scroll",c),K(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),K(document.documentElement,"overflow","hidden"),K(document.body,"marginTop",`-${g}px`),()=>{window.scrollTo($,g)}),window.scrollTo(0,0)},i=ne(H(document,"touchstart",r,{passive:!1,capture:!0}),H(document,"touchmove",n,{passive:!1,capture:!0}),H(document,"touchend",a,{passive:!1,capture:!0}),H(document,"focus",o,!0));return()=>{e==null||e(),l==null||l(),i()}}function K(t,e,r){let n=t.style[e];return t.style[e]=r,()=>{t.style[e]=n}}function H(t,e,r,n){return t.addEventListener(e,r,n),()=>{t.removeEventListener(e,r,n)}}function De(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let n=Ne(r);if(n!==document.documentElement&&n!==document.body&&n!==r){let a=n.getBoundingClientRect().top,o=r.getBoundingClientRect().top;o>a+r.clientHeight&&(n.scrollTop+=o-a)}r=n.parentElement}}function pa(t){return t instanceof HTMLInputElement&&!ca.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var He={};He={dismiss:"تجاهل"};var _e={};_e={dismiss:"Отхвърляне"};var ze={};ze={dismiss:"Odstranit"};var Ue={};Ue={dismiss:"Luk"};var Ve={};Ve={dismiss:"Schließen"};var je={};je={dismiss:"Απόρριψη"};var We={};We={dismiss:"Dismiss"};var Ge={};Ge={dismiss:"Descartar"};var Ze={};Ze={dismiss:"Lõpeta"};var qe={};qe={dismiss:"Hylkää"};var Je={};Je={dismiss:"Rejeter"};var Ye={};Ye={dismiss:"התעלם"};var Xe={};Xe={dismiss:"Odbaci"};var Qe={};Qe={dismiss:"Elutasítás"};var et={};et={dismiss:"Ignora"};var tt={};tt={dismiss:"閉じる"};var rt={};rt={dismiss:"무시"};var at={};at={dismiss:"Atmesti"};var nt={};nt={dismiss:"Nerādīt"};var ot={};ot={dismiss:"Lukk"};var st={};st={dismiss:"Negeren"};var lt={};lt={dismiss:"Zignoruj"};var it={};it={dismiss:"Descartar"};var ut={};ut={dismiss:"Dispensar"};var dt={};dt={dismiss:"Revocare"};var ct={};ct={dismiss:"Пропустить"};var ft={};ft={dismiss:"Zrušiť"};var $t={};$t={dismiss:"Opusti"};var bt={};bt={dismiss:"Odbaci"};var pt={};pt={dismiss:"Avvisa"};var gt={};gt={dismiss:"Kapat"};var mt={};mt={dismiss:"Скасувати"};var vt={};vt={dismiss:"取消"};var xt={};xt={dismiss:"關閉"};var yt={};yt={"ar-AE":He,"bg-BG":_e,"cs-CZ":ze,"da-DK":Ue,"de-DE":Ve,"el-GR":je,"en-US":We,"es-ES":Ge,"et-EE":Ze,"fi-FI":qe,"fr-FR":Je,"he-IL":Ye,"hr-HR":Xe,"hu-HU":Qe,"it-IT":et,"ja-JP":tt,"ko-KR":rt,"lt-LT":at,"lv-LV":nt,"nb-NO":ot,"nl-NL":st,"pl-PL":lt,"pt-BR":it,"pt-PT":ut,"ro-RO":dt,"ru-RU":ct,"sk-SK":ft,"sl-SI":$t,"sr-SP":bt,"sv-SE":pt,"tr-TR":gt,"uk-UA":mt,"zh-CN":vt,"zh-TW":xt};function ga(t){return t&&t.__esModule?t.default:t}function ke(t){let{onDismiss:e,...r}=t,n=Oe(ga(yt),"@react-aria/overlays"),a=la(r,n.format("dismiss")),o=()=>{e&&e()};return p.createElement(ia,null,p.createElement("button",{...a,tabIndex:-1,onClick:o,style:{width:1,height:1}}))}const ma=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let _=new WeakMap,C=[];function va(t,e){let r=Wr(t==null?void 0:t[0]),n=e instanceof r.Element?{root:e}:e;var a;let o=(a=n==null?void 0:n.root)!==null&&a!==void 0?a:document.body,l=(n==null?void 0:n.shouldUseInert)&&ma,s=new Set(t),i=new Set,c=f=>l&&f instanceof r.HTMLElement?f.inert:f.getAttribute("aria-hidden")==="true",$=(f,v)=>{l&&f instanceof r.HTMLElement?f.inert=v:v?f.setAttribute("aria-hidden","true"):(f.removeAttribute("aria-hidden"),f instanceof r.HTMLElement&&(f.inert=!1))},g=f=>{for(let h of f.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))s.add(h);let v=h=>{if(i.has(h)||s.has(h)||h.parentElement&&i.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let N of s)if(h.contains(N))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},m=document.createTreeWalker(f,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),D=v(f);if(D===NodeFilter.FILTER_ACCEPT&&y(f),D!==NodeFilter.FILTER_REJECT){let h=m.nextNode();for(;h!=null;)y(h),h=m.nextNode()}},y=f=>{var v;let m=(v=_.get(f))!==null&&v!==void 0?v:0;c(f)&&m===0||(m===0&&$(f,!0),i.add(f),_.set(f,m+1))};C.length&&C[C.length-1].disconnect(),g(o);let d=new MutationObserver(f=>{for(let v of f)if(v.type==="childList"&&![...s,...i].some(m=>m.contains(v.target)))for(let m of v.addedNodes)(m instanceof HTMLElement||m instanceof SVGElement)&&(m.dataset.liveAnnouncer==="true"||m.dataset.reactAriaTopLayer==="true")?s.add(m):m instanceof Element&&g(m)});d.observe(o,{childList:!0,subtree:!0});let b={visibleNodes:s,hiddenNodes:i,observe(){d.observe(o,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return C.push(b),()=>{d.disconnect();for(let f of i){let v=_.get(f);v!=null&&(v===1?($(f,!1),_.delete(f)):_.set(f,v-1))}b===C[C.length-1]?(C.pop(),C.length&&C[C.length-1].observe()):C.splice(C.indexOf(b),1)}}function xa(t){let e=C[C.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function ya(t,e){let{triggerRef:r,popoverRef:n,groupRef:a,isNonModal:o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:s,...i}=t,c=i.trigger==="SubmenuTrigger",{overlayProps:$,underlayProps:g}=da({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!o||c,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:s},a??n),{overlayProps:y,arrowProps:d,placement:b,triggerAnchorPoint:f}=Er({...i,targetRef:r,overlayRef:n,isOpen:e.isOpen,onClose:o&&!c?e.close:null});return fa({isDisabled:o||!e.isOpen}),u.useEffect(()=>{if(e.isOpen&&n.current){var v,m;return o?xa((v=a==null?void 0:a.current)!==null&&v!==void 0?v:n.current):va([(m=a==null?void 0:a.current)!==null&&m!==void 0?m:n.current],{shouldUseInert:!0})}},[o,e.isOpen,n,a]),{popoverProps:S($,y),arrowProps:d,underlayProps:g,placement:b,triggerAnchorPoint:f}}const ht=p.createContext(null);function Me(t){let e=Hr(),{portalContainer:r=e?null:document.body,isExiting:n}=t,[a,o]=u.useState(!1),l=u.useMemo(()=>({contain:a,setContain:o}),[a,o]),{getContainer:s}=Cr();if(!t.portalContainer&&s&&(r=s()),!r)return null;let i=t.children;return t.disableFocusManagement||(i=p.createElement(Ie,{restoreFocus:!0,contain:(t.shouldContainFocus||a)&&!n},i)),i=p.createElement(ht.Provider,{value:l},p.createElement(ra,null,i)),oa.createPortal(i,r)}function ha(){let t=u.useContext(ht),e=t==null?void 0:t.setContain;ie(()=>{e==null||e(!0)},[e])}var Pt={};Pt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Et={};Et={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Ct={};Ct={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Dt={};Dt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var kt={};kt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Mt={};Mt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var St={};St={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var At={};At={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var wt={};wt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Bt={};Bt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ft={};Ft={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Kt={};Kt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Tt={};Tt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Rt={};Rt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Ot={};Ot={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var It={};It={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Nt={};Nt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Lt={};Lt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Ht={};Ht={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var _t={};_t={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var zt={};zt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Ut={};Ut={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Vt={};Vt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var jt={};jt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Wt={};Wt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Gt={};Gt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Zt={};Zt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var qt={};qt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Jt={};Jt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Yt={};Yt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Xt={};Xt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Qt={};Qt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var er={};er={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var tr={};tr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var rr={};rr={"ar-AE":Pt,"bg-BG":Et,"cs-CZ":Ct,"da-DK":Dt,"de-DE":kt,"el-GR":Mt,"en-US":St,"es-ES":At,"et-EE":wt,"fi-FI":Bt,"fr-FR":Ft,"he-IL":Kt,"hr-HR":Tt,"hu-HU":Rt,"it-IT":Ot,"ja-JP":It,"ko-KR":Nt,"lt-LT":Lt,"lv-LV":Ht,"nb-NO":_t,"nl-NL":zt,"pl-PL":Ut,"pt-BR":Vt,"pt-PT":jt,"ro-RO":Wt,"ru-RU":Gt,"sk-SK":Zt,"sl-SI":qt,"sr-SP":Jt,"sv-SE":Yt,"tr-TR":Xt,"uk-UA":Qt,"zh-CN":er,"zh-TW":tr};function Pa(t){return t&&t.__esModule?t.default:t}function Ea(t,e,r){let{type:n="menu",isDisabled:a,trigger:o="press"}=t,l=q(),{triggerProps:s,overlayProps:i}=Le({type:n},e,r),c=d=>{if(!a&&!(o==="longPress"&&!d.altKey)&&r&&r.current)switch(d.key){case"Enter":case" ":if(o==="longPress"||d.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("last");break;default:"continuePropagation"in d&&d.continuePropagation()}},$=Oe(Pa(rr),"@react-aria/menu"),{longPressProps:g}=Qr({isDisabled:a||o!=="longPress",accessibilityDescription:$.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),y={preventFocusOnPress:!0,onPressStart(d){d.pointerType!=="touch"&&d.pointerType!=="keyboard"&&!a&&(Pe(d.target),e.open(d.pointerType==="virtual"?"first":null))},onPress(d){d.pointerType==="touch"&&!a&&(Pe(d.target),e.toggle())}};return delete s.onPress,{menuTriggerProps:{...s,...o==="press"?y:g,id:l,onKeyDown:c},menuProps:{...i,"aria-labelledby":l,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const ar=new WeakMap;function Ca(t,e,r){let{shouldFocusWrap:n=!0,onKeyDown:a,onKeyUp:o,...l}=t;!t["aria-label"]&&t["aria-labelledby"];let s=A(t,{labelable:!0}),{listProps:i}=Or({...l,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return ar.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:S(s,{onKeyDown:a,onKeyUp:o},{role:"menu",...i,onKeyDown:c=>{var $;(c.key!=="Escape"||t.shouldUseVirtualFocus)&&(($=i.onKeyDown)===null||$===void 0||$.call(i,c))}})}}function Da(t,e,r){let{id:n,key:a,closeOnSelect:o,isVirtualized:l,"aria-haspopup":s,onPressStart:i,onPressUp:c,onPress:$,onPressChange:g,onPressEnd:y,onClick:d,onHoverStart:b,onHoverChange:f,onHoverEnd:v,onKeyDown:m,onKeyUp:D,onFocus:h,onFocusChange:N,onBlur:Y,selectionManager:E=e.selectionManager}=t,k=!!s,w=k&&t["aria-expanded"]==="true";var B;let F=(B=t.isDisabled)!==null&&B!==void 0?B:E.isDisabled(a);var X;let fe=(X=t.isSelected)!==null&&X!==void 0?X:E.isSelected(a),T=ar.get(e),P=e.collection.getItem(a),$e=t.onClose||T.onClose,sr=Gr(),lr=()=>{var x;if(!k&&(!(P==null||(x=P.props)===null||x===void 0)&&x.onAction?P.props.onAction():t.onAction&&t.onAction(a),T.onAction)){let L=T.onAction;L(a)}},Q="menuitem";k||(E.selectionMode==="single"?Q="menuitemradio":E.selectionMode==="multiple"&&(Q="menuitemcheckbox"));let be=W(),pe=W(),ge=W(),V={id:n,"aria-disabled":F||void 0,role:Q,"aria-label":t["aria-label"],"aria-labelledby":be,"aria-describedby":[pe,ge].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":s,"aria-expanded":t["aria-expanded"]};E.selectionMode!=="none"&&!k&&(V["aria-checked"]=fe),l&&(V["aria-posinset"]=P==null?void 0:P.index,V["aria-setsize"]=Ir(e.collection));let me=u.useRef(!1),ir=x=>{g==null||g(x),me.current=x},R=u.useRef(null),ur=x=>{x.pointerType!=="keyboard"&&(R.current={pointerType:x.pointerType}),x.pointerType==="mouse"&&(me.current||x.target.click()),c==null||c(x)},dr=x=>{var L,ee;d==null||d(x),lr(),Xr(x,sr,P.props.href,P==null?void 0:P.props.routerOptions);let te=((L=R.current)===null||L===void 0?void 0:L.pointerType)==="keyboard"?((ee=R.current)===null||ee===void 0?void 0:ee.key)==="Enter"||E.selectionMode==="none"||E.isLink(a):E.selectionMode!=="multiple"||E.isLink(a);te=o??te,$e&&!k&&te&&$e(),R.current=null},{itemProps:O,isFocused:ve}=ea({id:n,selectionManager:E,key:a,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:T.shouldUseVirtualFocus}),{pressProps:cr,isPressed:fr}=Zr({onPressStart:i,onPress:$,onPressUp:ur,onPressChange:ir,onPressEnd:y,isDisabled:F}),{hoverProps:$r}=Be({isDisabled:F,onHoverStart(x){!Ee()&&!(w&&s)&&(E.setFocused(!0),E.setFocusedKey(a)),b==null||b(x)},onHoverChange:f,onHoverEnd:v}),{keyboardProps:br}=qr({onKeyDown:x=>{if(x.repeat){x.continuePropagation();return}switch(x.key){case" ":R.current={pointerType:"keyboard",key:" "},x.target.click();break;case"Enter":R.current={pointerType:"keyboard",key:"Enter"},x.target.tagName!=="A"&&x.target.click();break;default:k||x.continuePropagation(),m==null||m(x);break}},onKeyUp:D}),{focusProps:pr}=Jr({onBlur:Y,onFocus:h,onFocusChange:N}),xe=A(P==null?void 0:P.props);delete xe.id;let gr=Yr(P==null?void 0:P.props);return{menuItemProps:{...V,...S(xe,gr,k?{onFocus:O.onFocus,"data-collection":O["data-collection"],"data-key":O["data-key"]}:O,cr,$r,br,pr,T.shouldUseVirtualFocus||k?{onMouseDown:x=>x.preventDefault()}:void 0,F?void 0:{onClick:dr}),tabIndex:O.tabIndex!=null&&w&&!T.shouldUseVirtualFocus?-1:O.tabIndex},labelProps:{id:be},descriptionProps:{id:pe},keyboardShortcutProps:{id:ge},isFocused:ve,isFocusVisible:ve&&E.isFocused&&Ee()&&!w,isSelected:fe,isPressed:fr,isDisabled:F}}function ka(t){let{heading:e,"aria-label":r}=t,n=q();return{itemProps:{role:"presentation"},headingProps:e?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?n:void 0}}}function Ma(t,e){let{role:r="dialog"}=t,n=W();n=t["aria-label"]?void 0:n;let a=u.useRef(!1);return u.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){se(e.current);let o=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(a.current=!0,e.current&&(e.current.blur(),se(e.current)),a.current=!1)},500);return()=>{clearTimeout(o)}}},[e]),ha(),{dialogProps:{...A(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||n,onBlur:o=>{a.current&&o.stopPropagation()}},titleProps:{id:n}}}function ue(t){let e=Ae(t),[r,n]=u.useState(null),[a,o]=u.useState([]),l=()=>{o([]),e.close()};return{focusStrategy:r,...e,open(c=null){n(c),e.open()},toggle(c=null){n(c),e.toggle()},close(){l()},expandedKeysStack:a,openSubmenu:(c,$)=>{o(g=>$>g.length?g:[...g.slice(0,$),c])},closeSubmenu:(c,$)=>{o(g=>g[$]===c?g.slice(0,$):g)}}}class Sa{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var n;return r&&(n=r.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(e){let r=this.keyMap.get(e);var n;return r&&(n=r.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let n=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&(s.type==="section"||r.has(s.key)))for(let i of s.childNodes)n(i)};for(let s of e)n(s);let a=null,o=0;for(let[s,i]of this.keyMap)a?(a.nextKey=s,i.prevKey=a.key):(this.firstKey=s,i.prevKey=void 0),i.type==="item"&&(i.index=o++),a=i,a.nextKey=void 0;var l;this.lastKey=(l=a==null?void 0:a.key)!==null&&l!==void 0?l:null}}function Aa(t){let{onExpandedChange:e}=t,[r,n]=aa(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=Ke(t),o=u.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),l=ta(t,u.useCallback(i=>new Sa(i,{expandedKeys:r}),[r]),null);return u.useEffect(()=>{a.focusedKey!=null&&!l.getItem(a.focusedKey)&&a.setFocusedKey(null)},[l,a.focusedKey]),{collection:l,expandedKeys:r,disabledKeys:o,toggleKey:i=>{n(wa(r,i))},setExpandedKeys:n,selectionManager:new Te(l,a)}}function wa(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const de=u.createContext(null),Se=u.createContext(null),on=u.forwardRef(function(e,r){[e,r]=z(e,r,de);let n=u.useContext(J),a=Ae(e),o=e.isOpen!=null||e.defaultOpen!=null||!n?a:n,l=Dr(r,o.isOpen)||e.isExiting||!1,s=sa(),{direction:i}=_r();if(s){let c=e.children;return typeof c=="function"&&(c=c({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),p.createElement(p.Fragment,null,c)}return o&&!o.isOpen&&!l?null:p.createElement(Ba,{...e,triggerRef:e.triggerRef,state:o,popoverRef:r,isExiting:l,dir:i})});function Ba({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:n,...a}){let o=u.useRef(null),l=u.useRef(null),s=u.useContext(Se),i=s&&a.trigger==="SubmenuTrigger";var c;let{popoverProps:$,underlayProps:g,arrowProps:y,placement:d,triggerAnchorPoint:b}=ya({...a,offset:(c=a.offset)!==null&&c!==void 0?c:8,arrowRef:o,groupRef:i?s:l},t),f=a.popoverRef,v=kr(f,!!d)||a.isEntering||!1,m=U({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:d,isEntering:v,isExiting:e}}),D=!a.isNonModal||a.trigger==="SubmenuTrigger",[h,N]=u.useState(!1);ie(()=>{f.current&&N(D&&!f.current.querySelector("[role=dialog]"))},[f,D]),u.useEffect(()=>{h&&a.trigger!=="SubmenuTrigger"&&f.current&&!f.current.contains(document.activeElement)&&se(f.current)},[h,f,a.trigger]);let Y=u.useMemo(()=>{let B=m.children;if(n)for(let F of n)B=p.createElement(F.Provider,{value:null},B);return B},[m.children,n]),E={...$.style,"--trigger-anchor-point":b?`${b.x}px ${b.y}px`:void 0,...m.style},k=p.createElement("div",{...S(A(a,{global:!0}),$),...m,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:f,slot:a.slot||void 0,style:E,dir:a.dir,"data-trigger":a.trigger,"data-placement":d,"data-entering":v||void 0,"data-exiting":e||void 0},!a.isNonModal&&p.createElement(ke,{onDismiss:t.close}),p.createElement(Mr.Provider,{value:{...y,placement:d,ref:o}},Y),p.createElement(ke,{onDismiss:t.close}));if(!i)return p.createElement(Me,{...a,shouldContainFocus:h,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&p.createElement("div",{"data-testid":"underlay",...g,style:{position:"fixed",inset:0}}),p.createElement("div",{ref:l,style:{display:"contents"}},p.createElement(Se.Provider,{value:l},k)));var w;return p.createElement(Me,{...a,shouldContainFocus:h,isExiting:e,portalContainer:(w=r??(s==null?void 0:s.current))!==null&&w!==void 0?w:void 0},k)}const Fa=u.createContext({}),nr=u.createContext(null),ce=u.createContext(null),G=u.createContext(null),Z=u.createContext(null);function sn(t){let e=ue(t),r=u.useRef(null),{menuTriggerProps:n,menuProps:a}=Ea({...t,type:"menu"},e,r),[o,l]=u.useState(null),s=u.useCallback(()=>{r.current&&l(r.current.offsetWidth+"px")},[r]);Fe({ref:r,onResize:s});let i=u.useRef(null);return p.createElement(I,{values:[[nr,{...a,ref:i}],[J,e],[G,e],[de,{trigger:"MenuTrigger",triggerRef:r,scrollRef:i,placement:"bottom start",style:{"--trigger-width":o},"aria-labelledby":a["aria-labelledby"]}]]},p.createElement(Re,{...n,ref:r,isPressed:e.isOpen},t.children))}const Ka=u.createContext(null);class Ta extends Tr{filter(e,r,n){let a=e.getItem(this.firstChildKey);if(a&&n(a.textValue,this)){let o=this.clone();return r.addDescendants(o,e),o}return null}}Ta.type="submenutrigger";const ln=u.forwardRef(function(e,r){return[e,r]=z(e,r,nr),p.createElement(wr,{content:p.createElement(Br,e)},n=>p.createElement(Ra,{props:e,collection:n,menuRef:r}))});function Ra({props:t,collection:e,menuRef:r}){[t,r]=z(t,r,he);let{filter:n,...a}=t,o=u.useMemo(()=>n?e.filter(n):e,[e,n]),l=Aa({...t,collection:o,children:void 0}),s=u.useContext(G),{isVirtualized:i,CollectionRoot:c}=u.useContext(we),{menuProps:$}=Ca({...t,isVirtualized:i,onClose:t.onClose||(s==null?void 0:s.close)},l,r),g=U({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:l.collection.size===0}}),y=null;l.collection.size===0&&t.renderEmptyState&&(y=p.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState()));let d=A(t,{global:!0});return p.createElement(Ie,null,p.createElement("div",{...S(d,g,$),ref:r,slot:t.slot||void 0,"data-empty":l.collection.size===0||void 0,onScroll:t.onScroll},p.createElement(I,{values:[[ce,l],[Nr,{elementType:"div"}],[Fr,{name:"MenuSection",render:Ia}],[Ka,{parentMenuRef:r,shouldUseVirtualFocus:a==null?void 0:a.shouldUseVirtualFocus}],[le,null],[he,null],[Rr,null],[Z,l.selectionManager],[G,s??ue({})]]},p.createElement(c,{collection:l.collection,persistedKeys:Kr(l.selectionManager.focusedKey),scrollRef:r})),y))}class Oa extends Te{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function Ia(t,e,r,n="react-aria-MenuSection"){var a,o;let l=u.useContext(ce),{CollectionBranch:s}=u.useContext(we),[i,c]=yr();var $;let{headingProps:g,groupProps:y}=ka({heading:c,"aria-label":($=r.props["aria-label"])!==null&&$!==void 0?$:void 0}),d=U({defaultClassName:n,className:(a=r.props)===null||a===void 0?void 0:a.className,style:(o=r.props)===null||o===void 0?void 0:o.style,values:{}}),b=u.useContext(Z),f=Ke(t),v=t.selectionMode!=null?new Oa(b,f):b,m=A(t,{global:!0});return delete m.id,p.createElement("section",{...S(m,d,y),ref:e},p.createElement(I,{values:[[Lr,{...g,ref:i}],[Z,v]]},p.createElement(s,{collection:l.collection,parent:r})))}const le=u.createContext(null),un=Sr(Ar,function(e,r,n){var a;[e,r]=z(e,r,le);let o=(a=vr(le))===null||a===void 0?void 0:a.id,l=u.useContext(ce),s=xr(r),i=u.useContext(Z),{menuItemProps:c,labelProps:$,descriptionProps:g,keyboardShortcutProps:y,...d}=Da({...e,id:o,key:n.key,selectionManager:i},l,s),{hoverProps:b,isHovered:f}=Be({isDisabled:d.isDisabled}),v=U({...e,id:void 0,children:n.rendered,defaultClassName:"react-aria-MenuItem",values:{...d,isHovered:f,isFocusVisible:d.isFocusVisible,selectionMode:i.selectionMode,selectionBehavior:i.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),m=e.href?"a":"div",D=A(e,{global:!0});return delete D.id,delete D.onClick,p.createElement(m,{...S(D,v,c,b),ref:s,"data-disabled":d.isDisabled||void 0,"data-hovered":f||void 0,"data-focused":d.isFocused||void 0,"data-focus-visible":d.isFocusVisible||void 0,"data-pressed":d.isPressed||void 0,"data-selected":d.isSelected||void 0,"data-selection-mode":i.selectionMode==="none"?void 0:i.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},p.createElement(I,{values:[[zr,{slots:{[oe]:$,label:$,description:g}}],[Fa,y]]},v.children))}),or=u.createContext(null),J=u.createContext(null);function dn(t){let e=ue(t),r=u.useRef(null),{triggerProps:n,overlayProps:a}=Le({type:"dialog"},e,r),[o,l]=u.useState(null),s=u.useCallback(()=>{r.current&&l(r.current.offsetWidth+"px")},[r]);return Fe({ref:r,onResize:s}),n.id=q(),a["aria-labelledby"]=n.id,p.createElement(I,{values:[[J,e],[G,e],[or,a],[de,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":a["aria-labelledby"],style:{"--trigger-width":o}}]]},p.createElement(Re,{...n,ref:r,isPressed:e.isOpen},t.children))}const cn=u.forwardRef(function(e,r){let n=e["aria-labelledby"];[e,r]=z(e,r,or);let{dialogProps:a,titleProps:o}=Ma({...e,"aria-labelledby":n},r),l=u.useContext(J);!a["aria-label"]&&!a["aria-labelledby"]&&e["aria-labelledby"]&&(a["aria-labelledby"]=e["aria-labelledby"]);let s=U({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(l==null?void 0:l.close)||(()=>{})}}),i=A(e,{global:!0});return p.createElement("section",{...S(i,s,a),ref:r,slot:e.slot||void 0},p.createElement(I,{values:[[hr,{slots:{[oe]:{},title:{...o,level:2}}}],[mr,{slots:{[oe]:{},close:{onPress:()=>l==null?void 0:l.close()}}}]]},s.children))});export{dn as $,un as a,sn as b,on as c,ln as d,da as e,fa as f,ha as g,va as h,J as i,ke as j,Me as k,cn as l,de as m,or as n,Ea as o,ue as p};
