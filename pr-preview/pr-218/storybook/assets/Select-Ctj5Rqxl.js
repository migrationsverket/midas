import{j as v}from"./jsx-runtime-DH9XN8A8.js";import{r as b,R as $}from"./index-v7USjxUg.js";import{a as H,$ as U}from"./Button-cy0YQPBK.js";import{$ as A,a as L,b as G,c as J}from"./ListBox-Dgd-qrsy.js";import{d as Q,e as X,f as Y,g as Z,h as ee,a as ae}from"./Dialog-CDeFJ-i8.js";import{n as E,d as M,k as te,D as le,G as ne,$ as T,x as N,b as ie,y as se,z as oe,c as V,A as re}from"./useFocusable-CqyV9KfR.js";import{e as de,f as ce,d as fe,a as ue,b as be}from"./Form-6qhXXIxn.js";import{$ as $e}from"./intlStrings-ZMTSFH_M.js";import{b as me,$ as pe}from"./useField-B1pHB-Nx.js";import{$ as j}from"./Text-DrJ9K20X.js";import{$ as ve}from"./Collection-8piRyjmC.js";import{$ as xe}from"./useSingleSelectListState-BrZOWkl1.js";import{$ as ye,a as ge}from"./ListKeyboardDelegate-CXCmEo1-.js";import{g as he}from"./SelectionManager-BYD2QTVK.js";import{$ as Pe}from"./VisuallyHidden-DuYW2rLE.js";import{$ as Re}from"./useLocalizedStringFormatter-DLyzyrox.js";import{C as De}from"./chevron-down-BUsHYY-S.js";import{I as Ie}from"./TextField-C1ZJdY04.js";const O=new WeakMap;function Se(e,a,o){let{keyboardDelegate:i,isDisabled:l,isRequired:s,name:d,validationBehavior:t="aria"}=e,n=ye({usage:"search",sensitivity:"base"}),c=b.useMemo(()=>i||new ge(a.collection,a.disabledKeys,o,n),[i,a.collection,a.disabledKeys,n]),{menuTriggerProps:r,menuProps:f}=Q({isDisabled:l,type:"listbox"},a,o),x=u=>{switch(u.key){case"ArrowLeft":{var h,P;u.preventDefault();let I=a.selectedKey!=null?(h=c.getKeyAbove)===null||h===void 0?void 0:h.call(c,a.selectedKey):(P=c.getFirstKey)===null||P===void 0?void 0:P.call(c);I&&a.setSelectedKey(I);break}case"ArrowRight":{var w,_;u.preventDefault();let I=a.selectedKey!=null?(w=c.getKeyBelow)===null||w===void 0?void 0:w.call(c,a.selectedKey):(_=c.getFirstKey)===null||_===void 0?void 0:_.call(c);I&&a.setSelectedKey(I);break}}},{typeSelectProps:p}=he({keyboardDelegate:c,selectionManager:a.selectionManager,onTypeSelect(u){a.setSelectedKey(u)}}),{isInvalid:y,validationErrors:R,validationDetails:B}=a.displayValidation,{labelProps:F,fieldProps:D,descriptionProps:g,errorMessageProps:k}=me({...e,labelElementType:"span",isInvalid:y,errorMessage:e.errorMessage||R});p.onKeyDown=p.onKeyDownCapture,delete p.onKeyDownCapture;let K=E(e,{labelable:!0}),m=M(p,r,D),C=te();return O.set(a,{isDisabled:l,isRequired:s,name:d,validationBehavior:t}),{labelProps:{...F,onClick:()=>{if(!e.isDisabled){var u;(u=o.current)===null||u===void 0||u.focus(),le("keyboard")}}},triggerProps:M(K,{...m,isDisabled:l,onKeyDown:ne(m.onKeyDown,x,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[C,m["aria-labelledby"],m["aria-label"]&&!m["aria-labelledby"]?m.id:null].filter(Boolean).join(" "),onFocus(u){a.isFocused||(e.onFocus&&e.onFocus(u),e.onFocusChange&&e.onFocusChange(!0),a.setFocused(!0))},onBlur(u){a.isOpen||(e.onBlur&&e.onBlur(u),e.onFocusChange&&e.onFocusChange(!1),a.setFocused(!1))}}),valueProps:{id:C},menuProps:{...f,autoFocus:a.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:u=>{u.currentTarget.contains(u.relatedTarget)||(e.onBlur&&e.onBlur(u),e.onFocusChange&&e.onFocusChange(!1),a.setFocused(!1))},"aria-labelledby":[D["aria-labelledby"],m["aria-label"]&&!D["aria-labelledby"]?m.id:null].filter(Boolean).join(" ")},descriptionProps:g,errorMessageProps:k,isInvalid:y,validationErrors:R,validationDetails:B}}function Ce(e,a,o){let i=O.get(a)||{},{autoComplete:l,name:s=i.name,isDisabled:d=i.isDisabled}=e,{validationBehavior:t,isRequired:n}=i,{visuallyHiddenProps:c}=Pe();de(e.selectRef,a.selectedKey,a.setSelectedKey),ce({validationBehavior:t,focus:()=>{var f;return(f=o.current)===null||f===void 0?void 0:f.focus()}},a,e.selectRef);var r;return{containerProps:{...c,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:l,disabled:d,required:t==="native"&&n,name:s,value:(r=a.selectedKey)!==null&&r!==void 0?r:"",onChange:f=>a.setSelectedKey(f.target.value)}}}function Be(e){let{state:a,triggerRef:o,label:i,name:l,isDisabled:s}=e,d=b.useRef(null),{containerProps:t,selectProps:n}=Ce({...e,selectRef:d},a,o);var c;return a.collection.size<=300?$.createElement("div",{...t,"data-testid":"hidden-select-container"},$.createElement("label",null,i,$.createElement("select",{...n,ref:d},$.createElement("option",null),[...a.collection.getKeys()].map(r=>{let f=a.collection.getItem(r);if(f&&f.type==="item")return $.createElement("option",{key:f.key,value:f.key},f.textValue)})))):l?$.createElement("input",{type:"hidden",autoComplete:n.autoComplete,name:l,disabled:s,value:(c=a.selectedKey)!==null&&c!==void 0?c:""}):null}function Fe(e){let a=X(e),[o,i]=b.useState(null),l=xe({...e,onSelectionChange:n=>{e.onSelectionChange!=null&&e.onSelectionChange(n),a.close(),s.commitValidation()}}),s=fe({...e,value:l.selectedKey}),[d,t]=b.useState(!1);return{...s,...l,...a,focusStrategy:o,open(n=null){l.collection.size!==0&&(i(n),a.open())},toggle(n=null){l.collection.size!==0&&(i(n),a.toggle())},isFocused:d,setFocused:t}}function ke(e){return e&&e.__esModule?e.default:e}const q=b.createContext(null),z=b.createContext(null),Ke=b.forwardRef(function(a,o){[a,o]=T(a,o,q);let{children:i,isDisabled:l=!1,isInvalid:s=!1,isRequired:d=!1}=a,t=b.useMemo(()=>typeof i=="function"?i({isOpen:!1,isDisabled:l,isInvalid:s,isRequired:d,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):i,[i,l,s,d]);return $.createElement(ve,{content:t},n=>$.createElement(we,{props:a,collection:n,selectRef:o}))});function we({props:e,selectRef:a,collection:o}){let{validationBehavior:i}=N(ue)||{};var l,s;let d=(s=(l=e.validationBehavior)!==null&&l!==void 0?l:i)!==null&&s!==void 0?s:"native",t=Fe({...e,collection:o,children:void 0,validationBehavior:d}),{isFocusVisible:n,focusProps:c}=ie({within:!0}),r=b.useRef(null),[f,x]=se(),{labelProps:p,triggerProps:y,valueProps:R,menuProps:B,descriptionProps:F,errorMessageProps:D,...g}=Se({...oe(e),label:x,validationBehavior:d},t,r),[k,K]=b.useState(null),m=b.useCallback(()=>{r.current&&K(r.current.offsetWidth+"px")},[r]);Y({ref:r,onResize:m});let C=b.useMemo(()=>({isOpen:t.isOpen,isFocused:t.isFocused,isFocusVisible:n,isDisabled:e.isDisabled||!1,isInvalid:g.isInvalid||!1,isRequired:e.isRequired||!1}),[t.isOpen,t.isFocused,n,e.isDisabled,g.isInvalid,e.isRequired]),u=V({...e,values:C,defaultClassName:"react-aria-Select"}),h=E(e);delete h.id;let P=b.useRef(null);return $.createElement(re,{values:[[q,e],[z,t],[W,R],[pe,{...p,ref:f,elementType:"span"}],[H,{...y,ref:r,isPressed:t.isOpen}],[Z,t],[ee,{trigger:"Select",triggerRef:r,scrollRef:P,placement:"bottom start",style:{"--trigger-width":k}}],[A,{...B,ref:P}],[L,t],[j,{slots:{description:F,errorMessage:D}}],[be,g]]},$.createElement("div",{...h,...u,...c,ref:a,slot:e.slot||void 0,"data-focused":t.isFocused||void 0,"data-focus-visible":n||void 0,"data-open":t.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":g.isInvalid||void 0,"data-required":e.isRequired||void 0}),$.createElement(Be,{autoComplete:e.autoComplete,state:t,triggerRef:r,label:x,name:e.name,isDisabled:e.isDisabled}))}const W=b.createContext(null),_e=b.forwardRef(function(a,o){var i,l;[a,o]=T(a,o,W);let s=b.useContext(z),{placeholder:d}=N(q),t=s.selectedKey!=null?s.collection.getItem(s.selectedKey):null,n=t==null?void 0:t.props.children;typeof n=="function"&&(n=n({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let c=Re(ke($e),"react-aria-components");var r,f,x;let p=V({...a,defaultChildren:(r=n??d)!==null&&r!==void 0?r:c.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(f=(i=s.selectedItem)===null||i===void 0?void 0:i.value)!==null&&f!==void 0?f:null,selectedText:(x=(l=s.selectedItem)===null||l===void 0?void 0:l.textValue)!==null&&x!==void 0?x:null,isPlaceholder:!t}}),y=E(a);return $.createElement("span",{ref:o,...y,...p,"data-placeholder":!t||void 0},$.createElement(j.Provider,{value:void 0},p.children))}),Ee='"../theme/tokens.css"',qe='"Inter", sans-serif',Me="#000000",Te="#b31b1b",Ne="(max-width: 767px)",Ve="#bfbfbf",je="#e6e6e6",Oe="0 0 0 2px #ffffff, 0 0 0 4px #000000",ze="#f2f2f2",We="_button_1n8ts_4",He="_select_1n8ts_41",Ue="_popover_1n8ts_57",Ae="_listBoxItem_1n8ts_65",Le="_icon_1n8ts_87",S={tokens:Ee,display:qe,black:Me,signalRed130:Te,smBreakpoint:Ne,gray50:Ve,gray20:je,focus:Oe,backgroundSecondary:ze,button:We,select:He,popover:Ue,listBoxItem:Ae,icon:Le};function Ge({label:e,description:a,errorMessage:o,children:i,items:l,...s}){const d=$.useRef(null);return v.jsxs(Ke,{className:S.select,ref:d,...s,children:[v.jsx(Ie,{label:e,description:a,errorMessage:o,children:v.jsxs(U,{className:S.button,children:[v.jsx(_e,{}),v.jsx("div",{className:S.icon,"aria-hidden":"true",children:v.jsx(De,{size:20,"aria-hidden":!0})})]})}),v.jsx(ae,{className:S.popover,offset:0,UNSTABLE_portalContainer:d.current||void 0,children:v.jsx(G,{items:l,children:i})})]})}function Je(e){return v.jsx(J,{className:S.listBoxItem,...e})}Ge.__docgenInfo={description:"",methods:[],displayName:"Select",props:{label:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string)",elements:[{name:"string"},{name:"unknown"}]},description:""},items:{required:!1,tsType:{name:"Iterable",elements:[{name:"T"}],raw:"Iterable<T>"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | ((item: T) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:""}},composes:["Omit"]};Je.__docgenInfo={description:"",methods:[],displayName:"Item"};export{Je as I,Ge as S};
