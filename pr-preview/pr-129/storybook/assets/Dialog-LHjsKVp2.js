import{v as ne,s as ut,I as pt,j as F,b as $t,q as be,S as mt,F as Q,c as ve,a as bt,w as vt,t as le,m as re,$ as ge,A as gt,z as ht,f as xt,B as he,T as Et}from"./useFocusable-B5I9Mbqb.js";import{$ as wt}from"./RSPContexts-HQcWPJyv.js";import{r as m,R as w}from"./index-ClcD9ViR.js";import{a as Ct,$ as Pt}from"./PressResponder-BJgT4zxW.js";import{a as yt,$ as Rt}from"./useControlledState-D4qbXjzs.js";import{c as Tt,a as Lt}from"./FocusScope-DNSqUz2w.js";import{F as Ot}from"./index-ZuzByk-F.js";import{b as St}from"./Hidden-Gy3GO5dR.js";import{$ as It}from"./context-B6q4sYiW.js";import{$ as xe}from"./getScrollParent-yMl4gzwT.js";import{$ as Dt}from"./useLocalizedStringFormatter-D0BHcg8e.js";import{a as Ht}from"./VisuallyHidden-PZ3yCKRL.js";function Mt(){return typeof window.ResizeObserver<"u"}function ie(e){const{ref:t,box:o,onResize:r}=e;m.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(Mt()){const i=new window.ResizeObserver(c=>{c.length&&r()});return i.observe(n,{box:o}),()=>{n&&i.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t,o])}function ee(e,t=-1/0,o=1/0){return Math.min(Math.max(e,t),o)}function At(e){let{ref:t,onInteractOutside:o,isDisabled:r,onInteractOutsideStart:n}=e,i=m.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=ne(s=>{o&&Y(s,t)&&(n&&n(s),i.current.isPointerDown=!0)}),l=ne(s=>{o&&o(s)});m.useEffect(()=>{let s=i.current;if(r)return;const d=t.current,a=ut(d);if(typeof PointerEvent<"u"){let p=u=>{s.isPointerDown&&Y(u,t)&&l(u),s.isPointerDown=!1};return a.addEventListener("pointerdown",c,!0),a.addEventListener("pointerup",p,!0),()=>{a.removeEventListener("pointerdown",c,!0),a.removeEventListener("pointerup",p,!0)}}else{let p=$=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&Y($,t)&&l($),s.isPointerDown=!1},u=$=>{s.ignoreEmulatedMouseEvents=!0,s.isPointerDown&&Y($,t)&&l($),s.isPointerDown=!1};return a.addEventListener("mousedown",c,!0),a.addEventListener("mouseup",p,!0),a.addEventListener("touchstart",c,!0),a.addEventListener("touchend",u,!0),()=>{a.removeEventListener("mousedown",c,!0),a.removeEventListener("mouseup",p,!0),a.removeEventListener("touchstart",c,!0),a.removeEventListener("touchend",u,!0)}}},[t,r,c,l])}function Y(e,t){if(e.button>0)return!1;if(e.target){const o=e.target.ownerDocument;if(!o||!o.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const S={top:"top",bottom:"top",left:"left",right:"left"},Z={top:"bottom",bottom:"top",left:"right",right:"left"},Nt={top:"left",left:"top"},te={top:"height",left:"width"},Ee={width:"totalWidth",height:"totalHeight"},j={};let y=typeof document<"u"&&window.visualViewport;function ae(e){let t=0,o=0,r=0,n=0,i=0,c=0,l={},s=(y==null?void 0:y.scale)>1;if(e.tagName==="BODY"){let p=document.documentElement;r=p.clientWidth,n=p.clientHeight;var d;t=(d=y==null?void 0:y.width)!==null&&d!==void 0?d:r;var a;o=(a=y==null?void 0:y.height)!==null&&a!==void 0?a:n,l.top=p.scrollTop||e.scrollTop,l.left=p.scrollLeft||e.scrollLeft,y&&(i=y.offsetTop,c=y.offsetLeft)}else({width:t,height:o,top:i,left:c}=W(e)),l.top=e.scrollTop,l.left=e.scrollLeft,r=t,n=o;return pt()&&(e.tagName==="BODY"||e.tagName==="HTML")&&s&&(l.top=0,l.left=0,i=y.pageTop,c=y.pageLeft),{width:t,height:o,totalWidth:r,totalHeight:n,scroll:l,top:i,left:c}}function Ft(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function se(e,t,o,r,n,i,c){let l=n.scroll[e],s=r[te[e]],d=r.scroll[S[e]]+i,a=s+r.scroll[S[e]]-i,p=t-l+c[e]-r[S[e]],u=t-l+o+c[e]-r[S[e]];return p<d?d-p:u>a?Math.max(a-u,d-p):0}function kt(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function ce(e){if(j[e])return j[e];let[t,o]=e.split(" "),r=S[t]||"right",n=Nt[r];S[o]||(o="center");let i=te[r],c=te[n];return j[e]={placement:t,crossPlacement:o,axis:r,crossAxis:n,size:i,crossSize:c},j[e]}function X(e,t,o,r,n,i,c,l,s,d){let{placement:a,crossPlacement:p,axis:u,crossAxis:$,size:f,crossSize:g}=r,b={};b[$]=e[$],p==="center"?b[$]+=(e[g]-o[g])/2:p!==$&&(b[$]+=e[g]-o[g]),b[$]+=i;const R=e[$]-o[g]+s+d,v=e[$]+e[g]-s-d;if(b[$]=ee(b[$],R,v),a===u){const P=l?c[f]:t[Ee[f]];b[Z[u]]=Math.floor(P-e[u]+n)}else b[u]=Math.floor(e[u]+e[f]+n);return b}function zt(e,t,o,r,n,i,c,l){const s=r?o.height:t[Ee.height];let d=e.top!=null?o.top+e.top:o.top+(s-e.bottom-c),a=l!=="top"?Math.max(0,t.height+t.top+t.scroll.top-d-(n.top+n.bottom+i)):Math.max(0,d+c-(t.top+t.scroll.top)-(n.top+n.bottom+i));return Math.min(t.height-i*2,a)}function de(e,t,o,r,n,i){let{placement:c,axis:l,size:s}=i;return c===l?Math.max(0,o[l]-e[l]-e.scroll[l]+t[l]-r[l]-r[Z[l]]-n):Math.max(0,e[s]+e[l]+e.scroll[l]-t[l]-o[l]-o[s]-r[l]-r[Z[l]]-n)}function Bt(e,t,o,r,n,i,c,l,s,d,a,p,u,$,f,g){let b=ce(e),{size:R,crossAxis:v,crossSize:P,placement:k,crossPlacement:L}=b,h=X(t,l,o,b,a,p,d,u,f,g),z=a,H=de(l,d,t,n,i+a,b);if(c&&r[R]>H){let q=ce(`${Z[k]} ${L}`),ft=X(t,l,o,q,a,p,d,u,f,g);de(l,d,t,n,i+a,q)>H&&(b=q,h=ft,z=a)}let E="bottom";b.axis==="top"?b.placement==="top"?E="top":b.placement==="bottom"&&(E="bottom"):b.crossAxis==="top"&&(b.crossPlacement==="top"?E="bottom":b.crossPlacement==="bottom"&&(E="top"));let C=se(v,h[v],o[P],l,s,i,d);h[v]+=C;let O=zt(h,l,d,u,n,i,o.height,E);$&&$<O&&(O=$),o.height=Math.min(o.height,O),h=X(t,l,o,b,z,p,d,u,f,g),C=se(v,h[v],o[P],l,s,i,d),h[v]+=C;let M={},A=t[v]+.5*t[P]-h[v]-n[S[v]];const I=f/2+g,N=S[v]==="left"?n.left+n.right:n.top+n.bottom,_=o[P]-N-f/2-g,st=t[v]+f/2-(h[v]+n[S[v]]),ct=t[v]+t[P]-f/2-(h[v]+n[S[v]]),dt=ee(A,st,ct);return M[v]=ee(dt,I,_),{position:h,maxHeight:O,arrowOffsetLeft:M.left,arrowOffsetTop:M.top,placement:b.placement}}function Wt(e){let{placement:t,targetNode:o,overlayNode:r,scrollNode:n,padding:i,shouldFlip:c,boundaryElement:l,offset:s,crossOffset:d,maxHeight:a,arrowSize:p=0,arrowBoundaryOffset:u=0}=e,$=r instanceof HTMLElement?Kt(r):document.documentElement,f=$===document.documentElement;const g=window.getComputedStyle($).position;let b=!!g&&g!=="static",R=f?W(o):fe(o,$);if(!f){let{marginTop:H,marginLeft:E}=window.getComputedStyle(o);R.top+=parseInt(H,10)||0,R.left+=parseInt(E,10)||0}let v=W(r),P=kt(r);v.width+=P.left+P.right,v.height+=P.top+P.bottom;let k=Ft(n),L=ae(l),h=ae($),z=l.tagName==="BODY"?W($):fe($,l);return $.tagName==="HTML"&&l.tagName==="BODY"&&(h.scroll.top=0,h.scroll.left=0),Bt(t,R,v,k,P,i,c,L,h,z,s,d,b,a,p,u)}function W(e){let{top:t,left:o,width:r,height:n}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:c,clientTop:l,clientLeft:s}=document.documentElement;return{top:t+i-l,left:o+c-s,width:r,height:n}}function fe(e,t){let o=window.getComputedStyle(e),r;if(o.position==="fixed"){let{top:n,left:i,width:c,height:l}=e.getBoundingClientRect();r={top:n,left:i,width:c,height:l}}else{r=W(e);let n=W(t),i=window.getComputedStyle(t);n.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,n.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,r.top-=n.top,r.left-=n.left}return r.top-=parseInt(o.marginTop,10)||0,r.left-=parseInt(o.marginLeft,10)||0,r}function Kt(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!ue(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!ue(t);)t=t.parentElement;return t||document.documentElement}function ue(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const we=new WeakMap;function Ut(e){let{triggerRef:t,isOpen:o,onClose:r}=e;m.useEffect(()=>{if(!o||r===null)return;let n=i=>{let c=i.target;if(!t.current||c instanceof Node&&!c.contains(t.current)||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)return;let l=r||we.get(t.current);l&&l()};return window.addEventListener("scroll",n,!0),()=>{window.removeEventListener("scroll",n,!0)}},[o,r,t])}let x=typeof document<"u"&&window.visualViewport;function Yt(e){let{direction:t}=It(),{arrowSize:o=0,targetRef:r,overlayRef:n,scrollRef:i=n,placement:c="bottom",containerPadding:l=12,shouldFlip:s=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:a=0,crossOffset:p=0,shouldUpdatePosition:u=!0,isOpen:$=!0,onClose:f,maxHeight:g,arrowBoundaryOffset:b=0}=e,[R,v]=m.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),P=[u,c,n.current,r.current,i.current,l,s,d,a,p,$,t,g,b,o],k=m.useRef(x==null?void 0:x.scale);m.useEffect(()=>{$&&(k.current=x==null?void 0:x.scale)},[$]);let L=m.useCallback(()=>{if(u===!1||!$||!n.current||!r.current||!d||(x==null?void 0:x.scale)!==k.current)return;let E=null;if(i.current&&i.current.contains(document.activeElement)){let I=document.activeElement.getBoundingClientRect(),N=i.current.getBoundingClientRect();E={type:"top",offset:I.top-N.top},E.offset>N.height/2&&(E.type="bottom",E.offset=I.bottom-N.bottom)}let C=n.current;if(!g&&n.current){var O;C.style.top="0px",C.style.bottom="";var M;C.style.maxHeight=((M=(O=window.visualViewport)===null||O===void 0?void 0:O.height)!==null&&M!==void 0?M:window.innerHeight)+"px"}let A=Wt({placement:Vt(c,t),overlayNode:n.current,targetNode:r.current,scrollNode:i.current||n.current,padding:l,shouldFlip:s,boundaryElement:d,offset:a,crossOffset:p,maxHeight:g,arrowSize:o,arrowBoundaryOffset:b});if(C.style.top="",C.style.bottom="",C.style.left="",C.style.right="",Object.keys(A.position).forEach(I=>C.style[I]=A.position[I]+"px"),C.style.maxHeight=A.maxHeight!=null?A.maxHeight+"px":void 0,E){let I=document.activeElement.getBoundingClientRect(),N=i.current.getBoundingClientRect(),_=I[E.type]-N[E.type];i.current.scrollTop+=_-E.offset}v(A)},P);F(L,P),jt(L),ie({ref:n,onResize:L}),ie({ref:r,onResize:L});let h=m.useRef(!1);F(()=>{let E,C=()=>{h.current=!0,clearTimeout(E),E=setTimeout(()=>{h.current=!1},500),L()},O=()=>{h.current&&C()};return x==null||x.addEventListener("resize",C),x==null||x.addEventListener("scroll",O),()=>{x==null||x.removeEventListener("resize",C),x==null||x.removeEventListener("scroll",O)}},[L]);let z=m.useCallback(()=>{h.current||f()},[f,h]);Ut({triggerRef:r,isOpen:$,onClose:f&&z});var H;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...R.position,maxHeight:(H=R.maxHeight)!==null&&H!==void 0?H:"100vh"}},placement:R.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:R.arrowOffsetLeft,top:R.arrowOffsetTop}},updatePosition:L}}function jt(e){F(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function Vt(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const D=[];function Zt(e,t){let{onClose:o,shouldCloseOnBlur:r,isOpen:n,isDismissable:i=!1,isKeyboardDismissDisabled:c=!1,shouldCloseOnInteractOutside:l}=e;m.useEffect(()=>(n&&D.push(t),()=>{let f=D.indexOf(t);f>=0&&D.splice(f,1)}),[n,t]);let s=()=>{D[D.length-1]===t&&o&&o()},d=f=>{(!l||l(f.target))&&D[D.length-1]===t&&(f.stopPropagation(),f.preventDefault())},a=f=>{(!l||l(f.target))&&(D[D.length-1]===t&&(f.stopPropagation(),f.preventDefault()),s())},p=f=>{f.key==="Escape"&&!c&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),s())};At({ref:t,onInteractOutside:i&&n?a:null,onInteractOutsideStart:d});let{focusWithinProps:u}=$t({isDisabled:!r,onBlurWithin:f=>{!f.relatedTarget||Tt(f.relatedTarget)||(!l||l(f.relatedTarget))&&o()}}),$=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:p,...u},underlayProps:{onPointerDown:$}}}function _t(e,t,o){let{type:r}=e,{isOpen:n}=t;m.useEffect(()=>{o&&o.current&&we.set(o.current,t.close)});let i;r==="menu"?i=!0:r==="listbox"&&(i="listbox");let c=be();return{triggerProps:{"aria-haspopup":i,"aria-expanded":n,"aria-controls":n?c:null,onPress:t.toggle},overlayProps:{id:c}}}const G=typeof document<"u"&&window.visualViewport,qt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let V=0,J;function Xt(e={}){let{isDisabled:t}=e;F(()=>{if(!t)return V++,V===1&&(mt()?J=Jt():J=Gt()),()=>{V--,V===0&&J()}},[t])}function Gt(){return Q(B(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),B(document.documentElement,"overflow","hidden"))}function Jt(){let e,t,o=d=>{e=xe(d.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=B(e,"overscrollBehavior","contain"))},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&d.preventDefault()},n=d=>{let a=d.target;$e(a)&&a!==document.activeElement&&(d.preventDefault(),l(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},i=d=>{let a=d.target;$e(a)&&(l(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",G&&(G.height<window.innerHeight?requestAnimationFrame(()=>{pe(a)}):G.addEventListener("resize",()=>pe(a),{once:!0}))}))},c=null,l=()=>{if(c)return;let d=()=>{window.scrollTo(0,0)},a=window.pageXOffset,p=window.pageYOffset;c=Q(K(window,"scroll",d),B(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),B(document.documentElement,"overflow","hidden"),B(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(a,p)}),window.scrollTo(0,0)},s=Q(K(document,"touchstart",o,{passive:!1,capture:!0}),K(document,"touchmove",r,{passive:!1,capture:!0}),K(document,"touchend",n,{passive:!1,capture:!0}),K(document,"focus",i,!0));return()=>{t==null||t(),c==null||c(),s()}}function B(e,t,o){let r=e.style[t];return e.style[t]=o,()=>{e.style[t]=r}}function K(e,t,o,r){return e.addEventListener(t,o,r),()=>{e.removeEventListener(t,o,r)}}function pe(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let o=xe(e);if(o!==document.documentElement&&o!==document.body&&o!==e){let r=o.getBoundingClientRect().top,n=e.getBoundingClientRect().top;n>r+e.clientHeight&&(o.scrollTop+=n-r)}e=o.parentElement}}function $e(e){return e instanceof HTMLInputElement&&!qt.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Ce={};Ce={dismiss:"تجاهل"};var Pe={};Pe={dismiss:"Отхвърляне"};var ye={};ye={dismiss:"Odstranit"};var Re={};Re={dismiss:"Luk"};var Te={};Te={dismiss:"Schließen"};var Le={};Le={dismiss:"Απόρριψη"};var Oe={};Oe={dismiss:"Dismiss"};var Se={};Se={dismiss:"Descartar"};var Ie={};Ie={dismiss:"Lõpeta"};var De={};De={dismiss:"Hylkää"};var He={};He={dismiss:"Rejeter"};var Me={};Me={dismiss:"התעלם"};var Ae={};Ae={dismiss:"Odbaci"};var Ne={};Ne={dismiss:"Elutasítás"};var Fe={};Fe={dismiss:"Ignora"};var ke={};ke={dismiss:"閉じる"};var ze={};ze={dismiss:"무시"};var Be={};Be={dismiss:"Atmesti"};var We={};We={dismiss:"Nerādīt"};var Ke={};Ke={dismiss:"Lukk"};var Ue={};Ue={dismiss:"Negeren"};var Ye={};Ye={dismiss:"Zignoruj"};var je={};je={dismiss:"Descartar"};var Ve={};Ve={dismiss:"Dispensar"};var Ze={};Ze={dismiss:"Revocare"};var _e={};_e={dismiss:"Пропустить"};var qe={};qe={dismiss:"Zrušiť"};var Xe={};Xe={dismiss:"Opusti"};var Ge={};Ge={dismiss:"Odbaci"};var Je={};Je={dismiss:"Avvisa"};var Qe={};Qe={dismiss:"Kapat"};var et={};et={dismiss:"Скасувати"};var tt={};tt={dismiss:"取消"};var rt={};rt={dismiss:"關閉"};var ot={};ot={"ar-AE":Ce,"bg-BG":Pe,"cs-CZ":ye,"da-DK":Re,"de-DE":Te,"el-GR":Le,"en-US":Oe,"es-ES":Se,"et-EE":Ie,"fi-FI":De,"fr-FR":He,"he-IL":Me,"hr-HR":Ae,"hu-HU":Ne,"it-IT":Fe,"ja-JP":ke,"ko-KR":ze,"lt-LT":Be,"lv-LV":We,"nb-NO":Ke,"nl-NL":Ue,"pl-PL":Ye,"pt-BR":je,"pt-PT":Ve,"ro-RO":Ze,"ru-RU":_e,"sk-SK":qe,"sl-SI":Xe,"sr-SP":Ge,"sv-SE":Je,"tr-TR":Qe,"uk-UA":et,"zh-CN":tt,"zh-TW":rt};function Qt(e){return e&&e.__esModule?e.default:e}function me(e){let{onDismiss:t,...o}=e,r=Dt(Qt(ot),"@react-aria/overlays"),n=yt(o,r.format("dismiss")),i=()=>{t&&t()};return w.createElement(Ht,null,w.createElement("button",{...n,tabIndex:-1,onClick:i,style:{width:1,height:1}}))}let U=new WeakMap,T=[];function er(e,t=document.body){let o=new Set(e),r=new Set,n=s=>{for(let u of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))o.add(u);let d=u=>{if(o.has(u)||r.has(u.parentElement)&&u.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let $ of o)if(u.contains($))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(s);if(p===NodeFilter.FILTER_ACCEPT&&i(s),p!==NodeFilter.FILTER_REJECT){let u=a.nextNode();for(;u!=null;)i(u),u=a.nextNode()}},i=s=>{var d;let a=(d=U.get(s))!==null&&d!==void 0?d:0;s.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&s.setAttribute("aria-hidden","true"),r.add(s),U.set(s,a+1))};T.length&&T[T.length-1].disconnect(),n(t);let c=new MutationObserver(s=>{for(let d of s)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...o,...r].some(a=>a.contains(d.target))){for(let a of d.removedNodes)a instanceof Element&&(o.delete(a),r.delete(a));for(let a of d.addedNodes)(a instanceof HTMLElement||a instanceof SVGElement)&&(a.dataset.liveAnnouncer==="true"||a.dataset.reactAriaTopLayer==="true")?o.add(a):a instanceof Element&&n(a)}});c.observe(t,{childList:!0,subtree:!0});let l={observe(){c.observe(t,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return T.push(l),()=>{c.disconnect();for(let s of r){let d=U.get(s);d===1?(s.removeAttribute("aria-hidden"),U.delete(s)):U.set(s,d-1)}l===T[T.length-1]?(T.pop(),T.length&&T[T.length-1].observe()):T.splice(T.indexOf(l),1)}}function tr(e,t){let{triggerRef:o,popoverRef:r,isNonModal:n,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:c,...l}=e,{overlayProps:s,underlayProps:d}=Zt({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!n,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:c},r),{overlayProps:a,arrowProps:p,placement:u}=Yt({...l,targetRef:o,overlayRef:r,isOpen:t.isOpen,onClose:n?t.close:null});return Xt({isDisabled:n||!t.isOpen}),F(()=>{if(t.isOpen&&!n&&r.current)return er([r.current])},[n,t.isOpen,r]),{popoverProps:ve(s,a),arrowProps:p,underlayProps:d,placement:u}}const rr=m.createContext({});function or(){var e;return(e=m.useContext(rr))!==null&&e!==void 0?e:{}}const nt=w.createContext(null);function nr(e){let t=bt(),{portalContainer:o=t?null:document.body,isExiting:r}=e,[n,i]=m.useState(!1),c=m.useMemo(()=>({contain:n,setContain:i}),[n,i]),{getContainer:l}=or();if(!e.portalContainer&&l&&(o=l()),!o)return null;let s=e.children;return e.disableFocusManagement||(s=w.createElement(Lt,{restoreFocus:!0,contain:n&&!r},s)),s=w.createElement(nt.Provider,{value:c},w.createElement(Ct,null,s)),Ot.createPortal(s,o)}function lr(){let e=m.useContext(nt),t=e==null?void 0:e.setContain;F(()=>{t==null||t(!0)},[t])}function ir(e,t){let{role:o="dialog"}=e,r=vt();r=e["aria-label"]?void 0:r;let n=m.useRef(!1);return m.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){le(t.current);let i=setTimeout(()=>{document.activeElement===t.current&&(n.current=!0,t.current&&(t.current.blur(),le(t.current)),n.current=!1)},500);return()=>{clearTimeout(i)}}},[t]),lr(),{dialogProps:{...re(e,{labelable:!0}),role:o,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:i=>{n.current&&i.stopPropagation()}},titleProps:{id:r}}}function lt(e){let[t,o]=Rt(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=m.useCallback(()=>{o(!0)},[o]),n=m.useCallback(()=>{o(!1)},[o]),i=m.useCallback(()=>{o(!t)},[o,t]);return{isOpen:t,setOpen:o,open:r,close:n,toggle:i}}const ar=m.createContext({placement:"bottom"}),it=m.createContext(null);function sr(e,t){[e,t]=ge(e,t,it);let o=m.useContext(oe),r=lt(e),n=e.isOpen!=null||e.defaultOpen!=null||!o?r:o,i=gt(t,n.isOpen)||e.isExiting||!1;if(St()){let l=e.children;return typeof l=="function"&&(l=l({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),w.createElement(w.Fragment,null,l)}return n&&!n.isOpen&&!i?null:w.createElement(cr,{...e,triggerRef:e.triggerRef,state:n,popoverRef:t,isExiting:i})}const Pr=m.forwardRef(sr);function cr({state:e,isExiting:t,UNSTABLE_portalContainer:o,...r}){let n=m.useRef(null),[i,c]=m.useState(0);F(()=>{n.current&&e.isOpen&&c(n.current.getBoundingClientRect().width)},[e.isOpen,n]);var l;let{popoverProps:s,underlayProps:d,arrowProps:a,placement:p}=tr({...r,offset:(l=r.offset)!==null&&l!==void 0?l:8,arrowSize:i},e),u=r.popoverRef,$=ht(u,!!p)||r.isEntering||!1,f=xt({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:p,isEntering:$,isExiting:t}}),g={...s.style,...f.style};return w.createElement(nr,{isExiting:t,portalContainer:o},!r.isNonModal&&e.isOpen&&w.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),w.createElement("div",{...ve(re(r),s),...f,ref:u,slot:r.slot||void 0,style:g,"data-trigger":r.trigger,"data-placement":p,"data-entering":$||void 0,"data-exiting":t||void 0},!r.isNonModal&&w.createElement(me,{onDismiss:e.close}),w.createElement(ar.Provider,{value:{...a,placement:p,ref:n}},f.children),w.createElement(me,{onDismiss:e.close})))}const at=m.createContext(null),oe=m.createContext(null);function yr(e){let t=lt(e),o=m.useRef(null),{triggerProps:r,overlayProps:n}=_t({type:"dialog"},t,o);return r.id=be(),n["aria-labelledby"]=r.id,w.createElement(he,{values:[[oe,t],[at,n],[it,{trigger:"DialogTrigger",triggerRef:o}]]},w.createElement(Pt,{...r,ref:o,isPressed:t.isOpen},e.children))}function dr(e,t){let o=e["aria-labelledby"];[e,t]=ge(e,t,at);let{dialogProps:r,titleProps:n}=ir({...e,"aria-labelledby":o},t),i=m.useContext(oe),c=e.children;typeof c=="function"&&(c=c({close:(i==null?void 0:i.close)||(()=>{})})),!r["aria-label"]&&!r["aria-labelledby"]&&(e["aria-labelledby"]?r["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));var l;return w.createElement("section",{...re(e),...r,ref:t,slot:e.slot||void 0,style:e.style,className:(l=e.className)!==null&&l!==void 0?l:"react-aria-Dialog"},w.createElement(he,{values:[[wt,{slots:{[Et]:{},title:{...n,level:2}}}]]},c))}const Rr=m.forwardRef(dr);export{Zt as $,Xt as a,lr as b,er as c,oe as d,me as e,lt as f,nr as g,yr as h,Rr as i,ie as j,it as k,Pr as l,_t as m,at as n};
