import{j as x}from"./jsx-runtime-DtgEGaVE.js";import{c as D}from"./clsx-B-dksMZM.js";import{$ as N,a as B,b as L,c as k}from"./OverlayArrow-fkN0_ThZ.js";import{$ as w,c as H,l as j,a as A,f as F,b as U}from"./utils-Dv9Ux5aE.js";import{$ as M,b as z}from"./useFocusable-b_0ijIRa.js";import{r as o,R as b}from"./index-BbAIUH2N.js";import{$ as K,a as Y}from"./useOverlayTriggerState-CnVHlh1Q.js";import{a as R,q as G,t as J}from"./useFocusRing-CPQALXIu.js";import{$ as Q}from"./filterDOMProps-BSfnXAP7.js";import{$ as X}from"./useModal-j8uWYn4E.js";function Z(e,t){let l=Q(e,{labelable:!0}),{hoverProps:n}=R({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:w(l,n,{role:"tooltip"})}}function ee(e,t,l){let{isDisabled:n,trigger:i}=e,s=H(),r=o.useRef(!1),a=o.useRef(!1),f=()=>{(r.current||a.current)&&t.open(a.current)},d=y=>{!r.current&&!a.current&&t.close(y)};o.useEffect(()=>{let y=E=>{l&&l.current&&E.key==="Escape"&&(E.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",y,!0),()=>{document.removeEventListener("keydown",y,!0)}},[l,t]);let h=()=>{i!=="focus"&&(G()==="pointer"?r.current=!0:r.current=!1,f())},$=()=>{i!=="focus"&&(a.current=!1,r.current=!1,d())},g=()=>{a.current=!1,r.current=!1,d(!0)},T=()=>{J()&&(a.current=!0,f())},u=()=>{a.current=!1,r.current=!1,d(!0)},{hoverProps:I}=R({isDisabled:n,onHoverStart:h,onHoverEnd:$}),{focusableProps:W}=M({isDisabled:n,onFocus:T,onBlur:u},l);return{triggerProps:{"aria-describedby":t.isOpen?s:void 0,...w(W,I,{onPointerDown:g,onKeyDown:g,tabIndex:void 0})},tooltipProps:{id:s}}}const te=1500,P=500;let p={},le=0,v=!1,c=null,m=null;function S(e={}){let{delay:t=te,closeDelay:l=P}=e,{isOpen:n,open:i,close:s}=K(e),r=o.useMemo(()=>`${++le}`,[]),a=o.useRef(null),f=o.useRef(s),d=()=>{p[r]=g},h=()=>{for(let u in p)u!==r&&(p[u](!0),delete p[u])},$=()=>{a.current&&clearTimeout(a.current),a.current=null,h(),d(),v=!0,i(),c&&(clearTimeout(c),c=null),m&&(clearTimeout(m),m=null)},g=u=>{u||l<=0?(a.current&&clearTimeout(a.current),a.current=null,f.current()):a.current||(a.current=setTimeout(()=>{a.current=null,f.current()},l)),c&&(clearTimeout(c),c=null),v&&(m&&clearTimeout(m),m=setTimeout(()=>{delete p[r],m=null,v=!1},Math.max(P,l)))},T=()=>{h(),d(),!n&&!c&&!v?c=setTimeout(()=>{c=null,v=!0,$()},t):n||$()};return o.useEffect(()=>{f.current=s},[s]),o.useEffect(()=>()=>{a.current&&clearTimeout(a.current),p[r]&&delete p[r]},[r]),{isOpen:n,open:u=>{!u&&t>0&&!a.current?T():$()},close:g}}const O=o.createContext(null),C=o.createContext(null);function ae(e){let t=S(e),l=o.useRef(null),{triggerProps:n,tooltipProps:i}=ee(e,t,l);return b.createElement(j,{values:[[O,t],[C,{...i,triggerRef:l}]]},b.createElement(z,{...n,ref:l},e.children))}const re=o.forwardRef(function({UNSTABLE_portalContainer:t,...l},n){[l,n]=A(l,n,C);let i=o.useContext(O),s=S(l),r=l.isOpen!=null||l.defaultOpen!=null||!i?s:i,a=N(n,r.isOpen)||l.isExiting||!1;return!r.isOpen&&!a?null:b.createElement(X,{portalContainer:t},b.createElement(ne,{...l,tooltipRef:n,isExiting:a}))});function ne(e){let t=o.useContext(O),l=o.useRef(null),[n,i]=o.useState(0);F(()=>{l.current&&t.isOpen&&i(l.current.getBoundingClientRect().width)},[t.isOpen,l]);let{overlayProps:s,arrowProps:r,placement:a}=Y({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,offset:e.offset,crossOffset:e.crossOffset,isOpen:t.isOpen,arrowSize:n,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,onClose:()=>t.close(!0)}),f=B(e.tooltipRef,!!a)||e.isEntering||!1,d=U({...e,defaultClassName:"react-aria-Tooltip",values:{placement:a,isEntering:f,isExiting:e.isExiting,state:t}});e=w(e,s);let{tooltipProps:h}=Z(e,t);return b.createElement("div",{...h,ref:e.tooltipRef,...d,style:{...s.style,...d.style},"data-placement":a??void 0,"data-entering":f||void 0,"data-exiting":e.isExiting||void 0},b.createElement(L.Provider,{value:{...r,placement:a,ref:l}},d.children))}const oe='"../theme/tokens.css"',ie="_tooltip_1l8u8_4",se="_arrow_1l8u8_17",q={tokens:oe,"--font-family":'"Inter", sans-serif',"--background-inverse":"light-dark(#171717, #f2f2f2)","--text-inverse":"light-dark(#f2f2f2, #171717)",tooltip:ie,arrow:se};function V({children:e,className:t,...l}){return x.jsxs(re,{className:D(q.tooltip,t),...l,children:[x.jsx(k,{className:q.arrow,children:x.jsx("svg",{width:8,height:8,viewBox:"0 0 8 8",children:x.jsx("path",{d:"M0 0 L4 4 L8 0"})})}),e]})}function _({children:e,delay:t=0,...l}){return x.jsx(ae,{delay:t,...l,children:e})}try{V.displayName="Tooltip",V.__docgenInfo={description:"",displayName:"Tooltip",props:{"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: TooltipRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: TooltipRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},offset:{defaultValue:{value:"0"},description:`The additional offset applied along the main axis between the element and its
anchor element.`,name:"offset",required:!1,type:{name:"number"}},arrowBoundaryOffset:{defaultValue:{value:"0"},description:"The minimum distance the arrow's edge should be from the edge of the overlay element.",name:"arrowBoundaryOffset",required:!1,type:{name:"number"}},triggerRef:{defaultValue:null,description:`The ref for the element which the tooltip positions itself with respect to.

When used within a TooltipTrigger this is set automatically. It is only required when used standalone.`,name:"triggerRef",required:!1,type:{name:"RefObject<Element>"}},isEntering:{defaultValue:null,description:"Whether the tooltip is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the tooltip is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:"The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.",name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},placement:{defaultValue:{value:"'top'"},description:"The placement of the tooltip with respect to the trigger.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end"'},{value:'"end top"'},{value:'"end bottom"'}]}},containerPadding:{defaultValue:{value:"12"},description:`The placement padding that should be applied between the element and its
surrounding container.`,name:"containerPadding",required:!1,type:{name:"number"}},crossOffset:{defaultValue:{value:"0"},description:`The additional offset applied along the cross axis between the element and its
anchor element.`,name:"crossOffset",required:!1,type:{name:"number"}},shouldFlip:{defaultValue:{value:"true"},description:`Whether the element should flip its orientation (e.g. top to bottom or left to right) when
there is insufficient room for it to render completely.`,name:"shouldFlip",required:!1,type:{name:"boolean"}}}}}catch{}try{_.displayName="TooltipTrigger",_.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{isDisabled:{defaultValue:null,description:"Whether the tooltip should be disabled, independent from the trigger.",name:"isDisabled",required:!1,type:{name:"boolean"}},delay:{defaultValue:{value:"0"},description:"The delay time for the tooltip to show up. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Immediate-or-delayed-appearance).",name:"delay",required:!1,type:{name:"number"}},closeDelay:{defaultValue:{value:"500"},description:"The delay time for the tooltip to close. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Warmup-and-cooldown).",name:"closeDelay",required:!1,type:{name:"number"}},trigger:{defaultValue:null,description:"By default, opens for both focus and hover. Can be made to open only for focus.",name:"trigger",required:!1,type:{name:'"focus"'}},isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}export{V as T,_ as a,q as s};
