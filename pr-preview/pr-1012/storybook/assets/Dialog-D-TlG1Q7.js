import{e as Sr}from"./Button-w6H2Sg3d.js";import{f as V,e as Z,k as Ke,b as F,c as re,$ as _,a as q,j as I,g as Ar,d as Ie,l as pe,h as Tr}from"./utils-CrGBDRkS.js";import{b as ke,$ as Rr,a as wr}from"./RSPContexts-D9Aj9BI_.js";import{e as Br,c as Fr,a as Or,b as Le,d as Kr}from"./OverlayArrow-B9GvEsfM.js";import{a as Ir,b as Ne,c as Lr,d as Nr,$ as Hr,g as me,h as Vr,k as _r,e as zr,j as Ur}from"./Collection-C0zL_sAG.js";import{a as jr,b as Wr,c as Gr,d as Jr}from"./Separator-CeN3zVTD.js";import{r as i,R as v,s as Zr,b as He}from"./iframe-BEJN6Kxj.js";import{g as qr,a as Ve,c as Xr,d as Yr}from"./SelectionIndicator-DVtFm3e-.js";import{a as Qr}from"./Text-DxjUFe6b.js";import{b as $e,q as en,f as tn,N as rn,D as nn,G as K,e as O,k as on,c as an,$ as _e,A as Se,O as ln,B as sn,l as un,m as cn,J as dn,w as ge}from"./useFocusRing-eqCY1XUY.js";import{$ as ve}from"./useResizeObserver-DGp2E8uC.js";import{i as ce,m as fn,d as bn,$ as ze,a as pn,b as Ue}from"./SelectionManager-cZjLQm_r.js";import{a as $n,$ as je}from"./PressResponder-Bj_4ulTg.js";import{$ as We}from"./useLocalizedStringFormatter-fztwDLIc.js";import{$ as gn}from"./useEvent-CrvnL7jH.js";import{$ as mn}from"./useControlledState-CwdPjKis.js";import{R as vn}from"./index-D62Nhkqi.js";import{$ as xn,a as yn}from"./animation-DUyzyJca.js";import{b as hn}from"./Hidden-fVuPKruJ.js";import{$ as Ge}from"./getScrollParent-Cpn7MDkE.js";import{$ as Pn}from"./scrollIntoView-CtWAMHuk.js";import{$ as En}from"./useLabels-NwX4Qgl6.js";import{$ as Cn}from"./VisuallyHidden-du_qoG-V.js";function Dn(r){let{ref:e,onInteractOutside:t,isDisabled:o,onInteractOutsideStart:n}=r,l=i.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),s=$e(a=>{t&&Ae(a,e)&&(n&&n(a),l.current.isPointerDown=!0)}),u=$e(a=>{t&&t(a)});i.useEffect(()=>{let a=l.current;if(o)return;const c=e.current,f=en(c);if(typeof PointerEvent<"u"){let $=m=>{a.isPointerDown&&Ae(m,e)&&u(m),a.isPointerDown=!1};return f.addEventListener("pointerdown",s,!0),f.addEventListener("click",$,!0),()=>{f.removeEventListener("pointerdown",s,!0),f.removeEventListener("click",$,!0)}}},[e,o])}function Ae(r,e){if(r.button>0)return!1;if(r.target){const t=r.target.ownerDocument;if(!t||!t.documentElement.contains(r.target)||r.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!r.composedPath().includes(e.current):!1}const R=[];function Mn(r,e){let{onClose:t,shouldCloseOnBlur:o,isOpen:n,isDismissable:l=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:u}=r;i.useEffect(()=>{if(n&&!R.includes(e))return R.push(e),()=>{let b=R.indexOf(e);b>=0&&R.splice(b,1)}},[n,e]);let a=()=>{R[R.length-1]===e&&t&&t()},c=b=>{(!u||u(b.target))&&R[R.length-1]===e&&(b.stopPropagation(),b.preventDefault())},f=b=>{(!u||u(b.target))&&(R[R.length-1]===e&&(b.stopPropagation(),b.preventDefault()),a())},$=b=>{b.key==="Escape"&&!s&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),a())};Dn({ref:e,onInteractOutside:l&&n?f:void 0,onInteractOutsideStart:c});let{focusWithinProps:m}=tn({isDisabled:!o,onBlurWithin:b=>{!b.relatedTarget||qr(b.relatedTarget)||(!u||u(b.relatedTarget))&&t?.()}}),d=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:$,...m},underlayProps:{onPointerDown:d}}}function Je(r,e,t){let{type:o}=r,{isOpen:n}=e;i.useEffect(()=>{t&&t.current&&Br.set(t.current,e.close)});let l;o==="menu"?l=!0:o==="listbox"&&(l="listbox");let s=V();return{triggerProps:{"aria-haspopup":l,"aria-expanded":n,"aria-controls":n?s:void 0,onPress:e.toggle},overlayProps:{id:s}}}const G=typeof document<"u"&&window.visualViewport;let ee=0,de;function kn(r={}){let{isDisabled:e}=r;Z(()=>{if(!e)return ee++,ee===1&&(rn()?de=An():de=Sn()),()=>{ee--,ee===0&&de()}},[e])}function Sn(){let r=window.innerWidth-document.documentElement.clientWidth;return Ke(r>0&&("scrollbarGutter"in document.documentElement.style?fe(document.documentElement,"scrollbarGutter","stable"):fe(document.documentElement,"paddingRight",`${r}px`)),fe(document.documentElement,"overflow","hidden"))}function An(){let r,e=!1,t=a=>{let c=a.target;r=Pn(c)?c:Ge(c,!0),e=!1;let f=c.ownerDocument.defaultView.getSelection();f&&!f.isCollapsed&&f.containsNode(c,!0)&&(e=!0),"selectionStart"in c&&"selectionEnd"in c&&c.selectionStart<c.selectionEnd&&c.ownerDocument.activeElement===c&&(e=!0)},o=document.createElement("style");o.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(o);let n=a=>{if(!(a.touches.length===2||e)){if(!r||r===document.documentElement||r===document.body){a.preventDefault();return}r.scrollHeight===r.clientHeight&&r.scrollWidth===r.clientWidth&&a.preventDefault()}},l=a=>{let c=a.target,f=a.relatedTarget;if(f&&ce(f))f.focus({preventScroll:!0}),Te(f,ce(c));else if(!f){var $;let m=($=c.parentElement)===null||$===void 0?void 0:$.closest("[tabindex]");m?.focus({preventScroll:!0})}},s=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(a){let c=document.activeElement!=null&&ce(document.activeElement);s.call(this,{...a,preventScroll:!0}),(!a||!a.preventScroll)&&Te(this,c)};let u=Ke(be(document,"touchstart",t,{passive:!1,capture:!0}),be(document,"touchmove",n,{passive:!1,capture:!0}),be(document,"blur",l,!0));return()=>{u(),o.remove(),HTMLElement.prototype.focus=s}}function fe(r,e,t){let o=r.style[e];return r.style[e]=t,()=>{r.style[e]=o}}function be(r,e,t,o){return r.addEventListener(e,t,o),()=>{r.removeEventListener(e,t,o)}}function Te(r,e){e||!G?Re(r):G.addEventListener("resize",()=>Re(r),{once:!0})}function Re(r){let e=document.scrollingElement||document.documentElement,t=r;for(;t&&t!==e;){let o=Ge(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let n=o.getBoundingClientRect(),l=t.getBoundingClientRect();if(l.top<n.top||l.bottom>n.top+t.clientHeight){let s=n.bottom;G&&(s=Math.min(s,G.offsetTop+G.height));let u=l.top-n.top-((s-n.top)/2-l.height/2);o.scrollTo({top:Math.max(0,Math.min(o.scrollHeight-o.clientHeight,o.scrollTop+u)),behavior:"smooth"})}}t=o.parentElement}}var Ze={};Ze={dismiss:"تجاهل"};var qe={};qe={dismiss:"Отхвърляне"};var Xe={};Xe={dismiss:"Odstranit"};var Ye={};Ye={dismiss:"Luk"};var Qe={};Qe={dismiss:"Schließen"};var et={};et={dismiss:"Απόρριψη"};var tt={};tt={dismiss:"Dismiss"};var rt={};rt={dismiss:"Descartar"};var nt={};nt={dismiss:"Lõpeta"};var ot={};ot={dismiss:"Hylkää"};var at={};at={dismiss:"Rejeter"};var lt={};lt={dismiss:"התעלם"};var st={};st={dismiss:"Odbaci"};var ut={};ut={dismiss:"Elutasítás"};var it={};it={dismiss:"Ignora"};var ct={};ct={dismiss:"閉じる"};var dt={};dt={dismiss:"무시"};var ft={};ft={dismiss:"Atmesti"};var bt={};bt={dismiss:"Nerādīt"};var pt={};pt={dismiss:"Lukk"};var $t={};$t={dismiss:"Negeren"};var gt={};gt={dismiss:"Zignoruj"};var mt={};mt={dismiss:"Descartar"};var vt={};vt={dismiss:"Dispensar"};var xt={};xt={dismiss:"Revocare"};var yt={};yt={dismiss:"Пропустить"};var ht={};ht={dismiss:"Zrušiť"};var Pt={};Pt={dismiss:"Opusti"};var Et={};Et={dismiss:"Odbaci"};var Ct={};Ct={dismiss:"Avvisa"};var Dt={};Dt={dismiss:"Kapat"};var Mt={};Mt={dismiss:"Скасувати"};var kt={};kt={dismiss:"取消"};var St={};St={dismiss:"關閉"};var At={};At={"ar-AE":Ze,"bg-BG":qe,"cs-CZ":Xe,"da-DK":Ye,"de-DE":Qe,"el-GR":et,"en-US":tt,"es-ES":rt,"et-EE":nt,"fi-FI":ot,"fr-FR":at,"he-IL":lt,"hr-HR":st,"hu-HU":ut,"it-IT":it,"ja-JP":ct,"ko-KR":dt,"lt-LT":ft,"lv-LV":bt,"nb-NO":pt,"nl-NL":$t,"pl-PL":gt,"pt-BR":mt,"pt-PT":vt,"ro-RO":xt,"ru-RU":yt,"sk-SK":ht,"sl-SI":Pt,"sr-SP":Et,"sv-SE":Ct,"tr-TR":Dt,"uk-UA":Mt,"zh-CN":kt,"zh-TW":St};function Tn(r){return r&&r.__esModule?r.default:r}function we(r){let{onDismiss:e,...t}=r,o=We(Tn(At),"@react-aria/overlays"),n=En(t,o.format("dismiss")),l=()=>{e&&e()};return v.createElement(Cn,null,v.createElement("button",{...n,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}const Rn=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let W=new WeakMap,S=[];function wn(r,e){let t=nn(r?.[0]),o=e instanceof t.Element?{root:e}:e;var n;let l=(n=o?.root)!==null&&n!==void 0?n:document.body,s=o?.shouldUseInert&&Rn,u=new Set(r),a=new Set,c=p=>s&&p instanceof t.HTMLElement?p.inert:p.getAttribute("aria-hidden")==="true",f=(p,y)=>{s&&p instanceof t.HTMLElement?p.inert=y:y?p.setAttribute("aria-hidden","true"):(p.removeAttribute("aria-hidden"),p instanceof t.HTMLElement&&(p.inert=!1))},$=p=>{for(let h of p.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))u.add(h);let y=h=>{if(a.has(h)||u.has(h)||h.parentElement&&a.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let T of u)if(h.contains(T))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},x=document.createTreeWalker(p,NodeFilter.SHOW_ELEMENT,{acceptNode:y}),k=y(p);if(k===NodeFilter.FILTER_ACCEPT&&m(p),k!==NodeFilter.FILTER_REJECT){let h=x.nextNode();for(;h!=null;)m(h),h=x.nextNode()}},m=p=>{var y;let x=(y=W.get(p))!==null&&y!==void 0?y:0;c(p)&&x===0||(x===0&&f(p,!0),a.add(p),W.set(p,x+1))};S.length&&S[S.length-1].disconnect(),$(l);let d=new MutationObserver(p=>{for(let y of p)if(y.type==="childList"&&![...u,...a].some(x=>x.contains(y.target)))for(let x of y.addedNodes)(x instanceof HTMLElement||x instanceof SVGElement)&&(x.dataset.liveAnnouncer==="true"||x.dataset.reactAriaTopLayer==="true")?u.add(x):x instanceof Element&&$(x)});d.observe(l,{childList:!0,subtree:!0});let b={visibleNodes:u,hiddenNodes:a,observe(){d.observe(l,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return S.push(b),()=>{d.disconnect();for(let p of a){let y=W.get(p);y!=null&&(y===1?(f(p,!1),W.delete(p)):W.set(p,y-1))}b===S[S.length-1]?(S.pop(),S.length&&S[S.length-1].observe()):S.splice(S.indexOf(b),1)}}function Bn(r){let e=S[S.length-1];if(e&&!e.visibleNodes.has(r))return e.visibleNodes.add(r),()=>{e.visibleNodes.delete(r)}}function Fn(r,e){let{triggerRef:t,popoverRef:o,groupRef:n,isNonModal:l,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u,...a}=r,c=a.trigger==="SubmenuTrigger",{overlayProps:f,underlayProps:$}=Mn({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!l||c,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u},n??o),{overlayProps:m,arrowProps:d,placement:b,triggerAnchorPoint:p}=Fr({...a,targetRef:t,overlayRef:o,isOpen:e.isOpen,onClose:l&&!c?e.close:null});return kn({isDisabled:l||!e.isOpen}),i.useEffect(()=>{if(e.isOpen&&o.current){var y,x;return l?Bn((y=n?.current)!==null&&y!==void 0?y:o.current):wn([(x=n?.current)!==null&&x!==void 0?x:o.current],{shouldUseInert:!0})}},[l,e.isOpen,o,n]),{popoverProps:F(f,m),arrowProps:d,underlayProps:$,placement:b,triggerAnchorPoint:p}}const Tt=v.createContext(null);function Be(r){let e=Zr(),{portalContainer:t=e?null:document.body,isExiting:o}=r,[n,l]=i.useState(!1),s=i.useMemo(()=>({contain:n,setContain:l}),[n,l]),{getContainer:u}=Or();if(!r.portalContainer&&u&&(t=u()),!t)return null;let a=r.children;return r.disableFocusManagement||(a=v.createElement(Ve,{restoreFocus:!0,contain:(r.shouldContainFocus||n)&&!o},a)),a=v.createElement(Tt.Provider,{value:s},v.createElement($n,null,a)),vn.createPortal(a,t)}function On(){let r=i.useContext(Tt),e=r?.setContain;Z(()=>{e?.(!0)},[e])}var Rt={};Rt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var wt={};wt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Bt={};Bt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ft={};Ft={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ot={};Ot={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Kt={};Kt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var It={};It={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Lt={};Lt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Nt={};Nt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Ht={};Ht={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Vt={};Vt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var _t={};_t={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var zt={};zt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ut={};Ut={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var jt={};jt={longPressMessage:"Premi a lungo o premi Alt + Freccia giù per aprire il menu"};var Wt={};Wt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Gt={};Gt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Jt={};Jt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Zt={};Zt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var qt={};qt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Xt={};Xt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Yt={};Yt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Qt={};Qt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var er={};er={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var tr={};tr={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var rr={};rr={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var nr={};nr={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var or={};or={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var ar={};ar={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var lr={};lr={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var sr={};sr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ur={};ur={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var ir={};ir={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var cr={};cr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var dr={};dr={"ar-AE":Rt,"bg-BG":wt,"cs-CZ":Bt,"da-DK":Ft,"de-DE":Ot,"el-GR":Kt,"en-US":It,"es-ES":Lt,"et-EE":Nt,"fi-FI":Ht,"fr-FR":Vt,"he-IL":_t,"hr-HR":zt,"hu-HU":Ut,"it-IT":jt,"ja-JP":Wt,"ko-KR":Gt,"lt-LT":Jt,"lv-LV":Zt,"nb-NO":qt,"nl-NL":Xt,"pl-PL":Yt,"pt-BR":Qt,"pt-PT":er,"ro-RO":tr,"ru-RU":rr,"sk-SK":nr,"sl-SI":or,"sr-SP":ar,"sv-SE":lr,"tr-TR":sr,"uk-UA":ur,"zh-CN":ir,"zh-TW":cr};function Kn(r){return r&&r.__esModule?r.default:r}function In(r,e,t){let{type:o="menu",isDisabled:n,trigger:l="press"}=r,s=V(),{triggerProps:u,overlayProps:a}=Je({type:o},e,t),c=d=>{if(!n&&!(l==="longPress"&&!d.altKey)&&t&&t.current)switch(d.key){case"Enter":case" ":if(l==="longPress"||d.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("last");break;default:"continuePropagation"in d&&d.continuePropagation()}},f=We(Kn(dr),"@react-aria/menu"),{longPressProps:$}=fn({isDisabled:n||l!=="longPress",accessibilityDescription:f.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),m={preventFocusOnPress:!0,onPressStart(d){d.pointerType!=="touch"&&d.pointerType!=="keyboard"&&!n&&(K(d.target),e.open(d.pointerType==="virtual"?"first":null))},onPress(d){d.pointerType==="touch"&&!n&&(K(d.target),e.toggle())}};return delete u.onPress,{menuTriggerProps:{...u,...l==="press"?m:$,id:s,onKeyDown:c},menuProps:{...a,"aria-labelledby":s,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const fr=new WeakMap;function Ln(r,e,t){let{shouldFocusWrap:o=!0,onKeyDown:n,onKeyUp:l,...s}=r;!r["aria-label"]&&r["aria-labelledby"];let u=O(r,{labelable:!0}),{listProps:a}=jr({...s,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return fr.set(e,{onClose:r.onClose,onAction:r.onAction,shouldUseVirtualFocus:r.shouldUseVirtualFocus}),{menuProps:F(u,{onKeyDown:n,onKeyUp:l},{role:"menu",...a,onKeyDown:c=>{var f;(c.key!=="Escape"||r.shouldUseVirtualFocus)&&((f=a.onKeyDown)===null||f===void 0||f.call(a,c))}})}}function Nn(r,e,t){let{id:o,key:n,closeOnSelect:l,isVirtualized:s,"aria-haspopup":u,onPressStart:a,onPressUp:c,onPress:f,onPressChange:$,onPressEnd:m,onClick:d,onHoverStart:b,onHoverChange:p,onHoverEnd:y,onKeyDown:x,onKeyUp:k,onFocus:h,onFocusChange:T,onBlur:w,selectionManager:C=e.selectionManager}=r,E=!!u,g=E&&r["aria-expanded"]==="true";var D;let A=(D=r.isDisabled)!==null&&D!==void 0?D:C.isDisabled(n);var L;let Y=(L=r.isSelected)!==null&&L!==void 0?L:C.isSelected(n),B=fr.get(e),M=e.collection.getItem(n),z=r.onClose||B.onClose,U=on(),vr=()=>{var P;if(!E&&(!(M==null||(P=M.props)===null||P===void 0)&&P.onAction?M.props.onAction():r.onAction&&r.onAction(n),B.onAction)){let j=B.onAction;j(n)}},se="menuitem";E||(C.selectionMode==="single"?se="menuitemradio":C.selectionMode==="multiple"&&(se="menuitemcheckbox"));let he=re(),Pe=re(),Ee=re(),Q={id:o,"aria-disabled":A||void 0,role:se,"aria-label":r["aria-label"],"aria-labelledby":he,"aria-describedby":[Pe,Ee].filter(Boolean).join(" ")||void 0,"aria-controls":r["aria-controls"],"aria-haspopup":u,"aria-expanded":r["aria-expanded"]};C.selectionMode!=="none"&&!E&&(Q["aria-checked"]=Y),s&&(Q["aria-posinset"]=M?.index,Q["aria-setsize"]=Wr(e.collection));let Ce=i.useRef(!1),xr=P=>{$?.(P),Ce.current=P},N=i.useRef(null),yr=P=>{P.pointerType!=="keyboard"&&(N.current={pointerType:P.pointerType}),P.pointerType==="mouse"&&(Ce.current||P.target.click()),c?.(P)},hr=P=>{var j,ue;d?.(P),vr(),cn(P,U,M.props.href,M?.props.routerOptions);let ie=((j=N.current)===null||j===void 0?void 0:j.pointerType)==="keyboard"?((ue=N.current)===null||ue===void 0?void 0:ue.key)==="Enter"||C.selectionMode==="none"||C.isLink(n):C.selectionMode!=="multiple"||C.isLink(n);ie=l??ie,z&&!E&&ie&&z(),N.current=null},{itemProps:H,isFocused:De}=bn({id:o,selectionManager:C,key:n,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:B.shouldUseVirtualFocus}),{pressProps:Pr,isPressed:Er}=an({onPressStart:a,onPress:f,onPressUp:yr,onPressChange:xr,onPressEnd:m,isDisabled:A}),{hoverProps:Cr}=_e({isDisabled:A,onHoverStart(P){!Se()&&!(g&&u)&&(C.setFocused(!0),C.setFocusedKey(n)),b?.(P)},onHoverChange:p,onHoverEnd:y}),{keyboardProps:Dr}=ln({onKeyDown:P=>{if(P.repeat){P.continuePropagation();return}switch(P.key){case" ":N.current={pointerType:"keyboard",key:" "},P.target.click();break;case"Enter":N.current={pointerType:"keyboard",key:"Enter"},P.target.tagName!=="A"&&P.target.click();break;default:E||P.continuePropagation(),x?.(P);break}},onKeyUp:k}),{focusProps:Mr}=sn({onBlur:w,onFocus:h,onFocusChange:T}),Me=O(M?.props);delete Me.id;let kr=un(M?.props);return{menuItemProps:{...Q,...F(Me,kr,E?{onFocus:H.onFocus,"data-collection":H["data-collection"],"data-key":H["data-key"]}:H,Pr,Cr,Dr,Mr,B.shouldUseVirtualFocus||E?{onMouseDown:P=>P.preventDefault()}:void 0,A?void 0:{onClick:hr}),tabIndex:H.tabIndex!=null&&g&&!B.shouldUseVirtualFocus?-1:H.tabIndex},labelProps:{id:he},descriptionProps:{id:Pe},keyboardShortcutProps:{id:Ee},isFocused:De,isFocusVisible:De&&C.isFocused&&Se()&&!g,isSelected:Y,isPressed:Er,isDisabled:A}}function Hn(r){let{heading:e,"aria-label":t}=r,o=V();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?o:void 0}}}const te=2,Vn=50,_n=1e3,Fe=Math.PI/12;function zn(r){let{menuRef:e,submenuRef:t,isOpen:o,isDisabled:n}=r,l=i.useRef(void 0),s=i.useRef(void 0),u=i.useRef(0),a=i.useRef(void 0),c=i.useRef(void 0),f=i.useRef(void 0),$=i.useRef(2),[m,d]=i.useState(!1);ve({ref:t,onResize:()=>{t.current&&(s.current=t.current.getBoundingClientRect(),f.current=void 0)}});let p=()=>{d(!1),$.current=te,l.current=void 0},y=dn(),x=$e(k=>{m&&k.preventDefault()});i.useEffect(()=>{m&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,m]),Z(()=>{let k=t.current,h=e.current;if(n||!k||!o||y!=="pointer"||!h){p();return}s.current=k.getBoundingClientRect();let T=w=>{if(w.pointerType==="touch"||w.pointerType==="pen")return;let C=Date.now();if(C-u.current<Vn)return;clearTimeout(a.current),clearTimeout(c.current);let{clientX:E,clientY:g}=w;if(!l.current){l.current={x:E,y:g};return}if(!s.current)return;if(f.current||(f.current=E>s.current.right?"left":"right"),E<h.getBoundingClientRect().left||E>h.getBoundingClientRect().right||g<h.getBoundingClientRect().top||g>h.getBoundingClientRect().bottom){p();return}let D=l.current.x,A=l.current.y,L=f.current==="right"?s.current.left-D:D-s.current.right,Y=Math.atan2(A-s.current.top,L)+Fe,B=Math.atan2(A-s.current.bottom,L)-Fe,M=Math.atan2(A-g,f.current==="left"?-(E-D):E-D),z=M<Y&&M>B;$.current=z?Math.min($.current+1,te):Math.max($.current-1,0),$.current>=te?d(!0):d(!1),u.current=C,l.current={x:E,y:g},z&&(a.current=setTimeout(()=>{p(),c.current=setTimeout(()=>{let U=document.elementFromPoint(E,g);U&&h.contains(U)&&U.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},_n))};return window.addEventListener("pointermove",T),window.addEventListener("pointerdown",x,!0),()=>{window.removeEventListener("pointermove",T),window.removeEventListener("pointerdown",x,!0),clearTimeout(a.current),clearTimeout(c.current),$.current=te}},[n,o,e,y,d,t])}function Un(r,e,t){let{parentMenuRef:o,submenuRef:n,type:l="menu",isDisabled:s,delay:u=200,shouldUseVirtualFocus:a}=r,c=V(),f=V(),{direction:$}=He(),m=i.useRef(void 0),d=i.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=void 0)},[m]),b=i.useCallback(g=>{d(),e.open(g)},[e,d]),p=i.useCallback(()=>{d(),e.close()},[e,d]);Z(()=>()=>{d()},[d]);let y=g=>{if(g.currentTarget.contains(document.activeElement))switch(g.key){case"ArrowLeft":$==="ltr"&&g.currentTarget.contains(g.target)&&(g.preventDefault(),g.stopPropagation(),p(),!a&&t.current&&K(t.current));break;case"ArrowRight":$==="rtl"&&g.currentTarget.contains(g.target)&&(g.preventDefault(),g.stopPropagation(),p(),!a&&t.current&&K(t.current));break;case"Escape":var D;!((D=n.current)===null||D===void 0)&&D.contains(g.target)&&(g.stopPropagation(),p(),!a&&t.current&&K(t.current));break}};var x;let k={id:f,"aria-labelledby":c,submenuLevel:e.submenuLevel,...l==="menu"&&{onClose:e.closeAll,autoFocus:(x=e.focusStrategy)!==null&&x!==void 0?x:void 0,onKeyDown:y}},h=g=>{switch(g.key){case"ArrowRight":s||($==="ltr"?(g.preventDefault(),e.isOpen||b("first"),l==="menu"&&n?.current&&document.activeElement===t?.current&&K(n.current)):e.isOpen?p():g.continuePropagation());break;case"ArrowLeft":s||($==="rtl"?(g.preventDefault(),e.isOpen||b("first"),l==="menu"&&n?.current&&document.activeElement===t?.current&&K(n.current)):e.isOpen?p():g.continuePropagation());break;default:g.continuePropagation();break}},T=g=>{!s&&(g.pointerType==="virtual"||g.pointerType==="keyboard")&&b("first")},w=g=>{!s&&(g.pointerType==="touch"||g.pointerType==="mouse")&&b()},C=g=>{s||(g&&!e.isOpen?m.current||(m.current=setTimeout(()=>{b()},u)):g||d())};gn(o,"focusin",g=>{var D;e.isOpen&&(!((D=o.current)===null||D===void 0)&&D.contains(g.target))&&g.target!==t.current&&p()});let E=g=>g!==t.current;return zn({menuRef:o,submenuRef:n,isOpen:e.isOpen,isDisabled:s}),{submenuTriggerProps:{id:c,"aria-controls":e.isOpen?f:void 0,"aria-haspopup":s?void 0:l,"aria-expanded":e.isOpen?"true":"false",onPressStart:T,onPress:w,onHoverChange:C,onKeyDown:h,isOpen:e.isOpen},submenuProps:k,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:E}}}function jn(r,e){let{role:t="dialog"}=r,o=re();o=r["aria-label"]?void 0:o;let n=i.useRef(!1);return i.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){ge(e.current);let l=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(n.current=!0,e.current&&(e.current.blur(),ge(e.current)),n.current=!1)},500);return()=>{clearTimeout(l)}}},[e]),On(),{dialogProps:{...O(r,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":r["aria-labelledby"]||o,onBlur:l=>{n.current&&l.stopPropagation()}},titleProps:{id:o}}}function xe(r){let e=Le(r),[t,o]=i.useState(null),[n,l]=i.useState([]),s=()=>{l([]),e.close()};return{focusStrategy:t,...e,open(c=null){o(c),e.open()},toggle(c=null){o(c),e.toggle()},close(){s()},expandedKeysStack:n,openSubmenu:(c,f)=>{l($=>f>$.length?$:[...$.slice(0,f),c])},closeSubmenu:(c,f)=>{l($=>$[f]===c?$.slice(0,f):$)}}}function Wn(r,e){let{triggerKey:t}=r,{expandedKeysStack:o,openSubmenu:n,closeSubmenu:l,close:s}=e,[u]=i.useState(o?.length),a=i.useMemo(()=>o[u]===t,[o,t,u]),[c,f]=i.useState(null),$=i.useCallback(b=>{f(b??null),n(t,u)},[n,u,t]),m=i.useCallback(()=>{f(null),l(t,u)},[l,u,t]),d=i.useCallback(b=>{f(b??null),a?m():$(b)},[m,$,a]);return i.useMemo(()=>({focusStrategy:c,isOpen:a,open:$,close:m,closeAll:s,submenuLevel:u,setOpen:()=>{},toggle:d}),[a,$,m,s,c,d,u])}class Gn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var o;return t&&(o=t.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let t=this.keyMap.get(e);var o;return t&&(o=t.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let o=u=>{if(this.keyMap.set(u.key,u),u.childNodes&&(u.type==="section"||t.has(u.key)))for(let a of u.childNodes)o(a)};for(let u of e)o(u);let n=null,l=0;for(let[u,a]of this.keyMap)n?(n.nextKey=u,a.prevKey=n.key):(this.firstKey=u,a.prevKey=void 0),a.type==="item"&&(a.index=l++),n=a,n.nextKey=void 0;var s;this.lastKey=(s=n?.key)!==null&&s!==void 0?s:null}}function Jn(r){let{onExpandedChange:e}=r,[t,o]=mn(r.expandedKeys?new Set(r.expandedKeys):void 0,r.defaultExpandedKeys?new Set(r.defaultExpandedKeys):new Set,e),n=ze(r),l=i.useMemo(()=>r.disabledKeys?new Set(r.disabledKeys):new Set,[r.disabledKeys]),s=pn(r,i.useCallback(a=>new Gn(a,{expandedKeys:t}),[t]),null);return i.useEffect(()=>{n.focusedKey!=null&&!s.getItem(n.focusedKey)&&n.setFocusedKey(null)},[s,n.focusedKey]),{collection:s,expandedKeys:t,disabledKeys:l,toggleKey:a=>{o(Zn(t,a))},setExpandedKeys:o,selectionManager:new Ue(s,n)}}function Zn(r,e){let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}const ae=i.createContext(null),Oe=i.createContext(null),Eo=i.forwardRef(function(e,t){[e,t]=_(e,t,ae);let o=i.useContext(X),n=Le(e),l=e.isOpen!=null||e.defaultOpen!=null||!o?n:o,s=xn(t,l.isOpen)||e.isExiting||!1,u=hn(),{direction:a}=He();if(u){let c=e.children;return typeof c=="function"&&(c=c({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),v.createElement(v.Fragment,null,c)}return l&&!l.isOpen&&!s?null:v.createElement(qn,{...e,triggerRef:e.triggerRef,state:l,popoverRef:t,isExiting:s,dir:a})});function qn({state:r,isExiting:e,UNSTABLE_portalContainer:t,clearContexts:o,...n}){let l=i.useRef(null),s=i.useRef(null),u=i.useContext(Oe),a=u&&n.trigger==="SubmenuTrigger";var c;let{popoverProps:f,underlayProps:$,arrowProps:m,placement:d,triggerAnchorPoint:b}=Fn({...n,offset:(c=n.offset)!==null&&c!==void 0?c:8,arrowRef:l,groupRef:a?u:s},r),p=n.popoverRef,y=yn(p,!!d)||n.isEntering||!1,x=q({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:d,isEntering:y,isExiting:e}}),k=!n.isNonModal||n.trigger==="SubmenuTrigger",[h,T]=i.useState(!1);Z(()=>{p.current&&T(k&&!p.current.querySelector("[role=dialog]"))},[p,k]),i.useEffect(()=>{h&&n.trigger!=="SubmenuTrigger"&&p.current&&!p.current.contains(document.activeElement)&&ge(p.current)},[h,p,n.trigger]);let w=i.useMemo(()=>{let D=x.children;if(o)for(let A of o)D=v.createElement(A.Provider,{value:null},D);return D},[x.children,o]),C={...f.style,"--trigger-anchor-point":b?`${b.x}px ${b.y}px`:void 0,...x.style},E=v.createElement("div",{...F(O(n,{global:!0}),f),...x,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],ref:p,slot:n.slot||void 0,style:C,dir:n.dir,"data-trigger":n.trigger,"data-placement":d,"data-entering":y||void 0,"data-exiting":e||void 0},!n.isNonModal&&v.createElement(we,{onDismiss:r.close}),v.createElement(Kr.Provider,{value:{...m,placement:d,ref:l}},w),v.createElement(we,{onDismiss:r.close}));if(!a)return v.createElement(Be,{...n,shouldContainFocus:h,isExiting:e,portalContainer:t},!n.isNonModal&&r.isOpen&&v.createElement("div",{"data-testid":"underlay",...$,style:{position:"fixed",inset:0}}),v.createElement("div",{ref:s,style:{display:"contents"}},v.createElement(Oe.Provider,{value:s},E)));var g;return v.createElement(Be,{...n,shouldContainFocus:h,isExiting:e,portalContainer:(g=t??u?.current)!==null&&g!==void 0?g:void 0},E)}const br=i.createContext({}),Co=i.forwardRef(function(e,t){return[e,t]=_(e,t,br),v.createElement("kbd",{dir:"ltr",...e,ref:t})}),ye=i.createContext(null),le=i.createContext(null),J=i.createContext(null),ne=i.createContext(null);function Do(r){let e=xe(r),t=i.useRef(null),{menuTriggerProps:o,menuProps:n}=In({...r,type:"menu"},e,t),[l,s]=i.useState(null),u=i.useCallback(()=>{t.current&&s(t.current.offsetWidth+"px")},[t]);ve({ref:t,onResize:u});let a=i.useRef(null);return v.createElement(I,{values:[[ye,{...n,ref:a}],[X,e],[J,e],[ae,{trigger:"MenuTrigger",triggerRef:t,scrollRef:a,placement:"bottom start",style:{"--trigger-width":l},"aria-labelledby":n["aria-labelledby"]}]]},v.createElement(je,{...o,ref:t,isPressed:e.isOpen},r.children))}const pr=i.createContext(null);class $r extends Ur{filter(e,t,o){let n=e.getItem(this.firstChildKey);if(n&&o(n.textValue,this)){let l=this.clone();return t.addDescendants(l,e),l}return null}}$r.type="submenutrigger";const Mo=Ne($r,(r,e,t)=>{let{CollectionBranch:o}=i.useContext(me),n=i.useContext(le),l=i.useContext(J),s=Wn({triggerKey:t.key},l),u=i.useRef(null),a=Ie(e),{parentMenuRef:c,shouldUseVirtualFocus:f}=i.useContext(pr),{submenuTriggerProps:$,submenuProps:m,popoverProps:d}=Un({parentMenuRef:c,submenuRef:u,delay:r.delay,shouldUseVirtualFocus:f},s,a);return v.createElement(I,{values:[[oe,{...$,onAction:void 0,ref:a}],[ye,{ref:u,...m}],[X,s],[ae,{trigger:"SubmenuTrigger",triggerRef:a,placement:"end top","aria-labelledby":m["aria-labelledby"],...d}]]},v.createElement(o,{collection:n.collection,parent:t}),r.children[1])},r=>r.children[0]),ko=i.forwardRef(function(e,t){return[e,t]=_(e,t,ye),v.createElement(Nr,{content:v.createElement(Hr,e)},o=>v.createElement(Xn,{props:e,collection:o,menuRef:t}))});function Xn({props:r,collection:e,menuRef:t}){[r,t]=_(r,t,ke);let{filter:o,...n}=r,l=i.useMemo(()=>o?e.filter(o):e,[e,o]),s=Jn({...r,collection:l,children:void 0}),u=i.useContext(J),{isVirtualized:a,CollectionRoot:c}=i.useContext(me),{menuProps:f}=Ln({...r,isVirtualized:a,onClose:r.onClose||u?.close},s,t),$=q({defaultClassName:"react-aria-Menu",className:r.className,style:r.style,values:{isEmpty:s.collection.size===0}}),m=null;s.collection.size===0&&r.renderEmptyState&&(m=v.createElement("div",{role:"menuitem",style:{display:"contents"}},r.renderEmptyState()));let d=O(r,{global:!0});return v.createElement(Ve,null,v.createElement("div",{...F(d,$,f),ref:t,slot:r.slot||void 0,"data-empty":s.collection.size===0||void 0,onScroll:r.onScroll},v.createElement(I,{values:[[le,s],[Gr,{elementType:"div"}],[Vr,{name:"MenuSection",render:gr}],[pr,{parentMenuRef:t,shouldUseVirtualFocus:n?.shouldUseVirtualFocus}],[oe,null],[ke,null],[Rr,null],[ne,s.selectionManager],[J,u??xe({})]]},v.createElement(Yr,null,v.createElement(c,{collection:s.collection,persistedKeys:_r(s.selectionManager.focusedKey),scrollRef:t}))),m))}class Yn extends Ue{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function gr(r,e,t,o="react-aria-MenuSection"){var n,l;let s=i.useContext(le),{CollectionBranch:u}=i.useContext(me),[a,c]=Tr();var f;let{headingProps:$,groupProps:m}=Hn({heading:c,"aria-label":(f=t.props["aria-label"])!==null&&f!==void 0?f:void 0}),d=q({defaultClassName:o,className:(n=t.props)===null||n===void 0?void 0:n.className,style:(l=t.props)===null||l===void 0?void 0:l.style,values:{}}),b=i.useContext(ne),p=ze(r),y=r.selectionMode!=null?new Yn(b,p):b,x=O(r,{global:!0});return delete x.id,v.createElement("section",{...F(x,d,m),ref:e},v.createElement(I,{values:[[Jr,{...$,ref:a}],[ne,y]]},v.createElement(u,{collection:s.collection,parent:t})))}const So=Ne(zr,gr),oe=i.createContext(null),Ao=Ir(Lr,function(e,t,o){var n;[e,t]=_(e,t,oe);let l=(n=Ar(oe))===null||n===void 0?void 0:n.id,s=i.useContext(le),u=Ie(t),a=i.useContext(ne),{menuItemProps:c,labelProps:f,descriptionProps:$,keyboardShortcutProps:m,...d}=Nn({...e,id:l,key:o.key,selectionManager:a},s,u),{hoverProps:b,isHovered:p}=_e({isDisabled:d.isDisabled}),y=q({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...d,isHovered:p,isFocusVisible:d.isFocusVisible,selectionMode:a.selectionMode,selectionBehavior:a.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),x=e.href?"a":"div",k=O(e,{global:!0});return delete k.id,delete k.onClick,v.createElement(x,{...F(k,y,c,b),ref:u,"data-disabled":d.isDisabled||void 0,"data-hovered":p||void 0,"data-focused":d.isFocused||void 0,"data-focus-visible":d.isFocusVisible||void 0,"data-pressed":d.isPressed||void 0,"data-selected":d.isSelected||void 0,"data-selection-mode":a.selectionMode==="none"?void 0:a.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},v.createElement(I,{values:[[Qr,{slots:{[pe]:f,label:f,description:$}}],[br,m],[Xr,{isSelected:d.isSelected}]]},y.children))}),mr=i.createContext(null),X=i.createContext(null);function To(r){let e=xe(r),t=i.useRef(null),{triggerProps:o,overlayProps:n}=Je({type:"dialog"},e,t),[l,s]=i.useState(null),u=i.useCallback(()=>{t.current&&s(t.current.offsetWidth+"px")},[t]);return ve({ref:t,onResize:u}),o.id=V(),n["aria-labelledby"]=o.id,v.createElement(I,{values:[[X,e],[J,e],[mr,n],[ae,{trigger:"DialogTrigger",triggerRef:t,"aria-labelledby":n["aria-labelledby"],style:{"--trigger-width":l}}]]},v.createElement(je,{...o,ref:t,isPressed:e.isOpen},r.children))}const Ro=i.forwardRef(function(e,t){let o=e["aria-labelledby"];[e,t]=_(e,t,mr);let{dialogProps:n,titleProps:l}=jn({...e,"aria-labelledby":o},t),s=i.useContext(X);!n["aria-label"]&&!n["aria-labelledby"]&&e["aria-labelledby"]&&(n["aria-labelledby"]=e["aria-labelledby"]);let u=q({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:s?.close||(()=>{})}}),a=O(e,{global:!0});return v.createElement("section",{...F(a,u,n),ref:t,slot:e.slot||void 0},v.createElement(I,{values:[[wr,{slots:{[pe]:{},title:{...l,level:2}}}],[Sr,{slots:{[pe]:{},close:{onPress:()=>s?.close()}}}]]},u.children))});export{Eo as $,To as a,ko as b,Do as c,Ao as d,So as e,Co as f,Mo as g,X as h,ae as i,mr as j,Ro as k,In as l,Mn as m,kn as n,On as o,wn as p,we as q,Be as r,xe as s};
