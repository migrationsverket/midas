import{r as b,e as X,_ as at,k as it}from"./iframe-CHUNJ5G6.js";import{d as Ke,g as H,b as re,l as st,f as lt}from"./utils-DBw3wEa4.js";import"./index-BBMgQbEY.js";const P=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},M=e=>e&&"window"in e&&e.window===e?e:P(e).defaultView||window;function ct(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ut(e){return ct(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ft=!1,dt=!1;function on(){return ft}function pe(){return dt}function S(e,t){if(!pe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:ut(n)?n=n.host:n=n.parentNode}return!1}const q=(e=document)=>{var t;if(!pe())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function T(e){return pe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}const bt=new Set(["id"]),vt=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),pt=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),$t=new Set(["dir","lang","hidden","inert","translate"]),Le=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),gt=/^(data-.*)$/;function an(e,t={}){let{labelable:n,isLink:r,global:a,events:u=a,propNames:f}=t,i={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(bt.has(c)||n&&vt.has(c)||r&&pt.has(c)||a&&$t.has(c)||u&&Le.has(c)||c.endsWith("Capture")&&Le.has(c.slice(0,-7))||f!=null&&f.has(c)||gt.test(c))&&(i[c]=e[c]);return i}function G(e){if(Et())e.focus({preventScroll:!0});else{let t=yt(e);e.focus(),mt(t)}}let Q=null;function Et(){if(Q==null){Q=!1;try{document.createElement("div").focus({get preventScroll(){return Q=!0,!0}})}catch{}}return Q}function yt(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function mt(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function se(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function $e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function A(e){let t=null;return()=>(t==null&&(t=e()),t)}const V=A(function(){return $e(/^Mac/i)}),ht=A(function(){return $e(/^iPhone/i)}),_e=A(function(){return $e(/^iPad/i)||V()&&navigator.maxTouchPoints>1}),ge=A(function(){return ht()||_e()}),sn=A(function(){return V()||ge()}),Tt=A(function(){return se(/AppleWebKit/i)&&!Pt()}),Pt=A(function(){return se(/Chrome/i)}),Oe=A(function(){return se(/Android/i)}),wt=A(function(){return se(/Firefox/i)}),Ie=b.createContext({isNative:!0,open:Lt,useHref:e=>e});function ln(e){let{children:t,navigate:n,useHref:r}=e,a=b.useMemo(()=>({isNative:!1,open:(u,f,i,c)=>{We(u,v=>{Ue(v,f)?n(i,c):N(v,f)})},useHref:r||(u=>u)}),[n,r]);return X.createElement(Ie.Provider,{value:a},t)}function Ne(){return b.useContext(Ie)}function Ue(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function N(e,t,n=!0){var r,a;let{metaKey:u,ctrlKey:f,altKey:i,shiftKey:c}=t;wt()&&(!((a=window.event)===null||a===void 0||(r=a.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(V()?u=!0:f=!0);let v=Tt()&&V()&&!_e()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:f,altKey:i,shiftKey:c}):new MouseEvent("click",{metaKey:u,ctrlKey:f,altKey:i,shiftKey:c,bubbles:!0,cancelable:!0});N.isOpening=n,G(e),e.dispatchEvent(v),N.isOpening=!1}N.isOpening=!1;function We(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function Lt(e,t){We(e,n=>N(n,t))}function cn(e){let t=Ne();var n;const r=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?r:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function un(e){let t=Ne();var n;const r=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?r:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}function fn(e,t,n,r){!t.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&Ue(e.currentTarget,e)&&n&&(e.preventDefault(),t.open(e.currentTarget,e,n,r))}let K=new Map,fe=new Set;function xe(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let a=K.get(r.target);a||(a=new Set,K.set(r.target,a),r.target.addEventListener("transitioncancel",n,{once:!0})),a.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let a=K.get(r.target);if(a&&(a.delete(r.propertyName),a.size===0&&(r.target.removeEventListener("transitioncancel",n),K.delete(r.target)),K.size===0)){for(let u of fe)u();fe.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?xe():document.addEventListener("DOMContentLoaded",xe));function xt(){for(const[e]of K)"isConnected"in e&&!e.isConnected&&K.delete(e)}function Be(e){requestAnimationFrame(()=>{xt(),K.size===0?e():fe.add(e)})}function Ee(){let e=b.useRef(new Map),t=b.useCallback((a,u,f,i)=>{let c=i!=null&&i.once?(...v)=>{e.current.delete(f),f(...v)}:f;e.current.set(f,{type:u,eventTarget:a,fn:c,options:i}),a.addEventListener(u,c,i)},[]),n=b.useCallback((a,u,f,i)=>{var c;let v=((c=e.current.get(f))===null||c===void 0?void 0:c.fn)||f;a.removeEventListener(u,v,i),e.current.delete(f)},[]),r=b.useCallback(()=>{e.current.forEach((a,u)=>{n(a.eventTarget,a.type,u,a.options)})},[n]);return b.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Re(e,t){Ke(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Ge(e){return e.pointerType===""&&e.isTrusted?!0:Oe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function St(e){return!Oe()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const kt=typeof Element<"u"&&"checkVisibility"in Element.prototype;function Mt(e){const t=M(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,a=n!=="none"&&r!=="hidden"&&r!=="collapse";if(a){const{getComputedStyle:u}=e.ownerDocument.defaultView;let{display:f,visibility:i}=u(e);a=f!=="none"&&i!=="hidden"&&i!=="collapse"}return a}function Ct(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function ye(e,t){return kt?e.checkVisibility()&&!e.closest("[data-react-aria-prevent-focus]"):e.nodeName!=="#comment"&&Mt(e)&&Ct(e,t)&&(!e.parentElement||ye(e.parentElement,e))}const me=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],Ft=me.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";me.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const At=me.join(':not([hidden]):not([tabindex="-1"]),');function Dt(e){return e.matches(Ft)&&ye(e)&&!Ve(e)}function dn(e){return e.matches(At)&&ye(e)&&!Ve(e)}function Ve(e){let t=e;for(;t!=null;){if(t instanceof t.ownerDocument.defaultView.HTMLElement&&t.inert)return!0;t=t.parentElement}return!1}function he(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function je(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ye(e){let t=b.useRef({isFocused:!1,observer:null});Ke(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=H(r=>{e==null||e(r)});return b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=r.target,u=f=>{if(t.current.isFocused=!1,a.disabled){let i=he(f);n(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var f;(f=t.current.observer)===null||f===void 0||f.disconnect();let i=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let oe=!1;function Ht(e){for(;e&&!Dt(e);)e=e.parentElement;let t=M(e),n=t.document.activeElement;if(!n||n===e)return;oe=!0;let r=!1,a=$=>{($.target===n||r)&&$.stopImmediatePropagation()},u=$=>{($.target===n||r)&&($.stopImmediatePropagation(),!e&&!r&&(r=!0,G(n),c()))},f=$=>{($.target===e||r)&&$.stopImmediatePropagation()},i=$=>{($.target===e||r)&&($.stopImmediatePropagation(),r||(r=!0,G(n),c()))};t.addEventListener("blur",a,!0),t.addEventListener("focusout",u,!0),t.addEventListener("focusin",i,!0),t.addEventListener("focus",f,!0);let c=()=>{cancelAnimationFrame(v),t.removeEventListener("blur",a,!0),t.removeEventListener("focusout",u,!0),t.removeEventListener("focusin",i,!0),t.removeEventListener("focus",f,!0),oe=!1,r=!1},v=requestAnimationFrame(c);return c}let B="default",de="",ne=new WeakMap;function Kt(e){if(ge()){if(B==="default"){const t=P(e);de=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}B="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";ne.set(e,e.style[t]),e.style[t]="none"}}function Se(e){if(ge()){if(B!=="disabled")return;B="restoring",setTimeout(()=>{Be(()=>{if(B==="restoring"){const t=P(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=de||""),de="",B="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&ne.has(e)){let t=ne.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),ne.delete(e)}}const ze=X.createContext({register:()=>{}});ze.displayName="PressResponderContext";function _t(e,t){return t.get?t.get.call(e):t.value}function Xe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ot(e,t){var n=Xe(e,t,"get");return _t(e,n)}function It(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ke(e,t,n){var r=Xe(e,t,"set");return It(e,r,n),n}function Nt(e){let t=b.useContext(ze);if(t){let{register:n,...r}=t;e=re(r,e),n()}return Re(t,e.ref),e}var Z=new WeakMap;class ee{continuePropagation(){ke(this,Z,!1)}get shouldStopPropagation(){return Ot(this,Z)}constructor(t,n,r,a){at(this,Z,{writable:!0,value:void 0}),ke(this,Z,!0);var u;let f=(u=a==null?void 0:a.target)!==null&&u!==void 0?u:r.currentTarget;const i=f==null?void 0:f.getBoundingClientRect();let c,v=0,$,p=null;r.clientX!=null&&r.clientY!=null&&($=r.clientX,p=r.clientY),i&&($!=null&&p!=null?(c=$-i.left,v=p-i.top):(c=i.width/2,v=i.height/2)),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=c,this.y=v}}const Me=Symbol("linkClicked"),Ce="react-aria-pressable-style",Fe="data-react-aria-pressable";function bn(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:a,onPressUp:u,onClick:f,isDisabled:i,isPressed:c,preventFocusOnPress:v,shouldCancelOnPointerExit:$,allowTextSelectionOnPress:p,ref:k,...x}=Nt(e),[D,E]=b.useState(!1),h=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:_}=Ee(),j=H((o,d)=>{let m=h.current;if(i||m.didFirePressStart)return!1;let s=!0;if(m.isTriggeringEvent=!0,r){let g=new ee("pressstart",d,o);r(g),s=g.shouldStopPropagation}return n&&n(!0),m.isTriggeringEvent=!1,m.didFirePressStart=!0,E(!0),s}),W=H((o,d,m=!0)=>{let s=h.current;if(!s.didFirePressStart)return!1;s.didFirePressStart=!1,s.isTriggeringEvent=!0;let g=!0;if(a){let l=new ee("pressend",d,o);a(l),g=l.shouldStopPropagation}if(n&&n(!1),E(!1),t&&m&&!i){let l=new ee("press",d,o);t(l),g&&(g=l.shouldStopPropagation)}return s.isTriggeringEvent=!1,g}),Y=H((o,d)=>{let m=h.current;if(i)return!1;if(u){m.isTriggeringEvent=!0;let s=new ee("pressup",d,o);return u(s),m.isTriggeringEvent=!1,s.shouldStopPropagation}return!0}),O=H(o=>{let d=h.current;if(d.isPressed&&d.target){d.didFirePressStart&&d.pointerType!=null&&W(I(d.target,o),d.pointerType,!1),d.isPressed=!1,d.isOverTarget=!1,d.activePointerId=null,d.pointerType=null,_(),p||Se(d.target);for(let m of d.disposables)m();d.disposables=[]}}),Pe=H(o=>{$&&O(o)}),ce=H(o=>{f==null||f(o)}),we=H((o,d)=>{if(f){let m=new MouseEvent("click",o);je(m,d),f(he(m))}}),ot=b.useMemo(()=>{let o=h.current,d={onKeyDown(s){if(ue(s.nativeEvent,s.currentTarget)&&S(s.currentTarget,T(s.nativeEvent))){var g;Ae(T(s.nativeEvent),s.key)&&s.preventDefault();let l=!0;if(!o.isPressed&&!s.repeat){o.target=s.currentTarget,o.isPressed=!0,o.pointerType="keyboard",l=j(s,"keyboard");let y=s.currentTarget,w=C=>{ue(C,y)&&!C.repeat&&S(y,T(C))&&o.target&&Y(I(o.target,C),"keyboard")};L(P(s.currentTarget),"keyup",st(w,m),!0)}l&&s.stopPropagation(),s.metaKey&&V()&&((g=o.metaKeyEvents)===null||g===void 0||g.set(s.key,s.nativeEvent))}else s.key==="Meta"&&(o.metaKeyEvents=new Map)},onClick(s){if(!(s&&!S(s.currentTarget,T(s.nativeEvent)))&&s&&s.button===0&&!o.isTriggeringEvent&&!N.isOpening){let g=!0;if(i&&s.preventDefault(),!o.ignoreEmulatedMouseEvents&&!o.isPressed&&(o.pointerType==="virtual"||Ge(s.nativeEvent))){let l=j(s,"virtual"),y=Y(s,"virtual"),w=W(s,"virtual");ce(s),g=l&&y&&w}else if(o.isPressed&&o.pointerType!=="keyboard"){let l=o.pointerType||s.nativeEvent.pointerType||"virtual",y=Y(I(s.currentTarget,s),l),w=W(I(s.currentTarget,s),l,!0);g=y&&w,o.isOverTarget=!1,ce(s),O(s)}o.ignoreEmulatedMouseEvents=!1,g&&s.stopPropagation()}}},m=s=>{var g;if(o.isPressed&&o.target&&ue(s,o.target)){var l;Ae(T(s),s.key)&&s.preventDefault();let w=T(s),C=S(o.target,T(s));W(I(o.target,s),"keyboard",C),C&&we(s,o.target),_(),s.key!=="Enter"&&Te(o.target)&&S(o.target,w)&&!s[Me]&&(s[Me]=!0,N(o.target,s,!1)),o.isPressed=!1,(l=o.metaKeyEvents)===null||l===void 0||l.delete(s.key)}else if(s.key==="Meta"&&(!((g=o.metaKeyEvents)===null||g===void 0)&&g.size)){var y;let w=o.metaKeyEvents;o.metaKeyEvents=void 0;for(let C of w.values())(y=o.target)===null||y===void 0||y.dispatchEvent(new KeyboardEvent("keyup",C))}};if(typeof PointerEvent<"u"){d.onPointerDown=l=>{if(l.button!==0||!S(l.currentTarget,T(l.nativeEvent)))return;if(St(l.nativeEvent)){o.pointerType="virtual";return}o.pointerType=l.pointerType;let y=!0;if(!o.isPressed){o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=l.pointerId,o.target=l.currentTarget,p||Kt(o.target),y=j(l,o.pointerType);let w=T(l.nativeEvent);"releasePointerCapture"in w&&w.releasePointerCapture(l.pointerId),L(P(l.currentTarget),"pointerup",s,!1),L(P(l.currentTarget),"pointercancel",g,!1)}y&&l.stopPropagation()},d.onMouseDown=l=>{if(S(l.currentTarget,T(l.nativeEvent))&&l.button===0){if(v){let y=Ht(l.target);y&&o.disposables.push(y)}l.stopPropagation()}},d.onPointerUp=l=>{!S(l.currentTarget,T(l.nativeEvent))||o.pointerType==="virtual"||l.button===0&&!o.isPressed&&Y(l,o.pointerType||l.pointerType)},d.onPointerEnter=l=>{l.pointerId===o.activePointerId&&o.target&&!o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!0,j(I(o.target,l),o.pointerType))},d.onPointerLeave=l=>{l.pointerId===o.activePointerId&&o.target&&o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!1,W(I(o.target,l),o.pointerType,!1),Pe(l))};let s=l=>{if(l.pointerId===o.activePointerId&&o.isPressed&&l.button===0&&o.target){if(S(o.target,T(l))&&o.pointerType!=null){let y=!1,w=setTimeout(()=>{o.isPressed&&o.target instanceof HTMLElement&&(y?O(l):(G(o.target),o.target.click()))},80);L(l.currentTarget,"click",()=>y=!0,!0),o.disposables.push(()=>clearTimeout(w))}else O(l);o.isOverTarget=!1}},g=l=>{O(l)};d.onDragStart=l=>{S(l.currentTarget,T(l.nativeEvent))&&O(l)}}return d},[L,i,v,_,p,O,Pe,W,j,Y,ce,we]);return b.useEffect(()=>{if(!k)return;const o=P(k.current);if(!o||!o.head||o.getElementById(Ce))return;const d=o.createElement("style");d.id=Ce,d.textContent=`
@layer {
  [${Fe}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),o.head.prepend(d)},[k]),b.useEffect(()=>{let o=h.current;return()=>{var d;p||Se((d=o.target)!==null&&d!==void 0?d:void 0);for(let m of o.disposables)m();o.disposables=[]}},[p]),{isPressed:c||D,pressProps:re(x,ot,{[Fe]:!0})}}function Te(e){return e.tagName==="A"&&e.hasAttribute("href")}function ue(e,t){const{key:n,code:r}=e,a=t,u=a.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(a instanceof M(a).HTMLInputElement&&!qe(a,n)||a instanceof M(a).HTMLTextAreaElement||a.isContentEditable)&&!((u==="link"||!u&&Te(a))&&n!=="Enter")}function I(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function Ut(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Te(e)}function Ae(e,t){return e instanceof HTMLInputElement?!qe(e,t):Ut(e)}const Wt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function qe(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Wt.has(e.type)}let F=null,J=new Set,z=new Map,U=!1,be=!1;const Bt={Tab:!0,Escape:!0};function le(e,t){for(let n of J)n(e,t)}function Rt(e){return!(e.metaKey||!V()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ae(e){U=!0,Rt(e)&&(F="keyboard",le("keyboard",e))}function R(e){F="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(U=!0,le("pointer",e))}function Je(e){Ge(e)&&(U=!0,F="virtual")}function Qe(e){e.target===window||e.target===document||oe||!e.isTrusted||(!U&&!be&&(F="virtual",le("virtual",e)),U=!1,be=!1)}function Ze(){oe||(U=!1,be=!0)}function ie(e){if(typeof window>"u"||typeof document>"u"||z.get(M(e)))return;const t=M(e),n=P(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){U=!0,r.apply(this,arguments)},n.addEventListener("keydown",ae,!0),n.addEventListener("keyup",ae,!0),n.addEventListener("click",Je,!0),t.addEventListener("focus",Qe,!0),t.addEventListener("blur",Ze,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",R,!0),n.addEventListener("pointermove",R,!0),n.addEventListener("pointerup",R,!0)),t.addEventListener("beforeunload",()=>{et(e)},{once:!0}),z.set(t,{focus:r})}const et=(e,t)=>{const n=M(e),r=P(e);t&&r.removeEventListener("DOMContentLoaded",t),z.has(n)&&(n.HTMLElement.prototype.focus=z.get(n).focus,r.removeEventListener("keydown",ae,!0),r.removeEventListener("keyup",ae,!0),r.removeEventListener("click",Je,!0),n.removeEventListener("focus",Qe,!0),n.removeEventListener("blur",Ze,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",R,!0),r.removeEventListener("pointermove",R,!0),r.removeEventListener("pointerup",R,!0)),z.delete(n))};function Gt(e){const t=P(e);let n;return t.readyState!=="loading"?ie(e):(n=()=>{ie(e)},t.addEventListener("DOMContentLoaded",n)),()=>et(e,n)}typeof document<"u"&&Gt();function tt(){return F!=="pointer"}function Vt(){return F}function vn(e){F=e,le(e,null)}function pn(){ie();let[e,t]=b.useState(F);return b.useEffect(()=>{let n=()=>{t(F)};return J.add(n),()=>{J.delete(n)}},[]),it()?null:e}const jt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Yt(e,t,n){let r=P(n==null?void 0:n.target);const a=typeof window<"u"?M(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,u=typeof window<"u"?M(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,f=typeof window<"u"?M(n==null?void 0:n.target).HTMLElement:HTMLElement,i=typeof window<"u"?M(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof a&&!jt.has(r.activeElement.type)||r.activeElement instanceof u||r.activeElement instanceof f&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!Bt[n.key])}function zt(e,t,n){ie(),b.useEffect(()=>{let r=(a,u)=>{Yt(!!(n!=null&&n.isTextInput),a,u)&&e(tt())};return J.add(r),()=>{J.delete(r)}},t)}function Xt(e){const t=P(e),n=q(t);if(Vt()==="virtual"){let r=n;Be(()=>{q(t)===r&&e.isConnected&&G(e)})}else G(e)}function nt(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:a}=e;const u=b.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),a&&a(!1),!0},[r,a]),f=Ye(u),i=b.useCallback(c=>{const v=P(c.target),$=v?q(v):q();c.target===c.currentTarget&&$===T(c.nativeEvent)&&(n&&n(c),a&&a(!0),f(c))},[a,n,f]);return{focusProps:{onFocus:!t&&(n||a||r)?i:void 0,onBlur:!t&&(r||a)?u:void 0}}}function De(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(r),t&&n.stopPropagation()}}function qt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:De(e.onKeyDown),onKeyUp:De(e.onKeyUp)}}}let rt=X.createContext(null);function Jt(e){let t=b.useContext(rt)||{};Re(t,e);let{ref:n,...r}=t;return r}const $n=X.forwardRef(function(t,n){let{children:r,...a}=t,u=lt(n),f={...a,ref:u};return X.createElement(rt.Provider,{value:f},r)});function gn(e,t){let{focusProps:n}=nt(e),{keyboardProps:r}=qt(e),a=re(n,r),u=Jt(t),f=e.isDisabled?{}:u,i=b.useRef(e.autoFocus);b.useEffect(()=>{i.current&&t.current&&Xt(t.current),i.current=!1},[t]);let c=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(c=void 0),{focusableProps:re({...a,tabIndex:c},f)}}function Qt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:a}=e,u=b.useRef({isFocusWithin:!1}),{addGlobalListener:f,removeAllGlobalListeners:i}=Ee(),c=b.useCallback(p=>{p.currentTarget.contains(p.target)&&u.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(u.current.isFocusWithin=!1,i(),n&&n(p),a&&a(!1))},[n,a,u,i]),v=Ye(c),$=b.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const k=P(p.target),x=q(k);if(!u.current.isFocusWithin&&x===T(p.nativeEvent)){r&&r(p),a&&a(!0),u.current.isFocusWithin=!0,v(p);let D=p.currentTarget;f(k,"focus",E=>{if(u.current.isFocusWithin&&!S(D,E.target)){let h=new k.defaultView.FocusEvent("blur",{relatedTarget:E.target});je(h,D);let L=he(h);c(L)}},{capture:!0})}},[r,a,v,f,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:$,onBlur:c}}}let ve=!1,te=0;function Zt(){ve=!0,setTimeout(()=>{ve=!1},50)}function He(e){e.pointerType==="touch"&&Zt()}function en(){if(!(typeof document>"u"))return te===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",He),te++,()=>{te--,!(te>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",He)}}function En(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:a}=e,[u,f]=b.useState(!1),i=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(en,[]);let{addGlobalListener:c,removeAllGlobalListeners:v}=Ee(),{hoverProps:$,triggerHoverEnd:p}=b.useMemo(()=>{let k=(E,h)=>{if(i.pointerType=h,a||h==="touch"||i.isHovered||!E.currentTarget.contains(E.target))return;i.isHovered=!0;let L=E.currentTarget;i.target=L,c(P(E.target),"pointerover",_=>{i.isHovered&&i.target&&!S(i.target,_.target)&&x(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:L,pointerType:h}),n&&n(!0),f(!0)},x=(E,h)=>{let L=i.target;i.pointerType="",i.target=null,!(h==="touch"||!i.isHovered||!L)&&(i.isHovered=!1,v(),r&&r({type:"hoverend",target:L,pointerType:h}),n&&n(!1),f(!1))},D={};return typeof PointerEvent<"u"&&(D.onPointerEnter=E=>{ve&&E.pointerType==="mouse"||k(E,E.pointerType)},D.onPointerLeave=E=>{!a&&E.currentTarget.contains(E.target)&&x(E,E.pointerType)}),{hoverProps:D,triggerHoverEnd:x}},[t,n,r,a,i,c,v]);return b.useEffect(()=>{a&&p({currentTarget:i.target},i.pointerType)},[a]),{hoverProps:$,isHovered:u}}function yn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,a=b.useRef({isFocused:!1,isFocusVisible:t||tt()}),[u,f]=b.useState(!1),[i,c]=b.useState(()=>a.current.isFocused&&a.current.isFocusVisible),v=b.useCallback(()=>c(a.current.isFocused&&a.current.isFocusVisible),[]),$=b.useCallback(x=>{a.current.isFocused=x,f(x),v()},[v]);zt(x=>{a.current.isFocusVisible=x,v()},[],{isTextInput:n});let{focusProps:p}=nt({isDisabled:r,onFocusChange:$}),{focusWithinProps:k}=Qt({isDisabled:!r,onFocusWithinChange:$});return{isFocused:u,isFocusVisible:i,focusProps:r?k:p}}export{En as $,Tt as A,tt as B,$n as C,Ee as D,G as E,sn as F,N as G,pn as H,cn as I,on as J,_e as K,nt as L,ge as M,qt as N,yn as a,gn as b,an as c,M as d,Qt as e,bn as f,ze as g,Re as h,pe as i,S as j,q as k,P as l,dn as m,Dt as n,Xt as o,T as p,Oe as q,Pt as r,Vt as s,vn as t,ln as u,Ne as v,un as w,fn as x,rt as y,V as z};
