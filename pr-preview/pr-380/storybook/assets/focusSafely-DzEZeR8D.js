import{s as he,q as Pe,p as z,t as Ee,u as R,v as oe,i as x,w as me,g as p,l as d,x as Ke,y as J,z as Q,b as B,h as Z,o as Se}from"./useFocusRing-7U1UHDTh.js";import{r as S,R as le}from"./index-BbAIUH2N.js";import{i as we,j as I,f as fe,m as xe}from"./utils-B5vVULSi.js";import{r as ke}from"./index-cpIEhwLo.js";const ue=S.createContext({isNative:!0,open:Oe,useHref:e=>e});function Ve(e){let{children:n,navigate:i,useHref:s}=e,l=S.useMemo(()=>({isNative:!1,open:(g,v,b,y)=>{de(g,P=>{Me(P,v)?i(b,y):k(P,v)})},useHref:s||(g=>g)}),[i,s]);return le.createElement(ue.Provider,{value:l},n)}function ce(){return S.useContext(ue)}function Me(e,n){let i=e.getAttribute("target");return(!i||i==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&!n.shiftKey}function k(e,n,i=!0){var s,l;let{metaKey:g,ctrlKey:v,altKey:b,shiftKey:y}=n;he()&&(!((l=window.event)===null||l===void 0||(s=l.type)===null||s===void 0)&&s.startsWith("key"))&&e.target==="_blank"&&(z()?g=!0:v=!0);let P=Pe()&&z()&&!Ee()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:g,ctrlKey:v,altKey:b,shiftKey:y}):new MouseEvent("click",{metaKey:g,ctrlKey:v,altKey:b,shiftKey:y,bubbles:!0,cancelable:!0});k.isOpening=i,R(e),e.dispatchEvent(P),k.isOpening=!1}k.isOpening=!1;function de(e,n){if(e instanceof HTMLAnchorElement)n(e);else if(e.hasAttribute("data-href")){let i=document.createElement("a");i.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(i.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(i.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(i.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(i.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(i),n(i),e.removeChild(i)}}function Oe(e,n){de(e,i=>k(i,n))}function je(e){let n=ce();var i;const s=n.useHref((i=e.href)!==null&&i!==void 0?i:"");return{"data-href":e.href?s:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function We(e){let n=ce();var i;const s=n.useHref((i=e==null?void 0:e.href)!==null&&i!==void 0?i:"");return{href:e!=null&&e.href?s:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let L=new Map,V=new Set;function ee(){if(typeof window>"u")return;function e(s){return"propertyName"in s}let n=s=>{if(!e(s)||!s.target)return;let l=L.get(s.target);l||(l=new Set,L.set(s.target,l),s.target.addEventListener("transitioncancel",i,{once:!0})),l.add(s.propertyName)},i=s=>{if(!e(s)||!s.target)return;let l=L.get(s.target);if(l&&(l.delete(s.propertyName),l.size===0&&(s.target.removeEventListener("transitioncancel",i),L.delete(s.target)),L.size===0)){for(let g of V)g();V.clear()}};document.body.addEventListener("transitionrun",n),document.body.addEventListener("transitionend",i)}typeof document<"u"&&(document.readyState!=="loading"?ee():document.addEventListener("DOMContentLoaded",ee));function pe(e){requestAnimationFrame(()=>{L.size===0?e():V.add(e)})}function _e(e,n){we(()=>{if(e&&e.ref&&n)return e.ref.current=n.current,()=>{e.ref&&(e.ref.current=null)}})}let A="default",j="",F=new WeakMap;function te(e){if(oe()){if(A==="default"){const n=x(e);j=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}A="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let n="userSelect"in e.style?"userSelect":"webkitUserSelect";F.set(e,e.style[n]),e.style[n]="none"}}function N(e){if(oe()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{pe(()=>{if(A==="restoring"){const n=x(e);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=j||""),j="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&F.has(e)){let n=F.get(e),i="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[i]==="none"&&(e.style[i]=n),e.getAttribute("style")===""&&e.removeAttribute("style"),F.delete(e)}}const ge=le.createContext({register:()=>{}});ge.displayName="PressResponderContext";function Ce(e,n){return n.get?n.get.call(e):n.value}function ve(e,n,i){if(!n.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return n.get(e)}function Le(e,n){var i=ve(e,n,"get");return Ce(e,i)}function Ae(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ie(e,n,i){Ae(e,n),n.set(e,i)}function Ue(e,n,i){if(n.set)n.set.call(e,i);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=i}}function re(e,n,i){var s=ve(e,n,"set");return Ue(e,s,i),i}function De(e){let n=S.useContext(ge);if(n){let{register:i,...s}=n;e=fe(s,e),i()}return _e(n,e.ref),e}var X=new WeakMap;class Y{continuePropagation(){re(this,X,!1)}get shouldStopPropagation(){return Le(this,X)}constructor(n,i,s,l){Ie(this,X,{writable:!0,value:void 0}),re(this,X,!0);var g;let v=(g=l==null?void 0:l.target)!==null&&g!==void 0?g:s.currentTarget;const b=v==null?void 0:v.getBoundingClientRect();let y,P=0,T,U=null;s.clientX!=null&&s.clientY!=null&&(T=s.clientX,U=s.clientY),b&&(T!=null&&U!=null?(y=T-b.left,P=U-b.top):(y=b.width/2,P=b.height/2)),this.type=n,this.pointerType=i,this.target=s.currentTarget,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.x=y,this.y=P}}const ne=Symbol("linkClicked");function qe(e){let{onPress:n,onPressChange:i,onPressStart:s,onPressEnd:l,onPressUp:g,isDisabled:v,isPressed:b,preventFocusOnPress:y,shouldCancelOnPointerExit:P,allowTextSelectionOnPress:T,ref:U,...be}=De(e),[ye,q]=S.useState(!1),M=S.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:w,removeAllGlobalListeners:D}=me(),m=I((t,o)=>{let $=M.current;if(v||$.didFirePressStart)return!1;let a=!0;if($.isTriggeringEvent=!0,s){let c=new Y("pressstart",o,t);s(c),a=c.shouldStopPropagation}return i&&i(!0),$.isTriggeringEvent=!1,$.didFirePressStart=!0,q(!0),a}),E=I((t,o,$=!0)=>{let a=M.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let c=!0;if(l){let r=new Y("pressend",o,t);l(r),c=r.shouldStopPropagation}if(i&&i(!1),q(!1),n&&$&&!v){let r=new Y("press",o,t);n(r),c&&(c=r.shouldStopPropagation)}return a.isTriggeringEvent=!1,c}),O=I((t,o)=>{let $=M.current;if(v)return!1;if(g){$.isTriggeringEvent=!0;let a=new Y("pressup",o,t);return g(a),$.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}),h=I(t=>{let o=M.current;if(o.isPressed&&o.target){o.didFirePressStart&&o.pointerType!=null&&E(C(o.target,t),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,D(),T||N(o.target);for(let $ of o.disposables)$();o.disposables=[]}}),H=I(t=>{P&&h(t)}),Te=S.useMemo(()=>{let t=M.current,o={onKeyDown(a){if(G(a.nativeEvent,a.currentTarget)&&p(a.currentTarget,d(a.nativeEvent))){var c;se(d(a.nativeEvent),a.key)&&a.preventDefault();let r=!0;if(!t.isPressed&&!a.repeat){t.target=a.currentTarget,t.isPressed=!0,t.pointerType="keyboard",r=m(a,"keyboard");let f=a.currentTarget,u=_=>{G(_,f)&&!_.repeat&&p(f,d(_))&&t.target&&O(C(t.target,_),"keyboard")};w(x(a.currentTarget),"keyup",xe(u,$),!0)}r&&a.stopPropagation(),a.metaKey&&z()&&((c=t.metaKeyEvents)===null||c===void 0||c.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(a){if(!(a&&!p(a.currentTarget,d(a.nativeEvent)))&&a&&a.button===0&&!t.isTriggeringEvent&&!k.isOpening){let c=!0;if(v&&a.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Q(a.nativeEvent))){let r=m(a,"virtual"),f=O(a,"virtual"),u=E(a,"virtual");c=r&&f&&u}else if(t.isPressed&&t.pointerType!=="keyboard"){let r=t.pointerType||a.nativeEvent.pointerType||"virtual";c=E(C(a.currentTarget,a),r,!0),t.isOverTarget=!1,h(a)}t.ignoreEmulatedMouseEvents=!1,c&&a.stopPropagation()}}},$=a=>{var c;if(t.isPressed&&t.target&&G(a,t.target)){var r;se(d(a),a.key)&&a.preventDefault();let u=d(a);E(C(t.target,a),"keyboard",p(t.target,d(a))),D(),a.key!=="Enter"&&W(t.target)&&p(t.target,u)&&!a[ne]&&(a[ne]=!0,k(t.target,a,!1)),t.isPressed=!1,(r=t.metaKeyEvents)===null||r===void 0||r.delete(a.key)}else if(a.key==="Meta"&&(!((c=t.metaKeyEvents)===null||c===void 0)&&c.size)){var f;let u=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let _ of u.values())(f=t.target)===null||f===void 0||f.dispatchEvent(new KeyboardEvent("keyup",_))}};if(typeof PointerEvent<"u"){o.onPointerDown=r=>{if(r.button!==0||!p(r.currentTarget,d(r.nativeEvent)))return;if(Ke(r.nativeEvent)){t.pointerType="virtual";return}t.pointerType=r.pointerType;let f=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=r.pointerId,t.target=r.currentTarget,T||te(t.target),f=m(r,t.pointerType);let u=d(r.nativeEvent);"releasePointerCapture"in u&&u.releasePointerCapture(r.pointerId),w(x(r.currentTarget),"pointerup",a,!1),w(x(r.currentTarget),"pointercancel",c,!1)}f&&r.stopPropagation()},o.onMouseDown=r=>{if(p(r.currentTarget,d(r.nativeEvent))&&r.button===0){if(y){let f=J(r.target);f&&t.disposables.push(f)}r.stopPropagation()}},o.onPointerUp=r=>{!p(r.currentTarget,d(r.nativeEvent))||t.pointerType==="virtual"||r.button===0&&O(r,t.pointerType||r.pointerType)},o.onPointerEnter=r=>{r.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,m(C(t.target,r),t.pointerType))},o.onPointerLeave=r=>{r.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,E(C(t.target,r),t.pointerType,!1),H(r))};let a=r=>{if(r.pointerId===t.activePointerId&&t.isPressed&&r.button===0&&t.target){if(p(t.target,d(r))&&t.pointerType!=null){let f=!1,u=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(f?h(r):(R(t.target),t.target.click()))},80);w(r.currentTarget,"click",()=>f=!0,!0),t.disposables.push(()=>clearTimeout(u))}else h(r);t.isOverTarget=!1}},c=r=>{h(r)};o.onDragStart=r=>{p(r.currentTarget,d(r.nativeEvent))&&h(r)}}else{o.onMouseDown=r=>{if(r.button!==0||!p(r.currentTarget,d(r.nativeEvent)))return;if(t.ignoreEmulatedMouseEvents){r.stopPropagation();return}if(t.isPressed=!0,t.isOverTarget=!0,t.target=r.currentTarget,t.pointerType=Q(r.nativeEvent)?"virtual":"mouse",ke.flushSync(()=>m(r,t.pointerType))&&r.stopPropagation(),y){let u=J(r.target);u&&t.disposables.push(u)}w(x(r.currentTarget),"mouseup",a,!1)},o.onMouseEnter=r=>{if(!p(r.currentTarget,d(r.nativeEvent)))return;let f=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,f=m(r,t.pointerType)),f&&r.stopPropagation()},o.onMouseLeave=r=>{if(!p(r.currentTarget,d(r.nativeEvent)))return;let f=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,f=E(r,t.pointerType,!1),H(r)),f&&r.stopPropagation()},o.onMouseUp=r=>{p(r.currentTarget,d(r.nativeEvent))&&!t.ignoreEmulatedMouseEvents&&r.button===0&&O(r,t.pointerType||"mouse")};let a=r=>{if(r.button===0){if(t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&t.target.contains(r.target)&&t.pointerType!=null||h(r),t.isOverTarget=!1}};o.onTouchStart=r=>{if(!p(r.currentTarget,d(r.nativeEvent)))return;let f=He(r.nativeEvent);if(!f)return;t.activePointerId=f.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=r.currentTarget,t.pointerType="touch",T||te(t.target),m(K(t.target,r),t.pointerType)&&r.stopPropagation(),w(B(r.currentTarget),"scroll",c,!0)},o.onTouchMove=r=>{if(!p(r.currentTarget,d(r.nativeEvent)))return;if(!t.isPressed){r.stopPropagation();return}let f=ie(r.nativeEvent,t.activePointerId),u=!0;f&&ae(f,r.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,u=m(K(t.target,r),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,u=E(K(t.target,r),t.pointerType,!1),H(K(t.target,r))),u&&r.stopPropagation()},o.onTouchEnd=r=>{if(!p(r.currentTarget,d(r.nativeEvent)))return;if(!t.isPressed){r.stopPropagation();return}let f=ie(r.nativeEvent,t.activePointerId),u=!0;f&&ae(f,r.currentTarget)&&t.pointerType!=null?(O(K(t.target,r),t.pointerType),u=E(K(t.target,r),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(u=E(K(t.target,r),t.pointerType,!1)),u&&r.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!T&&N(t.target),D()},o.onTouchCancel=r=>{p(r.currentTarget,d(r.nativeEvent))&&(r.stopPropagation(),t.isPressed&&h(K(t.target,r)))};let c=r=>{t.isPressed&&p(d(r),t.target)&&h({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=r=>{p(r.currentTarget,d(r.nativeEvent))&&h(r)}}return o},[w,v,y,D,T,h,H,E,m,O]);return S.useEffect(()=>{let t=M.current;return()=>{var o;T||N((o=t.target)!==null&&o!==void 0?o:void 0);for(let $ of t.disposables)$();t.disposables=[]}},[T]),{isPressed:b||ye,pressProps:fe(be,Te)}}function W(e){return e.tagName==="A"&&e.hasAttribute("href")}function G(e,n){const{key:i,code:s}=e,l=n,g=l.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||s==="Space")&&!(l instanceof B(l).HTMLInputElement&&!$e(l,i)||l instanceof B(l).HTMLTextAreaElement||l.isContentEditable)&&!((g==="link"||!g&&W(l))&&i!=="Enter")}function He(e){const{targetTouches:n}=e;return n.length>0?n[0]:null}function ie(e,n){const i=e.changedTouches;for(let s=0;s<i.length;s++){const l=i[s];if(l.identifier===n)return l}return null}function K(e,n){let i=0,s=0;return n.targetTouches&&n.targetTouches.length===1&&(i=n.targetTouches[0].clientX,s=n.targetTouches[0].clientY),{currentTarget:e,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:s}}function C(e,n){let i=n.clientX,s=n.clientY;return{currentTarget:e,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:s}}function Xe(e){let n=0,i=0;return e.width!==void 0?n=e.width/2:e.radiusX!==void 0&&(n=e.radiusX),e.height!==void 0?i=e.height/2:e.radiusY!==void 0&&(i=e.radiusY),{top:e.clientY-i,right:e.clientX+n,bottom:e.clientY+i,left:e.clientX-n}}function Ye(e,n){return!(e.left>n.right||n.left>e.right||e.top>n.bottom||n.top>e.bottom)}function ae(e,n){let i=n.getBoundingClientRect(),s=Xe(e);return Ye(i,s)}function Fe(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!W(e)}function se(e,n){return e instanceof HTMLInputElement?!$e(e,n):Fe(e)}const Re=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $e(e,n){return e.type==="checkbox"||e.type==="radio"?n===" ":Re.has(e.type)}function Je(e){const n=x(e),i=Z(n);if(Se()==="virtual"){let s=i;pe(()=>{Z(n)===s&&e.isConnected&&R(e)})}else R(e)}export{ge as $,Ie as _,_e as a,qe as b,ce as c,We as d,Me as e,Ve as f,Je as g,k as h,je as i};
