let d=new Map,f=!1;try{f=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let u=!1;try{u=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const c={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class g{format(e){let t="";if(!f&&this.options.signDisplay!=null?t=b(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!u){var o;let{unit:s,unitDisplay:n="short",locale:r}=this.resolvedOptions();if(!s)return t;let l=(o=c[s])===null||o===void 0?void 0:o[n];t+=l[r]||l.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let o=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(t);return[...o.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!f&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!u&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=p(e,t),this.options=t}}function p(i,e={}){let{numberingSystem:t}=e;if(t&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${t}`),e.style==="unit"&&!u){var o;let{unit:r,unitDisplay:l="short"}=e;if(!r)throw new Error('unit option must be provided with style: "unit"');if(!(!((o=c[r])===null||o===void 0)&&o[l]))throw new Error(`Unsupported unit ${r} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let s=i+(e?Object.entries(e).sort((r,l)=>r[0]<l[0]?-1:1).join():"");if(d.has(s))return d.get(s);let n=new Intl.NumberFormat(i,e);return d.set(s,n),n}function b(i,e,t){if(e==="auto")return i.format(t);if(e==="never")return i.format(Math.abs(t));{let o=!1;if(e==="always"?o=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):o=t>0),o){let s=i.format(-t),n=i.format(t),r=s.replace(n,"").replace(/\u200e|\u061C/,"");return[...r].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(n,"!!!").replace(r,"+").replace("!!!",n)}else return i.format(t)}}const h=7e3;let a=null;function v(i,e="assertive",t=h){a?a.announce(i,e,t):(a=new m,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?a.announce(i,e,t):setTimeout(()=>{a!=null&&a.isAttached()&&(a==null||a.announce(i,e,t))},100))}function $(i){a&&a.clear(i)}class m{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",o=h){var s,n;if(!this.node)return;let r=document.createElement("div");typeof e=="object"?(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",e["aria-labelledby"])):r.textContent=e,t==="assertive"?(s=this.assertiveLog)===null||s===void 0||s.appendChild(r):(n=this.politeLog)===null||n===void 0||n.appendChild(r),e!==""&&setTimeout(()=>{r.remove()},o)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}export{v as $,g as a,$ as b};
