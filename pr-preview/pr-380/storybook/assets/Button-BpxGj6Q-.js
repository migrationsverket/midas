import{f as g,$ as k,d as S,l as y}from"./utils-B5vVULSi.js";import{$ as T}from"./ProgressBar-C-2ZZqws.js";import{$ as C}from"./LiveAnnouncer-DFDjXwI8.js";import{$ as U}from"./Hidden-lswqw32w.js";import{$ as F}from"./filterDOMProps-BSfnXAP7.js";import{r as h,R as D}from"./index-BbAIUH2N.js";import{a as V}from"./usePress-CCvsZXnc.js";import{$ as H}from"./useFocusable-BvehpvqX.js";import{a as I,$ as O}from"./useFocusRing-HUlwicEq.js";function B(e,a){let{elementType:d="button",isDisabled:t,onPress:s,onPressStart:r,onPressEnd:m,onPressUp:x,onPressChange:i,preventFocusOnPress:u,allowFocusWhenDisabled:p,onClick:l,href:b,target:$,rel:o,type:f="button"}=e,n;d==="button"?n={type:f,disabled:t}:n={role:"button",href:d==="a"&&!t?b:void 0,target:d==="a"?$:void 0,type:d==="input"?f:void 0,disabled:d==="input"?t:void 0,"aria-disabled":!t||d==="input"?void 0:t,rel:d==="a"?o:void 0};let{pressProps:c,isPressed:P}=V({onPressStart:r,onPressEnd:m,onPressChange:i,onPress:s,onPressUp:x,isDisabled:t,preventFocusOnPress:u,ref:a}),{focusableProps:v}=H(e,a);p&&(v.tabIndex=t?-1:v.tabIndex);let E=g(v,c,F(e,{labelable:!0}));return{isPressed:P,buttonProps:g(n,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],onClick:w=>{l&&(l(w),console.warn("onClick is deprecated, please use onPress"))}})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=h.createContext({}),Q=U(function(a,d){[a,d]=k(a,d,R),a=A(a);let t=a,{isPending:s}=t,{buttonProps:r,isPressed:m}=B(a,d),{focusProps:x,isFocused:i,isFocusVisible:u}=I(a),{hoverProps:p,isHovered:l}=O({...a,isDisabled:a.isDisabled||s}),b={isHovered:l,isPressed:(t.isPressed||m)&&!s,isFocused:i,isFocusVisible:u,isDisabled:a.isDisabled||!1,isPending:s??!1},$=S({...a,values:b,defaultClassName:"react-aria-Button"}),o=y(r.id),f=y(),n=r["aria-labelledby"];s&&(n?n=`${n} ${f}`:r["aria-label"]&&(n=`${o} ${f}`));let c=h.useRef(s);return h.useEffect(()=>{let P={"aria-labelledby":n||o};!c.current&&i&&s?C(P,"assertive"):c.current&&i&&!s&&C(P,"assertive"),c.current=s},[s,i,n,o]),D.createElement("button",{...F(a,{propNames:N}),...g(r,x,p),...$,type:r.type==="submit"&&s?"button":r.type,id:o,ref:d,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":s?"true":r["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":b.isPressed||void 0,"data-hovered":l||void 0,"data-focused":i||void 0,"data-pending":s||void 0,"data-focus-visible":u||void 0},D.createElement(T.Provider,{value:{id:f}},$.children))});function A(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{Q as $,R as a,B as b};
