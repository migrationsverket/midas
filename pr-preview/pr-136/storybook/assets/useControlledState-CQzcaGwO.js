import{k as x}from"./useFocusable-FXxCDyRU.js";import{r as f}from"./index-BwDkhjyp.js";function C(i,a){let{id:l,"aria-label":n,"aria-labelledby":e}=i;return l=x(l),e&&n?e=[...new Set([l,...e.trim().split(/\s+/)])].join(" "):e&&(e=e.trim().split(/\s+/).join(" ")),!n&&!e&&a&&(n=a),{id:l,"aria-label":n,"aria-labelledby":e}}function S(i,a,l){let[n,e]=f.useState(i||a),d=f.useRef(i!==void 0),t=i!==void 0;f.useEffect(()=>{let r=d.current;r!==t&&console.warn(`WARN: A component changed from ${r?"controlled":"uncontrolled"} to ${t?"controlled":"uncontrolled"}.`),d.current=t},[t]);let o=t?i:n,$=f.useCallback((r,...u)=>{let b=(s,...c)=>{l&&(Object.is(o,s)||l(s,...c)),t||(o=s)};typeof r=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),e((c,...m)=>{let p=r(t?o:c,...m);return b(p,...u),t?c:p})):(t||e(r),b(r,...u))},[t,o,l]);return[o,$]}export{S as $,C as a};
