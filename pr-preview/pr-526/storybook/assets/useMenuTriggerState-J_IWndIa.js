import{c as Te}from"./FocusScope-C0EWTSbR.js";import{k as ze,c as Ke,w as Ne}from"./useFocusRing-CPQALXIu.js";import{g as m,c as D}from"./utils-Dv9Ux5aE.js";import{r as x,R as v}from"./index-BbAIUH2N.js";import{a as Ue}from"./useLabel-BAqrTMfP.js";import{$ as P}from"./useLocalizedStringFormatter-DGtYtDnp.js";import{$ as He}from"./VisuallyHidden-DiGk2ECL.js";import{l as We}from"./SelectionManager-DMv3tLeY.js";import{c as Ze,$ as Ge}from"./useOverlayTriggerState-CnVHlh1Q.js";function _e(u){let{ref:e,onInteractOutside:r,isDisabled:c,onInteractOutsideStart:i}=u,n=x.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=m(o=>{r&&b(o,e)&&(i&&i(o),n.current.isPointerDown=!0)}),p=m(o=>{r&&r(o)});x.useEffect(()=>{let o=n.current;if(c)return;const f=e.current,a=ze(f);if(typeof PointerEvent<"u"){let d=$=>{o.isPointerDown&&b($,e)&&p($),o.isPointerDown=!1};return a.addEventListener("pointerdown",l,!0),a.addEventListener("pointerup",d,!0),()=>{a.removeEventListener("pointerdown",l,!0),a.removeEventListener("pointerup",d,!0)}}else{let d=s=>{o.ignoreEmulatedMouseEvents?o.ignoreEmulatedMouseEvents=!1:o.isPointerDown&&b(s,e)&&p(s),o.isPointerDown=!1},$=s=>{o.ignoreEmulatedMouseEvents=!0,o.isPointerDown&&b(s,e)&&p(s),o.isPointerDown=!1};return a.addEventListener("mousedown",l,!0),a.addEventListener("mouseup",d,!0),a.addEventListener("touchstart",l,!0),a.addEventListener("touchend",$,!0),()=>{a.removeEventListener("mousedown",l,!0),a.removeEventListener("mouseup",d,!0),a.removeEventListener("touchstart",l,!0),a.removeEventListener("touchend",$,!0)}}},[e,c,l,p])}function b(u,e){if(u.button>0)return!1;if(u.target){const r=u.target.ownerDocument;if(!r||!r.documentElement.contains(u.target)||u.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!u.composedPath().includes(e.current):!1}const g=[];function ou(u,e){let{onClose:r,shouldCloseOnBlur:c,isOpen:i,isDismissable:n=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:p}=u;x.useEffect(()=>{if(i&&!g.includes(e))return g.push(e),()=>{let t=g.indexOf(e);t>=0&&g.splice(t,1)}},[i,e]);let o=()=>{g[g.length-1]===e&&r&&r()},f=t=>{(!p||p(t.target))&&g[g.length-1]===e&&(t.stopPropagation(),t.preventDefault())},a=t=>{(!p||p(t.target))&&(g[g.length-1]===e&&(t.stopPropagation(),t.preventDefault()),o())},d=t=>{t.key==="Escape"&&!l&&!t.nativeEvent.isComposing&&(t.stopPropagation(),t.preventDefault(),o())};_e({ref:e,onInteractOutside:n&&i?a:void 0,onInteractOutsideStart:f});let{focusWithinProps:$}=Ke({isDisabled:!c,onBlurWithin:t=>{!t.relatedTarget||Te(t.relatedTarget)||(!p||p(t.relatedTarget))&&(r==null||r())}}),s=t=>{t.target===t.currentTarget&&t.preventDefault()};return{overlayProps:{onKeyDown:d,...$},underlayProps:{onPointerDown:s}}}function Ve(u,e,r){let{type:c}=u,{isOpen:i}=e;x.useEffect(()=>{r&&r.current&&Ze.set(r.current,e.close)});let n;c==="menu"?n=!0:c==="listbox"&&(n="listbox");let l=D();return{triggerProps:{"aria-haspopup":n,"aria-expanded":i,"aria-controls":i?l:void 0,onPress:e.toggle},overlayProps:{id:l}}}var E={};E={dismiss:"تجاهل"};var A={};A={dismiss:"Отхвърляне"};var B={};B={dismiss:"Odstranit"};var C={};C={dismiss:"Luk"};var y={};y={dismiss:"Schließen"};var k={};k={dismiss:"Απόρριψη"};var h={};h={dismiss:"Dismiss"};var M={};M={dismiss:"Descartar"};var w={};w={dismiss:"Lõpeta"};var S={};S={dismiss:"Hylkää"};var F={};F={dismiss:"Rejeter"};var O={};O={dismiss:"התעלם"};var L={};L={dismiss:"Odbaci"};var I={};I={dismiss:"Elutasítás"};var j={};j={dismiss:"Ignora"};var R={};R={dismiss:"閉じる"};var T={};T={dismiss:"무시"};var z={};z={dismiss:"Atmesti"};var K={};K={dismiss:"Nerādīt"};var N={};N={dismiss:"Lukk"};var U={};U={dismiss:"Negeren"};var H={};H={dismiss:"Zignoruj"};var W={};W={dismiss:"Descartar"};var Z={};Z={dismiss:"Dispensar"};var G={};G={dismiss:"Revocare"};var _={};_={dismiss:"Пропустить"};var V={};V={dismiss:"Zrušiť"};var J={};J={dismiss:"Opusti"};var q={};q={dismiss:"Odbaci"};var Q={};Q={dismiss:"Avvisa"};var X={};X={dismiss:"Kapat"};var Y={};Y={dismiss:"Скасувати"};var ee={};ee={dismiss:"取消"};var ue={};ue={dismiss:"關閉"};var se={};se={"ar-AE":E,"bg-BG":A,"cs-CZ":B,"da-DK":C,"de-DE":y,"el-GR":k,"en-US":h,"es-ES":M,"et-EE":w,"fi-FI":S,"fr-FR":F,"he-IL":O,"hr-HR":L,"hu-HU":I,"it-IT":j,"ja-JP":R,"ko-KR":T,"lt-LT":z,"lv-LV":K,"nb-NO":N,"nl-NL":U,"pl-PL":H,"pt-BR":W,"pt-PT":Z,"ro-RO":G,"ru-RU":_,"sk-SK":V,"sl-SI":J,"sr-SP":q,"sv-SE":Q,"tr-TR":X,"uk-UA":Y,"zh-CN":ee,"zh-TW":ue};function Je(u){return u&&u.__esModule?u.default:u}function nu(u){let{onDismiss:e,...r}=u,c=P(Je(se),"@react-aria/overlays"),i=Ue(r,c.format("dismiss")),n=()=>{e&&e()};return v.createElement(He,null,v.createElement("button",{...i,tabIndex:-1,onClick:n,style:{width:1,height:1}}))}var re={};re={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var te={};te={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var ae={};ae={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var oe={};oe={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var ne={};ne={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var ie={};ie={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var le={};le={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var de={};de={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var pe={};pe={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var ce={};ce={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var fe={};fe={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var $e={};$e={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var ge={};ge={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var xe={};xe={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var be={};be={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var me={};me={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var ve={};ve={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var De={};De={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Pe={};Pe={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Ee={};Ee={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Ae={};Ae={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Be={};Be={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ce={};Ce={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var ye={};ye={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var ke={};ke={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var he={};he={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Me={};Me={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var we={};we={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Se={};Se={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Fe={};Fe={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Oe={};Oe={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Le={};Le={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Ie={};Ie={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var je={};je={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Re={};Re={"ar-AE":re,"bg-BG":te,"cs-CZ":ae,"da-DK":oe,"de-DE":ne,"el-GR":ie,"en-US":le,"es-ES":de,"et-EE":pe,"fi-FI":ce,"fr-FR":fe,"he-IL":$e,"hr-HR":ge,"hu-HU":xe,"it-IT":be,"ja-JP":me,"ko-KR":ve,"lt-LT":De,"lv-LV":Pe,"nb-NO":Ee,"nl-NL":Ae,"pl-PL":Be,"pt-BR":Ce,"pt-PT":ye,"ro-RO":ke,"ru-RU":he,"sk-SK":Me,"sl-SI":we,"sr-SP":Se,"sv-SE":Fe,"tr-TR":Oe,"uk-UA":Le,"zh-CN":Ie,"zh-TW":je};function qe(u){return u&&u.__esModule?u.default:u}function iu(u,e,r){let{type:c="menu",isDisabled:i,trigger:n="press"}=u,l=D(),{triggerProps:p,overlayProps:o}=Ve({type:c},e,r),f=s=>{if(!i&&!(n==="longPress"&&!s.altKey)&&r&&r.current)switch(s.key){case"Enter":case" ":if(n==="longPress")return;case"ArrowDown":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("last");break;default:"continuePropagation"in s&&s.continuePropagation()}},a=P(qe(Re),"@react-aria/menu"),{longPressProps:d}=We({isDisabled:i||n!=="longPress",accessibilityDescription:a.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),$={preventFocusOnPress:!0,onPressStart(s){s.pointerType!=="touch"&&s.pointerType!=="keyboard"&&!i&&(Ne(s.target),e.open(s.pointerType==="virtual"?"first":null))},onPress(s){s.pointerType==="touch"&&!i&&e.toggle()}};return delete p.onPress,{menuTriggerProps:{...p,...n==="press"?$:d,id:l,onKeyDown:f},menuProps:{...o,"aria-labelledby":l,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function lu(u){let e=Ge(u),[r,c]=x.useState(null),[i,n]=x.useState([]),l=()=>{n([]),e.close()};return{focusStrategy:r,...e,open(f=null){c(f),e.open()},toggle(f=null){c(f),e.toggle()},close(){l()},expandedKeysStack:i,openSubmenu:(f,a)=>{n(d=>a>d.length?d:[...d.slice(0,a),f])},closeSubmenu:(f,a)=>{n(d=>d[a]===f?d.slice(0,a):d)}}}export{ou as $,nu as a,Ve as b,iu as c,lu as d};
