import{c as te}from"./FocusScope-CaULHkOc.js";import{r as b,R as x}from"./index-BbAIUH2N.js";import{k as D,s as se,h as re}from"./useFocusRing-CzvYi63w.js";import{$ as ie}from"./useLabels-C6xreehw.js";import{$ as ae}from"./useLocalizedStringFormatter-BPmhGMia.js";import{$ as oe}from"./VisuallyHidden-Gg3j86pG.js";function ne(s){let{ref:t,onInteractOutside:i,isDisabled:l,onInteractOutsideStart:d}=s,p=b.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),n=D(r=>{i&&m(r,t)&&(d&&d(r),p.current.isPointerDown=!0)}),o=D(r=>{i&&i(r)});b.useEffect(()=>{let r=p.current;if(l)return;const v=t.current,a=se(v);if(typeof PointerEvent<"u"){let f=c=>{r.isPointerDown&&m(c,t)&&o(c),r.isPointerDown=!1};return a.addEventListener("pointerdown",n,!0),a.addEventListener("pointerup",f,!0),()=>{a.removeEventListener("pointerdown",n,!0),a.removeEventListener("pointerup",f,!0)}}else{let f=$=>{r.ignoreEmulatedMouseEvents?r.ignoreEmulatedMouseEvents=!1:r.isPointerDown&&m($,t)&&o($),r.isPointerDown=!1},c=$=>{r.ignoreEmulatedMouseEvents=!0,r.isPointerDown&&m($,t)&&o($),r.isPointerDown=!1};return a.addEventListener("mousedown",n,!0),a.addEventListener("mouseup",f,!0),a.addEventListener("touchstart",n,!0),a.addEventListener("touchend",c,!0),()=>{a.removeEventListener("mousedown",n,!0),a.removeEventListener("mouseup",f,!0),a.removeEventListener("touchstart",n,!0),a.removeEventListener("touchend",c,!0)}}},[t,l,n,o])}function m(s,t){if(s.button>0)return!1;if(s.target){const i=s.target.ownerDocument;if(!i||!i.documentElement.contains(s.target)||s.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(s.target)}const u=[];function me(s,t){let{onClose:i,shouldCloseOnBlur:l,isOpen:d,isDismissable:p=!1,isKeyboardDismissDisabled:n=!1,shouldCloseOnInteractOutside:o}=s;b.useEffect(()=>(d&&u.push(t),()=>{let e=u.indexOf(t);e>=0&&u.splice(e,1)}),[d,t]);let r=()=>{u[u.length-1]===t&&i&&i()},v=e=>{(!o||o(e.target))&&u[u.length-1]===t&&(e.stopPropagation(),e.preventDefault())},a=e=>{(!o||o(e.target))&&(u[u.length-1]===t&&(e.stopPropagation(),e.preventDefault()),r())},f=e=>{e.key==="Escape"&&!n&&!e.nativeEvent.isComposing&&(e.stopPropagation(),e.preventDefault(),r())};ne({ref:t,onInteractOutside:p&&d?a:void 0,onInteractOutsideStart:v});let{focusWithinProps:c}=re({isDisabled:!l,onBlurWithin:e=>{!e.relatedTarget||te(e.relatedTarget)||(!o||o(e.relatedTarget))&&(i==null||i())}}),$=e=>{e.target===e.currentTarget&&e.preventDefault()};return{overlayProps:{onKeyDown:f,...c},underlayProps:{onPointerDown:$}}}var E={};E={dismiss:"تجاهل"};var g={};g={dismiss:"Отхвърляне"};var h={};h={dismiss:"Odstranit"};var O={};O={dismiss:"Luk"};var P={};P={dismiss:"Schließen"};var C={};C={dismiss:"Απόρριψη"};var w={};w={dismiss:"Dismiss"};var L={};L={dismiss:"Descartar"};var I={};I={dismiss:"Lõpeta"};var y={};y={dismiss:"Hylkää"};var R={};R={dismiss:"Rejeter"};var B={};B={dismiss:"התעלם"};var k={};k={dismiss:"Odbaci"};var S={};S={dismiss:"Elutasítás"};var T={};T={dismiss:"Ignora"};var A={};A={dismiss:"閉じる"};var K={};K={dismiss:"무시"};var U={};U={dismiss:"Atmesti"};var F={};F={dismiss:"Nerādīt"};var M={};M={dismiss:"Lukk"};var N={};N={dismiss:"Negeren"};var j={};j={dismiss:"Zignoruj"};var H={};H={dismiss:"Descartar"};var W={};W={dismiss:"Dispensar"};var Z={};Z={dismiss:"Revocare"};var z={};z={dismiss:"Пропустить"};var G={};G={dismiss:"Zrušiť"};var V={};V={dismiss:"Opusti"};var _={};_={dismiss:"Odbaci"};var J={};J={dismiss:"Avvisa"};var q={};q={dismiss:"Kapat"};var Q={};Q={dismiss:"Скасувати"};var X={};X={dismiss:"取消"};var Y={};Y={dismiss:"關閉"};var ee={};ee={"ar-AE":E,"bg-BG":g,"cs-CZ":h,"da-DK":O,"de-DE":P,"el-GR":C,"en-US":w,"es-ES":L,"et-EE":I,"fi-FI":y,"fr-FR":R,"he-IL":B,"hr-HR":k,"hu-HU":S,"it-IT":T,"ja-JP":A,"ko-KR":K,"lt-LT":U,"lv-LV":F,"nb-NO":M,"nl-NL":N,"pl-PL":j,"pt-BR":H,"pt-PT":W,"ro-RO":Z,"ru-RU":z,"sk-SK":G,"sl-SI":V,"sr-SP":_,"sv-SE":J,"tr-TR":q,"uk-UA":Q,"zh-CN":X,"zh-TW":Y};function ue(s){return s&&s.__esModule?s.default:s}function ve(s){let{onDismiss:t,...i}=s,l=ae(ue(ee),"@react-aria/overlays"),d=ie(i,l.format("dismiss")),p=()=>{t&&t()};return x.createElement(oe,null,x.createElement("button",{...d,tabIndex:-1,onClick:p,style:{width:1,height:1}}))}export{me as $,ve as a};
