import{j as m}from"./jsx-runtime-DtgEGaVE.js";import{$ as Pe,a as Ke,b as Y,c as ve,e as Me,d as ke}from"./Collection-B_lrZh-X.js";import{o as D,d as z,p as Ce,C as A,n as Se,a as Z,I as we,M as Fe,N as Ee,q as _e,h as De,w as I,$ as ee,k as ne,J as Ie,c as H,u as Re,t as Te,b as Ve}from"./useFocusable-qQinGlaH.js";import{$ as Ue,a as Be,b as Ne,c as Ae,d as je}from"./Separator-DPgQvSoL.js";import{r as d,R as p}from"./index-BbAIUH2N.js";import{$ as ze,a as He,b as Oe}from"./Dialog-Cd4E97JF.js";import{a as We}from"./Text-BRrj1F5x.js";import{d as Le}from"./useOverlayTriggerState-DhStdLG-.js";import{c as qe,$ as te,a as Ge,b as oe}from"./SelectionManager-CxPr3TNo.js";import{a as Je}from"./PressResponder-Ci9XQdnZ.js";import{$ as Qe}from"./useMenuTriggerState-Cmw0Xyb4.js";import{a as Xe}from"./useMenuTrigger-D5Ehmv0V.js";import{$ as Ye}from"./useControlledState-DGyHFLi9.js";import{a as Ze}from"./FocusScope-DoruocjZ.js";import{B as en}from"./Button-DGVn8_Vm.js";import{c as nn}from"./createLucideIcon-8wDOqnHv.js";const ae=new WeakMap;function tn(t,n,e){let{shouldFocusWrap:o=!0,onKeyDown:a,onKeyUp:i,...c}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let r=D(t,{labelable:!0}),{listProps:s}=Ue({...c,ref:e,selectionManager:n.selectionManager,collection:n.collection,disabledKeys:n.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return ae.set(n,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:z(r,{onKeyDown:a,onKeyUp:i},{role:"menu",...s,onKeyDown:b=>{var f;(b.key!=="Escape"||t.shouldUseVirtualFocus)&&((f=s.onKeyDown)===null||f===void 0||f.call(s,b))}})}}function on(t,n,e){let{id:o,key:a,closeOnSelect:i,isVirtualized:c,"aria-haspopup":r,onPressStart:s,onPressUp:b,onPress:f,onPressChange:h,onPressEnd:g,onHoverStart:$,onHoverChange:P,onHoverEnd:k,onKeyDown:K,onKeyUp:S,onFocus:w,onFocusChange:R,onBlur:le,selectionManager:y=n.selectionManager}=t,x=!!r,W=x&&t["aria-expanded"]==="true";var T;let v=(T=t.isDisabled)!==null&&T!==void 0?T:y.isDisabled(a);var V;let L=(V=t.isSelected)!==null&&V!==void 0?V:y.isSelected(a),F=ae.get(n),u=n.collection.getItem(a),M=t.onClose||F.onClose,ie=Ce(),U=l=>{var N;if(!x){if(!(u==null||(N=u.props)===null||N===void 0)&&N.onAction?u.props.onAction():t.onAction&&t.onAction(a),F.onAction){let ge=F.onAction;ge(a)}l.target instanceof HTMLAnchorElement&&u&&ie.open(l.target,l,u.props.href,u.props.routerOptions)}},B="menuitem";x||(y.selectionMode==="single"?B="menuitemradio":y.selectionMode==="multiple"&&(B="menuitemcheckbox"));let q=A(),G=A(),J=A(),E={id:o,"aria-disabled":v||void 0,role:B,"aria-label":t["aria-label"],"aria-labelledby":q,"aria-describedby":[G,J].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":r,"aria-expanded":t["aria-expanded"]};y.selectionMode!=="none"&&!x&&(E["aria-checked"]=L),c&&(E["aria-posinset"]=u==null?void 0:u.index,E["aria-setsize"]=Be(n.collection));let ce=l=>{l.pointerType==="keyboard"&&U(l),s==null||s(l)},Q=()=>{!x&&M&&(i??(y.selectionMode!=="multiple"||y.isLink(a)))&&M()},ue=l=>{l.pointerType==="mouse"&&(U(l),Q()),b==null||b(l)},fe=l=>{l.pointerType!=="keyboard"&&l.pointerType!=="mouse"&&(U(l),Q()),f==null||f(l)},{itemProps:C,isFocused:pe}=qe({id:o,selectionManager:y,key:a,ref:e,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:F.shouldUseVirtualFocus}),{pressProps:be,isPressed:$e}=Se({onPressStart:ce,onPress:fe,onPressUp:ue,onPressChange:h,onPressEnd:g,isDisabled:v}),{hoverProps:ye}=Z({isDisabled:v,onHoverStart(l){!we()&&!(W&&r==="dialog")&&(y.setFocused(!0),y.setFocusedKey(a)),$==null||$(l)},onHoverChange:P,onHoverEnd:k}),{keyboardProps:me}=Fe({onKeyDown:l=>{if(l.repeat){l.continuePropagation();return}switch(l.key){case" ":!v&&y.selectionMode==="none"&&!x&&i!==!1&&M&&M();break;case"Enter":!v&&i!==!1&&!x&&M&&M();break;default:x||l.continuePropagation(),K==null||K(l);break}},onKeyUp:S}),{focusProps:xe}=Ee({onBlur:le,onFocus:w,onFocusChange:R}),X=D(u==null?void 0:u.props);delete X.id;let he=_e(u==null?void 0:u.props);return{menuItemProps:{...E,...z(X,he,x?{onFocus:C.onFocus,"data-key":C["data-key"]}:C,be,ye,me,xe),tabIndex:C.tabIndex!=null&&W?-1:C.tabIndex},labelProps:{id:q},descriptionProps:{id:G},keyboardShortcutProps:{id:J},isFocused:pe,isSelected:L,isPressed:$e,isDisabled:v}}function an(t){let{heading:n,"aria-label":e}=t,o=De();return{itemProps:{role:"presentation"},headingProps:n?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":e,"aria-labelledby":n?o:void 0}}}class sn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(n){let e=this.keyMap.get(n);var o;return e&&(o=e.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(n){let e=this.keyMap.get(n);var o;return e&&(o=e.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(n){var e;return(e=this.keyMap.get(n))!==null&&e!==void 0?e:null}at(n){const e=[...this.getKeys()];return this.getItem(e[n])}constructor(n,{expandedKeys:e}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=n,e=e||new Set;let o=r=>{if(this.keyMap.set(r.key,r),r.childNodes&&(r.type==="section"||e.has(r.key)))for(let s of r.childNodes)o(s)};for(let r of n)o(r);let a=null,i=0;for(let[r,s]of this.keyMap)a?(a.nextKey=r,s.prevKey=a.key):(this.firstKey=r,s.prevKey=void 0),s.type==="item"&&(s.index=i++),a=s,a.nextKey=void 0;var c;this.lastKey=(c=a==null?void 0:a.key)!==null&&c!==void 0?c:null}}function rn(t){let{onExpandedChange:n}=t,[e,o]=Ye(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,n),a=te(t),i=d.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),c=Ge(t,d.useCallback(s=>new sn(s,{expandedKeys:e}),[e]),null);return d.useEffect(()=>{a.focusedKey!=null&&!c.getItem(a.focusedKey)&&a.setFocusedKey(null)},[c,a.focusedKey]),{collection:c,expandedKeys:e,disabledKeys:i,toggleKey:s=>{o(dn(e,s))},setExpandedKeys:o,selectionManager:new oe(c,a)}}function dn(t,n){let e=new Set(t);return e.has(n)?e.delete(n):e.add(n),e}const ln=d.createContext({}),se=d.createContext(null),O=d.createContext(null),re=d.createContext(null),_=d.createContext(null);function cn(t){let n=Qe(t),e=d.useRef(null),{menuTriggerProps:o,menuProps:a}=Xe({...t,type:"menu"},n,e),[i,c]=d.useState(null),r=d.useCallback(()=>{e.current&&c(e.current.offsetWidth+"px")},[e]);Le({ref:e,onResize:r});let s=d.useRef(null);return p.createElement(I,{values:[[se,{...a,ref:s}],[ze,n],[re,n],[He,{trigger:"MenuTrigger",triggerRef:e,scrollRef:s,placement:"bottom start",style:{"--trigger-width":i}}]]},p.createElement(Je,{...o,ref:e,isPressed:n.isOpen},t.children))}const un=d.createContext(null),fn=d.forwardRef(function(n,e){return[n,e]=ee(n,e,se),p.createElement(Pe,{content:p.createElement(Ke,n)},o=>o.size>0&&p.createElement(pn,{props:n,collection:o,menuRef:e}))});function pn({props:t,collection:n,menuRef:e}){let{filterFn:o,collectionProps:a,collectionRef:i}=d.useContext(Ne)||{};e=ne(d.useMemo(()=>Ie(e,i!==void 0?i:null),[i,e]));let c=d.useMemo(()=>o?n.filter(o):n,[n,o]),r=rn({...t,collection:c,children:void 0}),s=d.useContext(re),{isVirtualized:b,CollectionRoot:f}=d.useContext(Y),{menuProps:h}=tn({...t,...a,isVirtualized:b,onClose:t.onClose||(s==null?void 0:s.close)},r,e),g=H({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{}});return p.createElement(Ze,null,p.createElement("div",{...D(t),...h,...g,ref:e,slot:t.slot||void 0,onScroll:t.onScroll},p.createElement(I,{values:[[O,r],[Ae,{elementType:"div"}],[ve,{name:"MenuSection",render:$n}],[un,{parentMenuRef:e}],[j,null],[_,r.selectionManager]]},p.createElement(f,{collection:r.collection,persistedKeys:Me(r.selectionManager.focusedKey),scrollRef:e}))))}class bn extends oe{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(n,e){return this.parent.setFocusedKey(n,e)}setFocused(n){this.parent.setFocused(n)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(n,e){super(n.collection,e),this.parent=n}}function $n(t,n,e,o="react-aria-MenuSection"){var a,i;let c=d.useContext(O),{CollectionBranch:r}=d.useContext(Y),[s,b]=Re();var f;let{headingProps:h,groupProps:g}=an({heading:b,"aria-label":(f=e.props["aria-label"])!==null&&f!==void 0?f:void 0}),$=H({defaultClassName:o,className:(a=e.props)===null||a===void 0?void 0:a.className,style:(i=e.props)===null||i===void 0?void 0:i.style,values:{}}),P=d.useContext(_),k=te(t),K=t.selectionMode!=null?new bn(P,k):P;return p.createElement("section",{...D(t),...g,...$,ref:n},p.createElement(I,{values:[[je,{...h,ref:s}],[_,K]]},p.createElement(r,{collection:c.collection,parent:e})))}const j=d.createContext(null),yn=ke("item",function(n,e,o){var a;[n,e]=ee(n,e,j);let i=(a=Te(j))===null||a===void 0?void 0:a.id,c=d.useContext(O),r=ne(e),s=d.useContext(_),{menuItemProps:b,labelProps:f,descriptionProps:h,keyboardShortcutProps:g,...$}=on({...n,id:i,key:o.key,selectionManager:s},c,r),{isFocusVisible:P,focusProps:k}=Ve(),{hoverProps:K,isHovered:S}=Z({isDisabled:$.isDisabled}),w=H({...n,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...$,isHovered:S,isFocusVisible:P,selectionMode:s.selectionMode,selectionBehavior:s.selectionBehavior,hasSubmenu:!!n["aria-haspopup"],isOpen:n["aria-expanded"]==="true"}}),R=n.href?"a":"div";return p.createElement(R,{...z(b,k,K),...w,ref:r,"data-disabled":$.isDisabled||void 0,"data-hovered":S||void 0,"data-focused":$.isFocused||void 0,"data-focus-visible":P||void 0,"data-pressed":$.isPressed||void 0,"data-selected":$.isSelected||void 0,"data-selection-mode":s.selectionMode==="none"?void 0:s.selectionMode,"data-has-submenu":!!n["aria-haspopup"]||void 0,"data-open":n["aria-expanded"]==="true"||void 0},p.createElement(I,{values:[[We,{slots:{label:f,description:h}}],[ln,g]]},w.children))});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=nn("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),xn='"../theme/tokens.css"',hn='"Inter", sans-serif',gn="0 0 0 2px #ffffff, 0 0 0 4px #000000",Pn="#f2f2f2",Kn="_dropDownMenu_1f4ap_4",vn="_dropdownMenu_1f4ap_15",de={tokens:xn,display:hn,focus:gn,gray10:Pn,dropDownMenu:Kn,dropdownMenu:vn};function Mn({label:t,title:n,children:e,...o}){return m.jsxs(cn,{...o,children:[m.jsxs(en,{"aria-label":t,variant:"icon",children:[n,m.jsx(mn,{size:20,"aria-hidden":!0})]}),m.jsx(Oe,{children:m.jsx(fn,{...o,className:de.dropDownMenu,children:e})})]})}function kn(t){const n=t.textValue||(typeof t.children=="string"?t.children:void 0);return m.jsx(yn,{...t,textValue:n,className:({isFocused:e,isOpen:o})=>`${de.dropdownMenu} ${e?"focused":""} ${o?"open":""}`,children:({hasSubmenu:e})=>m.jsxs(m.Fragment,{children:[t.children,e&&m.jsx("svg",{className:"chevron",viewBox:"0 0 24 24",children:m.jsx("path",{d:"m9 18 6-6-6-6"})})]})})}Mn.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{label:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""}},composes:["MenuProps","Omit"]};kn.__docgenInfo={description:"",methods:[],displayName:"DropdownItem"};export{Mn as D,kn as a};
