import{j as e}from"./jsx-runtime-DtgEGaVE.js";import{r as u}from"./index-BbAIUH2N.js";import{a as b}from"./Form-BmORT3a_.js";import{$ as y}from"./Input-Dl-xw1t8.js";import{$ as j}from"./useField-BEs8UT-O.js";import{$ as m}from"./Text-BRrj1F5x.js";import{$ as N}from"./TextField-BIRN0Qwu.js";import{T as t}from"./TextField.module-D5Tnj0hv.js";import{c as R}from"./clsx-B-dksMZM.js";import{B as T}from"./Button-DGVn8_Vm.js";const E=({label:a,description:o,errorMessage:s,validationType:n,validate:c,maxCharacters:r,showCounter:x,...d})=>{const[l,h]=u.useState(""),p=i=>{const w=i.target.value;h(w)},g=i=>n==="ssn"?S.test(i)?null:"Felaktigt personnummer":n==="dossnr"?q.test(i)?null:"Felaktigt dossiernummer":n instanceof RegExp?new RegExp(n).test(i)?null:s==null?void 0:s.toString():r?r&&i.length>r?`Du har angett ${i.length-r} tecken för mycket. Fältet är begränsat till ${r} tecken.`:null:c?c(i):!0,$=()=>r?e.jsxs("span",{className:R(t.count,l.length>r&&t.countExceeded),children:[l.length," / ",r]}):x?e.jsx("span",{className:t.count,children:l.length}):null;return e.jsx(N,{className:t.inputField,validate:g,...d,children:e.jsxs(f,{label:a,description:o,errorMessage:s,children:[e.jsx($,{}),e.jsxs("div",{className:t.wrap,children:[e.jsx(y,{type:d.type,className:t.input,onChange:p,onBlur:p}),e.jsx(F,{type:d.type,input:l})]})]})})},F=({type:a,input:o})=>{const[s,n]=u.useState(!1);return a==="password"?e.jsxs(e.Fragment,{children:[s&&e.jsx(m,{slot:"description",className:t.passwordText,children:o}),e.jsx(T,{variant:"tertiary",onPress:()=>n(!s),className:t.passwordButton,children:s?"Dölj":"Visa"})]}):null},f=({label:a,description:o,errorMessage:s,children:n})=>e.jsxs("div",{className:t.inputWrapper,children:[a&&e.jsx(j,{className:t.label,children:a}),o&&e.jsx(m,{slot:"description",className:t.text,children:o}),e.jsx(b,{className:t.fieldError,children:s}),n]}),S=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$"),q=new RegExp("\\d{1,2}[-+]?\\d{6}(/\\d{1,2})?$");E.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:"Specify label displayed above the TextField"},description:{required:!1,tsType:{name:"string"},description:"Specify description displayed below the label"},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string) | undefined",elements:[{name:"string"},{name:"unknown"},{name:"undefined"}]},description:"Custom error messages"},validationType:{required:!1,tsType:{name:"union",raw:"'ssn' | 'dossnr' | RegExp",elements:[{name:"literal",value:"'ssn'"},{name:"literal",value:"'dossnr'"},{name:"RegExp"}]},description:"Enable validations or add your own regex"},maxCharacters:{required:!1,tsType:{name:"number"},description:"Set number of characters that are allowed before the TextField is put in an invalid state"},showCounter:{required:!1,tsType:{name:"boolean"},description:`Whether to show the character counter or not
@default
false`}},composes:["AriaTextFieldProps"]};f.__docgenInfo={description:"",methods:[],displayName:"InputWrapper"};export{f as I,E as T};
