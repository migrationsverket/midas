import{i as q,x as Ge,G as We,g as Y,f as Ye}from"./useFocusable-qQinGlaH.js";import{r as I,R as Q}from"./index-BbAIUH2N.js";import{$ as Xe}from"./context-BiKH8hYg.js";import{b as Je}from"./FocusScope-DoruocjZ.js";import{$ as qe}from"./useLabels-DoruDqSb.js";import{$ as Qe}from"./useLocalizedStringFormatter-BQrwAsaD.js";import{$ as Ve}from"./VisuallyHidden-DY_cIkjj.js";import{$ as et}from"./useControlledState-DGyHFLi9.js";function tt(){return typeof window.ResizeObserver<"u"}function V(t){const{ref:e,box:n,onResize:o}=t;I.useEffect(()=>{let r=e==null?void 0:e.current;if(r)if(tt()){const i=new window.ResizeObserver(u=>{u.length&&o()});return i.observe(r,{box:n}),()=>{r&&i.unobserve(r)}}else return window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}},[o,e,n])}function X(t,e=-1/0,n=1/0){return Math.min(Math.max(t,e),n)}function nt(t){let{ref:e,onInteractOutside:n,isDisabled:o,onInteractOutsideStart:r}=t,i=I.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=q(f=>{n&&U(f,e)&&(r&&r(f),i.current.isPointerDown=!0)}),l=q(f=>{n&&n(f)});I.useEffect(()=>{let f=i.current;if(o)return;const m=e.current,d=Ge(m);if(typeof PointerEvent<"u"){let p=c=>{f.isPointerDown&&U(c,e)&&l(c),f.isPointerDown=!1};return d.addEventListener("pointerdown",u,!0),d.addEventListener("pointerup",p,!0),()=>{d.removeEventListener("pointerdown",u,!0),d.removeEventListener("pointerup",p,!0)}}else{let p=a=>{f.ignoreEmulatedMouseEvents?f.ignoreEmulatedMouseEvents=!1:f.isPointerDown&&U(a,e)&&l(a),f.isPointerDown=!1},c=a=>{f.ignoreEmulatedMouseEvents=!0,f.isPointerDown&&U(a,e)&&l(a),f.isPointerDown=!1};return d.addEventListener("mousedown",u,!0),d.addEventListener("mouseup",p,!0),d.addEventListener("touchstart",u,!0),d.addEventListener("touchend",c,!0),()=>{d.removeEventListener("mousedown",u,!0),d.removeEventListener("mouseup",p,!0),d.removeEventListener("touchstart",u,!0),d.removeEventListener("touchend",c,!0)}}},[e,o,u,l])}function U(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const M={top:"top",bottom:"top",left:"left",right:"left"},Z={top:"bottom",bottom:"top",left:"right",right:"left"},rt={top:"left",left:"top"},J={top:"height",left:"width"},ie={width:"totalWidth",height:"totalHeight"},K={};let P=typeof document<"u"?window.visualViewport:null;function ee(t){let e=0,n=0,o=0,r=0,i=0,u=0,l={};var f;let m=((f=P==null?void 0:P.scale)!==null&&f!==void 0?f:1)>1;if(t.tagName==="BODY"){let s=document.documentElement;o=s.clientWidth,r=s.clientHeight;var d;e=(d=P==null?void 0:P.width)!==null&&d!==void 0?d:o;var p;n=(p=P==null?void 0:P.height)!==null&&p!==void 0?p:r,l.top=s.scrollTop||t.scrollTop,l.left=s.scrollLeft||t.scrollLeft,P&&(i=P.offsetTop,u=P.offsetLeft)}else({width:e,height:n,top:i,left:u}=N(t)),l.top=t.scrollTop,l.left=t.scrollLeft,o=e,r=n;if(We()&&(t.tagName==="BODY"||t.tagName==="HTML")&&m){l.top=0,l.left=0;var c;i=(c=P==null?void 0:P.pageTop)!==null&&c!==void 0?c:0;var a;u=(a=P==null?void 0:P.pageLeft)!==null&&a!==void 0?a:0}return{width:e,height:n,totalWidth:o,totalHeight:r,scroll:l,top:i,left:u}}function ot(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function te(t,e,n,o,r,i,u){var l;let f=(l=r.scroll[t])!==null&&l!==void 0?l:0,m=o[J[t]],d=o.scroll[M[t]]+i,p=m+o.scroll[M[t]]-i,c=e-f+u[t]-o[M[t]],a=e-f+n+u[t]-o[M[t]];return c<d?d-c:a>p?Math.max(p-a,d-c):0}function lt(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function ne(t){if(K[t])return K[t];let[e,n]=t.split(" "),o=M[e]||"right",r=rt[o];M[n]||(n="center");let i=J[o],u=J[r];return K[t]={placement:e,crossPlacement:n,axis:o,crossAxis:r,size:i,crossSize:u},K[t]}function W(t,e,n,o,r,i,u,l,f,m){let{placement:d,crossPlacement:p,axis:c,crossAxis:a,size:s,crossSize:b}=o,$={};var g;$[a]=(g=t[a])!==null&&g!==void 0?g:0;var v,w,O,C;p==="center"?$[a]+=(((v=t[b])!==null&&v!==void 0?v:0)-((w=n[b])!==null&&w!==void 0?w:0))/2:p!==a&&($[a]+=((O=t[b])!==null&&O!==void 0?O:0)-((C=n[b])!==null&&C!==void 0?C:0)),$[a]+=i;const h=t[a]-n[b]+f+m,H=t[a]+t[b]-f-m;if($[a]=X($[a],h,H),d===c){const y=l?u[s]:e[ie[s]];$[Z[c]]=Math.floor(y-t[c]+r)}else $[c]=Math.floor(t[c]+t[s]+r);return $}function it(t,e,n,o,r,i,u,l){const f=o?n.height:e[ie.height];var m;let d=t.top!=null?n.top+t.top:n.top+(f-((m=t.bottom)!==null&&m!==void 0?m:0)-u);var p,c,a,s,b,$;let g=l!=="top"?Math.max(0,e.height+e.top+((p=e.scroll.top)!==null&&p!==void 0?p:0)-d-(((c=r.top)!==null&&c!==void 0?c:0)+((a=r.bottom)!==null&&a!==void 0?a:0)+i)):Math.max(0,d+u-(e.top+((s=e.scroll.top)!==null&&s!==void 0?s:0))-(((b=r.top)!==null&&b!==void 0?b:0)+(($=r.bottom)!==null&&$!==void 0?$:0)+i));return Math.min(e.height-i*2,g)}function re(t,e,n,o,r,i){let{placement:u,axis:l,size:f}=i;var m,d;if(u===l)return Math.max(0,n[l]-t[l]-((m=t.scroll[l])!==null&&m!==void 0?m:0)+e[l]-((d=o[l])!==null&&d!==void 0?d:0)-o[Z[l]]-r);var p;return Math.max(0,t[f]+t[l]+t.scroll[l]-e[l]-n[l]-n[f]-((p=o[l])!==null&&p!==void 0?p:0)-o[Z[l]]-r)}function st(t,e,n,o,r,i,u,l,f,m,d,p,c,a,s,b){let $=ne(t),{size:g,crossAxis:v,crossSize:w,placement:O,crossPlacement:C}=$,h=W(e,l,n,$,d,p,m,c,s,b),H=d,y=re(l,m,e,r,i+d,$);if(u&&o[g]>y){let G=ne(`${Z[O]} ${C}`),je=W(e,l,n,G,d,p,m,c,s,b);re(l,m,e,r,i+d,G)>y&&($=G,h=je,H=d)}let D="bottom";$.axis==="top"?$.placement==="top"?D="top":$.placement==="bottom"&&(D="bottom"):$.crossAxis==="top"&&($.crossPlacement==="top"?D="bottom":$.crossPlacement==="bottom"&&(D="top"));let E=te(v,h[v],n[w],l,f,i,m);h[v]+=E;let R=it(h,l,m,c,r,i,n.height,D);a&&a<R&&(R=a),n.height=Math.min(n.height,R),h=W(e,l,n,$,H,p,m,c,s,b),E=te(v,h[v],n[w],l,f,i,m),h[v]+=E;let T={},A=e[v]+.5*e[w]-h[v]-r[M[v]];const S=s/2+b;var k,B,z,L;const F=M[v]==="left"?((k=r.left)!==null&&k!==void 0?k:0)+((B=r.right)!==null&&B!==void 0?B:0):((z=r.top)!==null&&z!==void 0?z:0)+((L=r.bottom)!==null&&L!==void 0?L:0),j=n[w]-F-s/2-b,Ue=e[v]+s/2-(h[v]+r[M[v]]),Ke=e[v]+e[w]-s/2-(h[v]+r[M[v]]),Ze=X(A,Ue,Ke);return T[v]=X(Ze,S,j),{position:h,maxHeight:R,arrowOffsetLeft:T.left,arrowOffsetTop:T.top,placement:$.placement}}function at(t){let{placement:e,targetNode:n,overlayNode:o,scrollNode:r,padding:i,shouldFlip:u,boundaryElement:l,offset:f,crossOffset:m,maxHeight:d,arrowSize:p=0,arrowBoundaryOffset:c=0}=t,a=o instanceof HTMLElement?dt(o):document.documentElement,s=a===document.documentElement;const b=window.getComputedStyle(a).position;let $=!!b&&b!=="static",g=s?N(n):oe(n,a);if(!s){let{marginTop:T,marginLeft:A}=window.getComputedStyle(n);g.top+=parseInt(T,10)||0,g.left+=parseInt(A,10)||0}let v=N(o),w=lt(o);var O,C;v.width+=((O=w.left)!==null&&O!==void 0?O:0)+((C=w.right)!==null&&C!==void 0?C:0);var h,H;v.height+=((h=w.top)!==null&&h!==void 0?h:0)+((H=w.bottom)!==null&&H!==void 0?H:0);let y=ot(r),D=ee(l),E=ee(a),R=l.tagName==="BODY"?N(a):oe(a,l);return a.tagName==="HTML"&&l.tagName==="BODY"&&(E.scroll.top=0,E.scroll.left=0),st(e,g,v,y,w,i,u,D,E,R,f,m,$,d,p,c)}function N(t){let{top:e,left:n,width:o,height:r}=t.getBoundingClientRect(),{scrollTop:i,scrollLeft:u,clientTop:l,clientLeft:f}=document.documentElement;return{top:e+i-l,left:n+u-f,width:o,height:r}}function oe(t,e){let n=window.getComputedStyle(t),o;if(n.position==="fixed"){let{top:r,left:i,width:u,height:l}=t.getBoundingClientRect();o={top:r,left:i,width:u,height:l}}else{o=N(t);let r=N(e),i=window.getComputedStyle(e);r.top+=(parseInt(i.borderTopWidth,10)||0)-e.scrollTop,r.left+=(parseInt(i.borderLeftWidth,10)||0)-e.scrollLeft,o.top-=r.top,o.left-=r.left}return o.top-=parseInt(n.marginTop,10)||0,o.left-=parseInt(n.marginLeft,10)||0,o}function dt(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!le(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!le(e);)e=e.parentElement;return e||document.documentElement}function le(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const ut=new WeakMap;function ft(t){let{triggerRef:e,isOpen:n,onClose:o}=t;I.useEffect(()=>{if(!n||o===null)return;let r=i=>{let u=i.target;if(!e.current||u instanceof Node&&!u.contains(e.current)||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)return;let l=o||ut.get(e.current);l&&l()};return window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("scroll",r,!0)}},[n,o,e])}let x=typeof document<"u"?window.visualViewport:null;function Ct(t){let{direction:e}=Xe(),{arrowSize:n=0,targetRef:o,overlayRef:r,scrollRef:i=r,placement:u="bottom",containerPadding:l=12,shouldFlip:f=!0,boundaryElement:m=typeof document<"u"?document.body:null,offset:d=0,crossOffset:p=0,shouldUpdatePosition:c=!0,isOpen:a=!0,onClose:s,maxHeight:b,arrowBoundaryOffset:$=0}=t,[g,v]=I.useState(null),w=[c,u,r.current,o.current,i.current,l,f,m,d,p,a,e,b,$,n],O=I.useRef(x==null?void 0:x.scale);I.useEffect(()=>{a&&(O.current=x==null?void 0:x.scale)},[a]);let C=I.useCallback(()=>{if(c===!1||!a||!r.current||!o.current||!m||(x==null?void 0:x.scale)!==O.current)return;let E=null;if(i.current&&i.current.contains(document.activeElement)){var R;let L=(R=document.activeElement)===null||R===void 0?void 0:R.getBoundingClientRect(),F=i.current.getBoundingClientRect();var T;if(E={type:"top",offset:((T=L==null?void 0:L.top)!==null&&T!==void 0?T:0)-F.top},E.offset>F.height/2){E.type="bottom";var A;E.offset=((A=L==null?void 0:L.bottom)!==null&&A!==void 0?A:0)-F.bottom}}let S=r.current;if(!b&&r.current){var k;S.style.top="0px",S.style.bottom="";var B;S.style.maxHeight=((B=(k=window.visualViewport)===null||k===void 0?void 0:k.height)!==null&&B!==void 0?B:window.innerHeight)+"px"}let z=at({placement:pt(u,e),overlayNode:r.current,targetNode:o.current,scrollNode:i.current||r.current,padding:l,shouldFlip:f,boundaryElement:m,offset:d,crossOffset:p,maxHeight:b,arrowSize:n,arrowBoundaryOffset:$});if(z.position){if(S.style.top="",S.style.bottom="",S.style.left="",S.style.right="",Object.keys(z.position).forEach(L=>S.style[L]=z.position[L]+"px"),S.style.maxHeight=z.maxHeight!=null?z.maxHeight+"px":"",E&&document.activeElement&&i.current){let L=document.activeElement.getBoundingClientRect(),F=i.current.getBoundingClientRect(),j=L[E.type]-F[E.type];i.current.scrollTop+=j-E.offset}v(z)}},w);Y(C,w),ct(C),V({ref:r,onResize:C}),V({ref:o,onResize:C});let h=I.useRef(!1);Y(()=>{let E,R=()=>{h.current=!0,clearTimeout(E),E=setTimeout(()=>{h.current=!1},500),C()},T=()=>{h.current&&R()};return x==null||x.addEventListener("resize",R),x==null||x.addEventListener("scroll",T),()=>{x==null||x.removeEventListener("resize",R),x==null||x.removeEventListener("scroll",T)}},[C]);let H=I.useCallback(()=>{h.current||s==null||s()},[s,h]);ft({triggerRef:o,isOpen:a,onClose:s&&H});var y,D;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...g==null?void 0:g.position,maxHeight:(y=g==null?void 0:g.maxHeight)!==null&&y!==void 0?y:"100vh"}},placement:(D=g==null?void 0:g.placement)!==null&&D!==void 0?D:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:g==null?void 0:g.arrowOffsetLeft,top:g==null?void 0:g.arrowOffsetTop}},updatePosition:C}}function ct(t){Y(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function pt(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}const _=[];function Lt(t,e){let{onClose:n,shouldCloseOnBlur:o,isOpen:r,isDismissable:i=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:l}=t;I.useEffect(()=>(r&&_.push(e),()=>{let s=_.indexOf(e);s>=0&&_.splice(s,1)}),[r,e]);let f=()=>{_[_.length-1]===e&&n&&n()},m=s=>{(!l||l(s.target))&&_[_.length-1]===e&&(s.stopPropagation(),s.preventDefault())},d=s=>{(!l||l(s.target))&&(_[_.length-1]===e&&(s.stopPropagation(),s.preventDefault()),f())},p=s=>{s.key==="Escape"&&!u&&!s.nativeEvent.isComposing&&(s.stopPropagation(),s.preventDefault(),f())};nt({ref:e,onInteractOutside:i&&r?d:void 0,onInteractOutsideStart:m});let{focusWithinProps:c}=Ye({isDisabled:!o,onBlurWithin:s=>{!s.relatedTarget||Je(s.relatedTarget)||(!l||l(s.relatedTarget))&&(n==null||n())}}),a=s=>{s.target===s.currentTarget&&s.preventDefault()};return{overlayProps:{onKeyDown:p,...c},underlayProps:{onPointerDown:a}}}var se={};se={dismiss:"تجاهل"};var ae={};ae={dismiss:"Отхвърляне"};var de={};de={dismiss:"Odstranit"};var ue={};ue={dismiss:"Luk"};var fe={};fe={dismiss:"Schließen"};var ce={};ce={dismiss:"Απόρριψη"};var pe={};pe={dismiss:"Dismiss"};var me={};me={dismiss:"Descartar"};var $e={};$e={dismiss:"Lõpeta"};var ge={};ge={dismiss:"Hylkää"};var ve={};ve={dismiss:"Rejeter"};var be={};be={dismiss:"התעלם"};var he={};he={dismiss:"Odbaci"};var xe={};xe={dismiss:"Elutasítás"};var Ee={};Ee={dismiss:"Ignora"};var we={};we={dismiss:"閉じる"};var Pe={};Pe={dismiss:"무시"};var Ce={};Ce={dismiss:"Atmesti"};var Le={};Le={dismiss:"Nerādīt"};var Re={};Re={dismiss:"Lukk"};var Ie={};Ie={dismiss:"Negeren"};var Oe={};Oe={dismiss:"Zignoruj"};var Te={};Te={dismiss:"Descartar"};var De={};De={dismiss:"Dispensar"};var Se={};Se={dismiss:"Revocare"};var He={};He={dismiss:"Пропустить"};var ye={};ye={dismiss:"Zrušiť"};var ze={};ze={dismiss:"Opusti"};var Me={};Me={dismiss:"Odbaci"};var _e={};_e={dismiss:"Avvisa"};var Ae={};Ae={dismiss:"Kapat"};var ke={};ke={dismiss:"Скасувати"};var Be={};Be={dismiss:"取消"};var Fe={};Fe={dismiss:"關閉"};var Ne={};Ne={"ar-AE":se,"bg-BG":ae,"cs-CZ":de,"da-DK":ue,"de-DE":fe,"el-GR":ce,"en-US":pe,"es-ES":me,"et-EE":$e,"fi-FI":ge,"fr-FR":ve,"he-IL":be,"hr-HR":he,"hu-HU":xe,"it-IT":Ee,"ja-JP":we,"ko-KR":Pe,"lt-LT":Ce,"lv-LV":Le,"nb-NO":Re,"nl-NL":Ie,"pl-PL":Oe,"pt-BR":Te,"pt-PT":De,"ro-RO":Se,"ru-RU":He,"sk-SK":ye,"sl-SI":ze,"sr-SP":Me,"sv-SE":_e,"tr-TR":Ae,"uk-UA":ke,"zh-CN":Be,"zh-TW":Fe};function mt(t){return t&&t.__esModule?t.default:t}function Rt(t){let{onDismiss:e,...n}=t,o=Qe(mt(Ne),"@react-aria/overlays"),r=qe(n,o.format("dismiss")),i=()=>{e&&e()};return Q.createElement(Ve,null,Q.createElement("button",{...r,tabIndex:-1,onClick:i,style:{width:1,height:1}}))}function It(t){let[e,n]=et(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const o=I.useCallback(()=>{n(!0)},[n]),r=I.useCallback(()=>{n(!1)},[n]),i=I.useCallback(()=>{n(!e)},[n,e]);return{isOpen:e,setOpen:n,open:o,close:r,toggle:i}}export{It as $,Lt as a,Ct as b,Rt as c,V as d,ut as e};
