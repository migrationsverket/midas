import{a as dn}from"./Button-DlxIrWB_.js";import{k as pe,q as cn,f as fn,j as U,l as j,U as pn,H as te,d as K,e as $n,n as D,x as bn,v as H,w as gn,a as xe,I as mn,T as xn,y as vn,V as yn,r as $e,$ as W,c as T,E as S,h as ve,J as Pn,C as hn,B as En,b as Cn,K as be}from"./useFocusable-DTLHoeQe.js";import{$ as Dn}from"./RSPContexts-CeCCo7XS.js";import{g as An,c as Mn,$ as ye,b as wn,d as Sn,e as Bn,a as kn}from"./OverlayArrow-B7QTCHgm.js";import{$ as Fn,a as Kn,b as Pe,c as Tn,f as Rn,d as On}from"./Collection-B65vjQb4.js";import{$ as In,a as Ln,b as Nn,c as _n,d as Hn}from"./Separator-CFSVS3UH.js";import{r as c,R as g}from"./index-BbAIUH2N.js";import{a as zn}from"./Text-BorP-jFP.js";import{l as Un,d as jn,$ as he,a as Wn,b as Ee}from"./SelectionManager-Z9gqeiha.js";import{a as Vn,$ as Ce}from"./PressResponder-DogE8OEY.js";import{$ as De}from"./useLocalizedStringFormatter-BfPjM0Dg.js";import{$ as Gn}from"./useControlledState-DGyHFLi9.js";import{c as qn,a as Ae}from"./FocusScope-DWsZ07QH.js";import{$ as Jn}from"./index-cpIEhwLo.js";import{b as Zn}from"./Hidden-D9yAbrAR.js";import{b as Me}from"./ListKeyboardDelegate-dzYvetd0.js";import{$ as Yn}from"./useLabels-Dt0KIlgT.js";import{a as Xn}from"./VisuallyHidden-3bHjY8GZ.js";function Qn(t){let{ref:e,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:a}=t,u=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=pe(s=>{n&&N(s,e)&&(a&&a(s),u.current.isPointerDown=!0)}),l=pe(s=>{n&&n(s)});c.useEffect(()=>{let s=u.current;if(r)return;const d=e.current,o=cn(d);if(typeof PointerEvent<"u"){let p=$=>{s.isPointerDown&&N($,e)&&l($),s.isPointerDown=!1};return o.addEventListener("pointerdown",i,!0),o.addEventListener("pointerup",p,!0),()=>{o.removeEventListener("pointerdown",i,!0),o.removeEventListener("pointerup",p,!0)}}else{let p=f=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&N(f,e)&&l(f),s.isPointerDown=!1},$=f=>{s.ignoreEmulatedMouseEvents=!0,s.isPointerDown&&N(f,e)&&l(f),s.isPointerDown=!1};return o.addEventListener("mousedown",i,!0),o.addEventListener("mouseup",p,!0),o.addEventListener("touchstart",i,!0),o.addEventListener("touchend",$,!0),()=>{o.removeEventListener("mousedown",i,!0),o.removeEventListener("mouseup",p,!0),o.removeEventListener("touchstart",i,!0),o.removeEventListener("touchend",$,!0)}}},[e,r,i,l])}function N(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const h=[];function er(t,e){let{onClose:n,shouldCloseOnBlur:r,isOpen:a,isDismissable:u=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:l}=t;c.useEffect(()=>(a&&h.push(e),()=>{let b=h.indexOf(e);b>=0&&h.splice(b,1)}),[a,e]);let s=()=>{h[h.length-1]===e&&n&&n()},d=b=>{(!l||l(b.target))&&h[h.length-1]===e&&(b.stopPropagation(),b.preventDefault())},o=b=>{(!l||l(b.target))&&(h[h.length-1]===e&&(b.stopPropagation(),b.preventDefault()),s())},p=b=>{b.key==="Escape"&&!i&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),s())};Qn({ref:e,onInteractOutside:u&&a?o:void 0,onInteractOutsideStart:d});let{focusWithinProps:$}=fn({isDisabled:!r,onBlurWithin:b=>{!b.relatedTarget||qn(b.relatedTarget)||(!l||l(b.relatedTarget))&&(n==null||n())}}),f=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:p,...$},underlayProps:{onPointerDown:f}}}function we(t,e,n){let{type:r}=t,{isOpen:a}=e;c.useEffect(()=>{n&&n.current&&An.set(n.current,e.close)});let u;r==="menu"?u=!0:r==="listbox"&&(u="listbox");let i=U();return{triggerProps:{"aria-haspopup":u,"aria-expanded":a,"aria-controls":a?i:void 0,onPress:e.toggle},overlayProps:{id:i}}}const Q=typeof document<"u"&&window.visualViewport,tr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let _=0,ee;function nr(t={}){let{isDisabled:e}=t;j(()=>{if(!e)return _++,_===1&&(pn()?ee=ar():ee=rr()),()=>{_--,_===0&&ee()}},[e])}function rr(){return te(w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden"))}function ar(){let t,e,n=d=>{t=Me(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=w(t,"overscrollBehavior","contain"))},r=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},a=()=>{e&&e()},u=d=>{let o=d.target;sr(o)&&(l(),o.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{o.style.transform="",Q&&(Q.height<window.innerHeight?requestAnimationFrame(()=>{ge(o)}):Q.addEventListener("resize",()=>ge(o),{once:!0}))}))},i=null,l=()=>{if(i)return;let d=()=>{window.scrollTo(0,0)},o=window.pageXOffset,p=window.pageYOffset;i=te(k(window,"scroll",d),w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden"),w(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(o,p)}),window.scrollTo(0,0)},s=te(k(document,"touchstart",n,{passive:!1,capture:!0}),k(document,"touchmove",r,{passive:!1,capture:!0}),k(document,"touchend",a,{passive:!1,capture:!0}),k(document,"focus",u,!0));return()=>{e==null||e(),i==null||i(),s()}}function w(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function ge(t){let e=document.scrollingElement||document.documentElement,n=t;for(;n&&n!==e;){let r=Me(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let a=r.getBoundingClientRect().top,u=n.getBoundingClientRect().top;u>a+n.clientHeight&&(r.scrollTop+=u-a)}n=r.parentElement}}function sr(t){return t instanceof HTMLInputElement&&!tr.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Se={};Se={dismiss:"تجاهل"};var Be={};Be={dismiss:"Отхвърляне"};var ke={};ke={dismiss:"Odstranit"};var Fe={};Fe={dismiss:"Luk"};var Ke={};Ke={dismiss:"Schließen"};var Te={};Te={dismiss:"Απόρριψη"};var Re={};Re={dismiss:"Dismiss"};var Oe={};Oe={dismiss:"Descartar"};var Ie={};Ie={dismiss:"Lõpeta"};var Le={};Le={dismiss:"Hylkää"};var Ne={};Ne={dismiss:"Rejeter"};var _e={};_e={dismiss:"התעלם"};var He={};He={dismiss:"Odbaci"};var ze={};ze={dismiss:"Elutasítás"};var Ue={};Ue={dismiss:"Ignora"};var je={};je={dismiss:"閉じる"};var We={};We={dismiss:"무시"};var Ve={};Ve={dismiss:"Atmesti"};var Ge={};Ge={dismiss:"Nerādīt"};var qe={};qe={dismiss:"Lukk"};var Je={};Je={dismiss:"Negeren"};var Ze={};Ze={dismiss:"Zignoruj"};var Ye={};Ye={dismiss:"Descartar"};var Xe={};Xe={dismiss:"Dispensar"};var Qe={};Qe={dismiss:"Revocare"};var et={};et={dismiss:"Пропустить"};var tt={};tt={dismiss:"Zrušiť"};var nt={};nt={dismiss:"Opusti"};var rt={};rt={dismiss:"Odbaci"};var at={};at={dismiss:"Avvisa"};var st={};st={dismiss:"Kapat"};var ot={};ot={dismiss:"Скасувати"};var ut={};ut={dismiss:"取消"};var lt={};lt={dismiss:"關閉"};var it={};it={"ar-AE":Se,"bg-BG":Be,"cs-CZ":ke,"da-DK":Fe,"de-DE":Ke,"el-GR":Te,"en-US":Re,"es-ES":Oe,"et-EE":Ie,"fi-FI":Le,"fr-FR":Ne,"he-IL":_e,"hr-HR":He,"hu-HU":ze,"it-IT":Ue,"ja-JP":je,"ko-KR":We,"lt-LT":Ve,"lv-LV":Ge,"nb-NO":qe,"nl-NL":Je,"pl-PL":Ze,"pt-BR":Ye,"pt-PT":Xe,"ro-RO":Qe,"ru-RU":et,"sk-SK":tt,"sl-SI":nt,"sr-SP":rt,"sv-SE":at,"tr-TR":st,"uk-UA":ot,"zh-CN":ut,"zh-TW":lt};function or(t){return t&&t.__esModule?t.default:t}function me(t){let{onDismiss:e,...n}=t,r=De(or(it),"@react-aria/overlays"),a=Yn(n,r.format("dismiss")),u=()=>{e&&e()};return g.createElement(Xn,null,g.createElement("button",{...a,tabIndex:-1,onClick:u,style:{width:1,height:1}}))}let F=new WeakMap,v=[];function ur(t,e=document.body){let n=new Set(t),r=new Set,a=s=>{for(let $ of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add($);let d=$=>{if(n.has($)||$.parentElement&&r.has($.parentElement)&&$.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of n)if($.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},o=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(s);if(p===NodeFilter.FILTER_ACCEPT&&u(s),p!==NodeFilter.FILTER_REJECT){let $=o.nextNode();for(;$!=null;)u($),$=o.nextNode()}},u=s=>{var d;let o=(d=F.get(s))!==null&&d!==void 0?d:0;s.getAttribute("aria-hidden")==="true"&&o===0||(o===0&&s.setAttribute("aria-hidden","true"),r.add(s),F.set(s,o+1))};v.length&&v[v.length-1].disconnect(),a(e);let i=new MutationObserver(s=>{for(let d of s)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...n,...r].some(o=>o.contains(d.target))){for(let o of d.removedNodes)o instanceof Element&&(n.delete(o),r.delete(o));for(let o of d.addedNodes)(o instanceof HTMLElement||o instanceof SVGElement)&&(o.dataset.liveAnnouncer==="true"||o.dataset.reactAriaTopLayer==="true")?n.add(o):o instanceof Element&&a(o)}});i.observe(e,{childList:!0,subtree:!0});let l={observe(){i.observe(e,{childList:!0,subtree:!0})},disconnect(){i.disconnect()}};return v.push(l),()=>{i.disconnect();for(let s of r){let d=F.get(s);d!=null&&(d===1?(s.removeAttribute("aria-hidden"),F.delete(s)):F.set(s,d-1))}l===v[v.length-1]?(v.pop(),v.length&&v[v.length-1].observe()):v.splice(v.indexOf(l),1)}}function lr(t,e){let{triggerRef:n,popoverRef:r,isNonModal:a,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:i,...l}=t,{overlayProps:s,underlayProps:d}=er({isOpen:e.isOpen&&!l["data-react-aria-top-layer"],onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!a,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:i},r),{overlayProps:o,arrowProps:p,placement:$}=Mn({...l,targetRef:n,overlayRef:r,isOpen:e.isOpen,onClose:a?e.close:null});return nr({isDisabled:a||!e.isOpen}),j(()=>{if(e.isOpen&&!a&&r.current)return ur([r.current])},[a,e.isOpen,r]),{popoverProps:K(s,o),arrowProps:p,underlayProps:d,placement:$}}const ir=c.createContext({});function dr(){var t;return(t=c.useContext(ir))!==null&&t!==void 0?t:{}}const dt=g.createContext(null);function cr(t){let e=$n(),{portalContainer:n=e?null:document.body,isExiting:r}=t,[a,u]=c.useState(!1),i=c.useMemo(()=>({contain:a,setContain:u}),[a,u]),{getContainer:l}=dr();if(!t.portalContainer&&l&&(n=l()),!n)return null;let s=t.children;return t.disableFocusManagement||(s=g.createElement(Ae,{restoreFocus:!0,contain:a&&!r},s)),s=g.createElement(dt.Provider,{value:i},g.createElement(Vn,null,s)),Jn.createPortal(s,n)}function fr(){let t=c.useContext(dt),e=t==null?void 0:t.setContain;j(()=>{e==null||e(!0)},[e])}var ct={};ct={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var ft={};ft={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var pt={};pt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var $t={};$t={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var bt={};bt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var gt={};gt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var mt={};mt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var xt={};xt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var vt={};vt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var yt={};yt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Pt={};Pt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var ht={};ht={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Et={};Et={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ct={};Ct={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Dt={};Dt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var At={};At={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Mt={};Mt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var wt={};wt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var St={};St={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Bt={};Bt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var kt={};kt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Ft={};Ft={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Kt={};Kt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Tt={};Tt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Rt={};Rt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Ot={};Ot={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var It={};It={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Lt={};Lt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Nt={};Nt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var _t={};_t={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Ht={};Ht={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var zt={};zt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Ut={};Ut={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var jt={};jt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Wt={};Wt={"ar-AE":ct,"bg-BG":ft,"cs-CZ":pt,"da-DK":$t,"de-DE":bt,"el-GR":gt,"en-US":mt,"es-ES":xt,"et-EE":vt,"fi-FI":yt,"fr-FR":Pt,"he-IL":ht,"hr-HR":Et,"hu-HU":Ct,"it-IT":Dt,"ja-JP":At,"ko-KR":Mt,"lt-LT":wt,"lv-LV":St,"nb-NO":Bt,"nl-NL":kt,"pl-PL":Ft,"pt-BR":Kt,"pt-PT":Tt,"ro-RO":Rt,"ru-RU":Ot,"sk-SK":It,"sl-SI":Lt,"sr-SP":Nt,"sv-SE":_t,"tr-TR":Ht,"uk-UA":zt,"zh-CN":Ut,"zh-TW":jt};function pr(t){return t&&t.__esModule?t.default:t}function $r(t,e,n){let{type:r="menu",isDisabled:a,trigger:u="press"}=t,i=U(),{triggerProps:l,overlayProps:s}=we({type:r},e,n),d=f=>{if(!a&&!(u==="longPress"&&!f.altKey)&&n&&n.current)switch(f.key){case"Enter":case" ":if(u==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},o=De(pr(Wt),"@react-aria/menu"),{longPressProps:p}=Un({isDisabled:a||u!=="longPress",accessibilityDescription:o.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),$={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!a&&e.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!a&&e.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,...u==="press"?$:p,id:i,onKeyDown:d},menuProps:{...s,"aria-labelledby":i,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const Vt=new WeakMap;function br(t,e,n){let{shouldFocusWrap:r=!0,onKeyDown:a,onKeyUp:u,...i}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let l=D(t,{labelable:!0}),{listProps:s}=In({...i,ref:n,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return Vt.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:K(l,{onKeyDown:a,onKeyUp:u},{role:"menu",...s,onKeyDown:d=>{var o;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((o=s.onKeyDown)===null||o===void 0||o.call(s,d))}})}}function gr(t,e,n){let{id:r,key:a,closeOnSelect:u,isVirtualized:i,"aria-haspopup":l,onPressStart:s,onPressUp:d,onPress:o,onPressChange:p,onPressEnd:$,onHoverStart:f,onHoverChange:b,onHoverEnd:E,onKeyDown:C,onKeyUp:R,onFocus:O,onFocusChange:G,onBlur:Zt,selectionManager:y=e.selectionManager}=t,P=!!l,oe=P&&t["aria-expanded"]==="true";var q;let A=(q=t.isDisabled)!==null&&q!==void 0?q:y.isDisabled(a);var J;let ue=(J=t.isSelected)!==null&&J!==void 0?J:y.isSelected(a),I=Vt.get(e),x=e.collection.getItem(a),M=t.onClose||I.onClose,Yt=bn(),Z=m=>{var X;if(!P){if(!(x==null||(X=x.props)===null||X===void 0)&&X.onAction?x.props.onAction():t.onAction&&t.onAction(a),I.onAction){let ln=I.onAction;ln(a)}m.target instanceof HTMLAnchorElement&&x&&Yt.open(m.target,m,x.props.href,x.props.routerOptions)}},Y="menuitem";P||(y.selectionMode==="single"?Y="menuitemradio":y.selectionMode==="multiple"&&(Y="menuitemcheckbox"));let le=H(),ie=H(),de=H(),L={id:r,"aria-disabled":A||void 0,role:Y,"aria-label":t["aria-label"],"aria-labelledby":le,"aria-describedby":[ie,de].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};y.selectionMode!=="none"&&!P&&(L["aria-checked"]=ue),i&&(L["aria-posinset"]=x==null?void 0:x.index,L["aria-setsize"]=Ln(e.collection));let Xt=m=>{m.pointerType==="keyboard"&&Z(m),s==null||s(m)},ce=()=>{!P&&M&&(u??(y.selectionMode!=="multiple"||y.isLink(a)))&&M()},Qt=m=>{m.pointerType==="mouse"&&(Z(m),ce()),d==null||d(m)},en=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(Z(m),ce()),o==null||o(m)},{itemProps:B,isFocused:tn}=jn({id:r,selectionManager:y,key:a,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:I.shouldUseVirtualFocus}),{pressProps:nn,isPressed:rn}=gn({onPressStart:Xt,onPress:en,onPressUp:Qt,onPressChange:p,onPressEnd:$,isDisabled:A}),{hoverProps:an}=xe({isDisabled:A,onHoverStart(m){!mn()&&!(oe&&l==="dialog")&&(y.setFocused(!0),y.setFocusedKey(a)),f==null||f(m)},onHoverChange:b,onHoverEnd:E}),{keyboardProps:sn}=yn({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!A&&y.selectionMode==="none"&&!P&&u!==!1&&M&&M();break;case"Enter":!A&&u!==!1&&!P&&M&&M();break;default:P||m.continuePropagation(),C==null||C(m);break}},onKeyUp:R}),{focusProps:on}=xn({onBlur:Zt,onFocus:O,onFocusChange:G}),fe=D(x==null?void 0:x.props);delete fe.id;let un=vn(x==null?void 0:x.props);return{menuItemProps:{...L,...K(fe,un,P?{onFocus:B.onFocus,"data-key":B["data-key"]}:B,nn,an,sn,on),tabIndex:B.tabIndex!=null&&oe?-1:B.tabIndex},labelProps:{id:le},descriptionProps:{id:ie},keyboardShortcutProps:{id:de},isFocused:tn,isSelected:ue,isPressed:rn,isDisabled:A}}function mr(t){let{heading:e,"aria-label":n}=t,r=U();return{itemProps:{role:"presentation"},headingProps:e?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":e?r:void 0}}}function xr(t,e){let{role:n="dialog"}=t,r=H();r=t["aria-label"]?void 0:r;let a=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){$e(e.current);let u=setTimeout(()=>{document.activeElement===e.current&&(a.current=!0,e.current&&(e.current.blur(),$e(e.current)),a.current=!1)},500);return()=>{clearTimeout(u)}}},[e]),fr(),{dialogProps:{...D(t,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r,onBlur:u=>{a.current&&u.stopPropagation()}},titleProps:{id:r}}}function Gt(t){let e=ye(t),[n,r]=c.useState(null),[a,u]=c.useState([]),i=()=>{u([]),e.close()};return{focusStrategy:n,...e,open(d=null){r(d),e.open()},toggle(d=null){r(d),e.toggle()},close(){i()},expandedKeysStack:a,openSubmenu:(d,o)=>{u(p=>o>p.length?p:[...p.slice(0,o),d])},closeSubmenu:(d,o)=>{u(p=>p[o]===d?p.slice(0,o):p)}}}class vr{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let n=this.keyMap.get(e);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var n;return(n=this.keyMap.get(e))!==null&&n!==void 0?n:null}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}constructor(e,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,n=n||new Set;let r=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||n.has(l.key)))for(let s of l.childNodes)r(s)};for(let l of e)r(l);let a=null,u=0;for(let[l,s]of this.keyMap)a?(a.nextKey=l,s.prevKey=a.key):(this.firstKey=l,s.prevKey=void 0),s.type==="item"&&(s.index=u++),a=s,a.nextKey=void 0;var i;this.lastKey=(i=a==null?void 0:a.key)!==null&&i!==void 0?i:null}}function yr(t){let{onExpandedChange:e}=t,[n,r]=Gn(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=he(t),u=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),i=Wn(t,c.useCallback(s=>new vr(s,{expandedKeys:n}),[n]),null);return c.useEffect(()=>{a.focusedKey!=null&&!i.getItem(a.focusedKey)&&a.setFocusedKey(null)},[i,a.focusedKey]),{collection:i,expandedKeys:n,disabledKeys:u,toggleKey:s=>{r(Pr(n,s))},setExpandedKeys:r,selectionManager:new Ee(i,a)}}function Pr(t,e){let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}const re=c.createContext(null),Vr=c.forwardRef(function(e,n){[e,n]=W(e,n,re);let r=c.useContext(V),a=ye(e),u=e.isOpen!=null||e.defaultOpen!=null||!r?a:r,i=wn(n,u.isOpen)||e.isExiting||!1;if(Zn()){let s=e.children;return typeof s=="function"&&(s=s({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),g.createElement(g.Fragment,null,s)}return u&&!u.isOpen&&!i?null:g.createElement(hr,{...e,triggerRef:e.triggerRef,state:u,popoverRef:n,isExiting:i})});function hr({state:t,isExiting:e,UNSTABLE_portalContainer:n,...r}){let a=c.useRef(null),[u,i]=c.useState(0);j(()=>{a.current&&t.isOpen&&i(a.current.getBoundingClientRect().width)},[t.isOpen,a]);var l;let{popoverProps:s,underlayProps:d,arrowProps:o,placement:p}=lr({...r,offset:(l=r.offset)!==null&&l!==void 0?l:8,arrowSize:u},t),$=r.popoverRef,f=Sn($,!!p)||r.isEntering||!1,b=T({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:p,isEntering:f,isExiting:e}}),E={...s.style,...b.style};return g.createElement(cr,{...r,isExiting:e,portalContainer:n},!r.isNonModal&&t.isOpen&&g.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),g.createElement("div",{...K(D(r),s),...b,ref:$,slot:r.slot||void 0,style:E,"data-trigger":r.trigger,"data-placement":p,"data-entering":f||void 0,"data-exiting":e||void 0},!r.isNonModal&&g.createElement(me,{onDismiss:t.close}),g.createElement(Bn.Provider,{value:{...o,placement:p,ref:a}},b.children),g.createElement(me,{onDismiss:t.close})))}const Er=c.createContext({}),qt=c.createContext(null),ae=c.createContext(null),se=c.createContext(null),z=c.createContext(null);function Gr(t){let e=Gt(t),n=c.useRef(null),{menuTriggerProps:r,menuProps:a}=$r({...t,type:"menu"},e,n),[u,i]=c.useState(null),l=c.useCallback(()=>{n.current&&i(n.current.offsetWidth+"px")},[n]);kn({ref:n,onResize:l});let s=c.useRef(null);return g.createElement(S,{values:[[qt,{...a,ref:s}],[V,e],[se,e],[re,{trigger:"MenuTrigger",triggerRef:n,scrollRef:s,placement:"bottom start",style:{"--trigger-width":u}}]]},g.createElement(Ce,{...r,ref:n,isPressed:e.isOpen},t.children))}const Cr=c.createContext(null),qr=c.forwardRef(function(e,n){return[e,n]=W(e,n,qt),g.createElement(Fn,{content:g.createElement(Kn,e)},r=>r.size>0&&g.createElement(Dr,{props:e,collection:r,menuRef:n}))});function Dr({props:t,collection:e,menuRef:n}){let{filterFn:r,collectionProps:a,collectionRef:u}=c.useContext(Nn)||{};n=ve(c.useMemo(()=>Pn(n,u!==void 0?u:null),[u,n]));let i=c.useMemo(()=>r?e.filter(r):e,[e,r]),l=yr({...t,collection:i,children:void 0}),s=c.useContext(se),{isVirtualized:d,CollectionRoot:o}=c.useContext(Pe),{menuProps:p}=br({...t,...a,isVirtualized:d,onClose:t.onClose||(s==null?void 0:s.close)},l,n),$=T({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{}});return g.createElement(Ae,null,g.createElement("div",{...D(t),...p,...$,ref:n,slot:t.slot||void 0,onScroll:t.onScroll},g.createElement(S,{values:[[ae,l],[_n,{elementType:"div"}],[Tn,{name:"MenuSection",render:Mr}],[Cr,{parentMenuRef:n}],[ne,null],[z,l.selectionManager]]},g.createElement(o,{collection:l.collection,persistedKeys:Rn(l.selectionManager.focusedKey),scrollRef:n}))))}class Ar extends Ee{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,n){return this.parent.setFocusedKey(e,n)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,n){super(e.collection,n),this.parent=e}}function Mr(t,e,n,r="react-aria-MenuSection"){var a,u;let i=c.useContext(ae),{CollectionBranch:l}=c.useContext(Pe),[s,d]=hn();var o;let{headingProps:p,groupProps:$}=mr({heading:d,"aria-label":(o=n.props["aria-label"])!==null&&o!==void 0?o:void 0}),f=T({defaultClassName:r,className:(a=n.props)===null||a===void 0?void 0:a.className,style:(u=n.props)===null||u===void 0?void 0:u.style,values:{}}),b=c.useContext(z),E=he(t),C=t.selectionMode!=null?new Ar(b,E):b;return g.createElement("section",{...D(t),...$,...f,ref:e},g.createElement(S,{values:[[Hn,{...p,ref:s}],[z,C]]},g.createElement(l,{collection:i.collection,parent:n})))}const ne=c.createContext(null),Jr=On("item",function(e,n,r){var a;[e,n]=W(e,n,ne);let u=(a=En(ne))===null||a===void 0?void 0:a.id,i=c.useContext(ae),l=ve(n),s=c.useContext(z),{menuItemProps:d,labelProps:o,descriptionProps:p,keyboardShortcutProps:$,...f}=gr({...e,id:u,key:r.key,selectionManager:s},i,l),{isFocusVisible:b,focusProps:E}=Cn(),{hoverProps:C,isHovered:R}=xe({isDisabled:f.isDisabled}),O=T({...e,id:void 0,children:r.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:R,isFocusVisible:b,selectionMode:s.selectionMode,selectionBehavior:s.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),G=e.href?"a":"div";return g.createElement(G,{...K(d,E,C),...O,ref:l,"data-disabled":f.isDisabled||void 0,"data-hovered":R||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":b||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":s.selectionMode==="none"?void 0:s.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},g.createElement(S,{values:[[zn,{slots:{label:o,description:p}}],[Er,$]]},O.children))}),Jt=c.createContext(null),V=c.createContext(null);function Zr(t){let e=Gt(t),n=c.useRef(null),{triggerProps:r,overlayProps:a}=we({type:"dialog"},e,n);return r.id=U(),a["aria-labelledby"]=r.id,g.createElement(S,{values:[[V,e],[se,e],[Jt,a],[re,{trigger:"DialogTrigger",triggerRef:n}]]},g.createElement(Ce,{...r,ref:n,isPressed:e.isOpen},t.children))}const Yr=c.forwardRef(function(e,n){let r=e["aria-labelledby"];[e,n]=W(e,n,Jt);let{dialogProps:a,titleProps:u}=xr({...e,"aria-labelledby":r},n),i=c.useContext(V);!a["aria-label"]&&!a["aria-labelledby"]&&(e["aria-labelledby"]?a["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let l=T({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(i==null?void 0:i.close)||(()=>{})}});return g.createElement("section",{...D(e),...a,...l,ref:n,slot:e.slot||void 0},g.createElement(S,{values:[[Dn,{slots:{[be]:{},title:{...u,level:2}}}],[dn,{slots:{[be]:{},close:{onPress:()=>i==null?void 0:i.close()}}}]]},l.children))});export{Gr as $,Vr as a,qr as b,Jr as c,$r as d,V as e,re as f,Zr as g,ur as h,Jt as i,Yr as j};
