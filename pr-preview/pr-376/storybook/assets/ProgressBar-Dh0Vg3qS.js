import{b as p,$ as x,i as v,a as P}from"./utils-Cd6MiihZ.js";import{a as V}from"./Label-Bf-bZThx.js";import{r as b,R as m}from"./index-BbAIUH2N.js";import{$ as g}from"./filterDOMProps-BSfnXAP7.js";import{$ as y}from"./useLabel-ClMtG9eF.js";import{$ as I}from"./context-BSqmORe6.js";import{$ as w}from"./NumberFormatter-DT0cDaax.js";function u(r,e=-1/0,a=1/0){return Math.min(Math.max(r,e),a)}function B(r={}){let{locale:e}=I();return b.useMemo(()=>new w(e,r),[e,r])}function E(r){let{value:e=0,minValue:a=0,maxValue:t=100,valueLabel:l,isIndeterminate:f,formatOptions:n={style:"percent"}}=r,i=g(r,{labelable:!0}),{labelProps:s,fieldProps:o}=y({...r,labelElementType:"span"});e=u(e,a,t);let $=(e-a)/(t-a),c=B(n);if(!f&&!l){let d=n.style==="percent"?$:e;l=c.format(d)}return{progressBarProps:p(i,{...o,"aria-valuenow":f?void 0:e,"aria-valuemin":a,"aria-valuemax":t,"aria-valuetext":f?void 0:l,role:"progressbar"}),labelProps:s}}const R=b.createContext(null),N=b.forwardRef(function(e,a){[e,a]=x(e,a,R);let{value:t=0,minValue:l=0,maxValue:f=100,isIndeterminate:n=!1}=e;t=u(t,l,f);let[i,s]=v(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:o,labelProps:$}=E({...e,label:s}),c=n?void 0:(t-l)/(f-l)*100,d=P({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:c,valueText:o["aria-valuetext"],isIndeterminate:n}});return m.createElement("div",{...o,...d,ref:a,slot:e.slot||void 0},m.createElement(V.Provider,{value:{...$,ref:i,elementType:"span"}},d.children))});export{R as $,N as a,u as b};
