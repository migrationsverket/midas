import{j as r}from"./jsx-runtime-DtgEGaVE.js";import{d as Q,e as Y,f as Z,g as _,h as I,i as y,j as ee,k as te}from"./Dialog-4cOlkMge.js";import{d as T,$ as O,n as ae,h as B,b as L,a as ie,l as re}from"./utils-Dv9Ux5aE.js";import{$ as H}from"./filterDOMProps-BSfnXAP7.js";import{r as s,R as f}from"./index-BbAIUH2N.js";import{a as z,$ as D}from"./OverlayArrow-fkN0_ThZ.js";import{$ as le,a as ne,b as se}from"./useMenuTriggerState-D4kT7gee.js";import{$ as W}from"./useOverlayTriggerState-Bjtc1fMu.js";import{c as x}from"./clsx-B-dksMZM.js";import{a as oe}from"./FocusScope-C0EWTSbR.js";import{B as h}from"./Button-CHbZ9jqX.js";import{X as k}from"./x-Cu6J0Y2u.js";import{H as de}from"./Heading-DmTsGMz3.js";import{S as ce}from"./Select-BOikVleB.js";import"./Button-Co7pWk88.js";import"./ProgressBar-6st-rJzm.js";import"./Label-Cr3pFc-x.js";import"./Hidden-lswqw32w.js";import"./useLabel-BAqrTMfP.js";import"./context-eceod8wW.js";import"./NumberFormatter-DT0cDaax.js";import"./LiveAnnouncer-DFDjXwI8.js";import"./useButton-DFPcodtW.js";import"./usePress-DljlCKCj.js";import"./useFocusRing-CPQALXIu.js";import"./index-cpIEhwLo.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusable-Cs9agisI.js";import"./RSPContexts-CeCCo7XS.js";import"./Collection-B2SsLZVR.js";import"./index-DwWe6W7f.js";import"./Separator-CRX4oULg.js";import"./SelectionManager-2oMtjjZz.js";import"./useEvent-DnmuJhSu.js";import"./scrollIntoView-DzftQ5Hl.js";import"./useDescription-TyCFs068.js";import"./useControlledState-DGyHFLi9.js";import"./ListKeyboardDelegate-CA_BFpv4.js";import"./useCollator-CouJQU85.js";import"./Text-D0cNLqf0.js";import"./PressResponder-BdSNFUtN.js";import"./getScrollParent-CrrBdd7g.js";import"./useLocalizedStringFormatter-DA8E_9Dc.js";import"./LocalizedStringFormatter-BB0Nk989.js";import"./VisuallyHidden-DiGk2ECL.js";import"./Button.module-Cqa6HD_M.js";import"./createLucideIcon-8wDOqnHv.js";import"./Tag-DNyULuG6.js";import"./ListBox-CMMshMxg.js";import"./DragAndDrop-sISFPnlb.js";import"./useListState-DH6o7Nso.js";import"./useField-BWvtu4tG.js";import"./useHighlightSelectionDescription-CtcqEmyW.js";import"./useUpdateEffect-DVcG7G3u.js";import"./useHasTabbableChild-Bh3e4XK9.js";import"./TextField-CUfpBFUi.js";import"./Form-BMyPeP3B.js";import"./useFormValidation-BrFQy5aA.js";import"./Input-Dj8a3env.js";import"./useTextField-qc1ulPWn.js";import"./check-B_S0S3VY.js";import"./Label-ClRk-i9L.js";import"./useModal-j8uWYn4E.js";import"./useObserveElement-BrriYDGX.js";import"./chevron-down-U1dNK9nR.js";import"./Text-BO1MQlio.js";import"./FieldError-BI5lou7e.js";let o=typeof document<"u"&&window.visualViewport;function me(){let e=T(),[t,a]=s.useState(()=>e?{width:0,height:0}:w());return s.useEffect(()=>{let i=()=>{a(l=>{let n=w();return n.width===l.width&&n.height===l.height?l:n})};return o?o.addEventListener("resize",i):window.addEventListener("resize",i),()=>{o?o.removeEventListener("resize",i):window.removeEventListener("resize",i)}},[]),t}function w(){return{width:o&&(o==null?void 0:o.width)||window.innerWidth,height:o&&(o==null?void 0:o.height)||window.innerHeight}}function A(e,t,a){let{overlayProps:i,underlayProps:l}=le({...e,isOpen:t.isOpen,onClose:t.close},a);return Q({isDisabled:!t.isOpen}),Y(),s.useEffect(()=>{if(t.isOpen&&a.current)return Z([a.current])},[t.isOpen,a]),{modalProps:O(i),underlayProps:l}}const ue=s.createContext(null),E=s.createContext(null),fe=s.forwardRef(function(t,a){if(s.useContext(E))return f.createElement(C,{...t,modalRef:a},t.children);let{isDismissable:l,isKeyboardDismissDisabled:n,isOpen:c,defaultOpen:d,onOpenChange:p,children:m,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X,...J}=t;return f.createElement(K,{isDismissable:l,isKeyboardDismissDisabled:n,isOpen:c,defaultOpen:d,onOpenChange:p,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X},f.createElement(C,{...J,modalRef:a},m))});function pe(e,t){[e,t]=ie(e,t,ue);let a=s.useContext(_),i=W(e),l=e.isOpen!=null||e.defaultOpen!=null||!a?i:a,n=B(t),c=s.useRef(null),d=D(n,l.isOpen),p=D(c,l.isOpen),m=d||p||e.isExiting||!1,$=T();return!l.isOpen&&!m||$?null:f.createElement(be,{...e,state:l,isExiting:m,overlayRef:n,modalRef:c})}const K=s.forwardRef(pe);function be({UNSTABLE_portalContainer:e,...t}){let a=t.modalRef,{state:i}=t,{modalProps:l,underlayProps:n}=A(t,i,a),c=z(t.overlayRef)||t.isEntering||!1,d=L({...t,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:c,isExiting:t.isExiting,state:i}}),p=me(),m={...d.style,"--visual-viewport-height":p.height+"px"};return f.createElement(I,{isExiting:t.isExiting,portalContainer:e},f.createElement("div",{...O(H(t),n),...d,style:m,ref:t.overlayRef,"data-entering":c||void 0,"data-exiting":t.isExiting||void 0},f.createElement(re,{values:[[E,{modalProps:l,modalRef:a,isExiting:t.isExiting,isDismissable:t.isDismissable}],[_,i]]},d.children)))}function C(e){let{modalProps:t,modalRef:a,isExiting:i,isDismissable:l}=s.useContext(E),n=s.useContext(_),c=s.useMemo(()=>ae(e.modalRef,a),[e.modalRef,a]),d=B(c),p=z(d),m=L({...e,defaultClassName:"react-aria-Modal",values:{isEntering:p,isExiting:i,state:n}});return f.createElement("div",{...O(H(e),t),...m,ref:d,"data-entering":p||void 0,"data-exiting":i||void 0},l&&f.createElement(ne,{onDismiss:n.close}),m.children)}const he='"../theme/tokens.css"',ge="_modal_9odi3_4",ye="_overlay_9odi3_26",$e="_modalHeader_9odi3_47",xe="_modalBody_9odi3_55",u={tokens:he,"--font-family":'"Inter", sans-serif',"--layer-01":"light-dark(#f2f2f2, #262626)","--background":"light-dark(#ffffff, #171717)","--text-primary":"light-dark(#171717, #f2f2f2)","--z-index-modal":"1000",modal:ge,"modal-zoom":"_modal-zoom_9odi3_1",overlay:ye,"modal-fade":"_modal-fade_9odi3_1",modalHeader:$e,modalBody:xe},R=({title:e,children:t,...a})=>{const i=s.useRef(null),{dialogProps:l,titleProps:n}=ee(a,i);return r.jsxs("div",{...l,ref:i,className:u.modalBody,"aria-modal":!0,children:[e&&r.jsx("h2",{...n,className:x(u.modalHeading,n.className),children:e}),t]})},ve=({state:e,children:t,...a})=>{const i=s.useRef(null),{modalProps:l,underlayProps:n}=A(a,e,i);return r.jsx(I,{children:r.jsx("div",{...n,className:x(u.overlay,n.className),children:r.jsx("div",{...l,className:x(u.modal,l.className),ref:i,children:t})})})},N=({label:e,children:t,...a})=>{const i=W(a),{triggerProps:l,overlayProps:n}=se({type:"dialog"},i);return r.jsxs(r.Fragment,{children:[r.jsx(h,{...l,children:e}),i.isOpen&&r.jsxs(ve,{...a,state:i,children:[r.jsx("div",{className:u.modalHeader,children:r.jsx(h,{onPress:i.close,variant:"tertiary",icon:k,iconPlacement:"right",children:"Stäng"})}),s.cloneElement(t(i.close),n)]})]})},v=({children:e,title:t,...a})=>r.jsx(te,{...a,children:r.jsx(K,{...a,className:u.overlay,children:r.jsx(oe,{contain:!0,autoFocus:!0,restoreFocus:!0,children:r.jsxs(fe,{...a,className:u.modal,children:[r.jsx("div",{className:u.modalHeader,children:r.jsx(h,{slot:"close",variant:"tertiary",icon:k,iconPlacement:"right",children:"Stäng"})}),r.jsxs("div",{className:u.modalBody,children:[t&&r.jsx(de,{level:2,children:t}),e]})]})})})});try{R.displayName="Dialog",R.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"alertdialog"'},{value:'"dialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}try{N.displayName="ModalTrigger",N.__docgenInfo={description:"",displayName:"ModalTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}try{y.displayName="DialogTrigger",y.__docgenInfo={description:"A DialogTrigger opens a dialog when a trigger element is pressed.",displayName:"DialogTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}try{v.displayName="Modal",v.__docgenInfo={description:"",displayName:"Modal",props:{isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"alertdialog"'},{value:'"dialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}const Tt={component:y,title:"Components/Modal",tags:["autodocs"],parameters:{layout:"centered"}},_e=["Apple","Banana","Kiwi","Elderflower","Nectarine","Watermelon","Pineapple","Apricot","Cloudberry","Mango","Strawberry","Blueberry","Raspberry","Blackberry","Cherry","Peach","Plum","Grape","Orange","Lemon","Lime","Coconut","Fig","Papaya","Guava","Pomegranate","Dragonfruit","Starfruit","Passionfruit"],Oe=_e.map(e=>({name:e,id:e.toLocaleLowerCase()})),F=({...e})=>r.jsxs(y,{...e,children:[r.jsx(h,{children:"Öppna"}),r.jsxs(v,{title:"Enter your name",isDismissable:e==null?void 0:e.isDismissable,children:[r.jsx(ce,{autoFocus:!0,placeholder:"Select...",defaultSelectedKeys:["kiwi"],label:"Select fruits",selectionMode:"multiple",options:Oe,isClearable:!0,isSelectableAll:!1}),r.jsx(h,{slot:"close",children:"Submit"})]})]}),b={args:{isDismissable:!0,defaultOpen:!1},render:F},g={args:{...b.args,isDismissable:!1},render:F};var j,P,S;b.parameters={...b.parameters,docs:{...(j=b.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    isDismissable: true,
    defaultOpen: false
  },
  render: Render
}`,...(S=(P=b.parameters)==null?void 0:P.docs)==null?void 0:S.source}}};var V,q,M;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isDismissable: false
  },
  render: Render
}`,...(M=(q=g.parameters)==null?void 0:q.docs)==null?void 0:M.source}}};const Bt=["Default","NotDismissable"];export{b as Default,g as NotDismissable,Bt as __namedExportsOrder,Tt as default};
