import{e as ie,b as te,$ as ze}from"./Button-v_l_ujRb.js";import{c as Ge,d as Ae}from"./CalendarHeader-D95vco-v.js";import{e as K,b as $e,$ as he,h as ge,i as ye,j as Pe,a as Ve,k as xe}from"./utils-RHx87K0F.js";import{b as De,c as Re,d as Fe,e as Xe,f as Ce,g as He,h as L,i as W,j as Je,k as Oe}from"./DateInput-BIQHBUXZ.js";import{i as Me,m as Ie,n as Te,c as Qe,l as Ye}from"./Dialog-BAAiJcpT.js";import{$ as _e}from"./FieldError-BjFojtrn.js";import{a as pe}from"./Form-Lr15ufU6.js";import{a as de,$ as ea}from"./Group-DwTQcyET.js";import{$ as ne}from"./Text-CZ6zcozL.js";import{c as X,e as Ze,a as ke}from"./useFocusRing-zhkOjX4v.js";import{$ as Be}from"./useResizeObserver-D8gvjDpO.js";import{r as u,R as A}from"./index-ClcD9ViR.js";import{e as ee,f as ae}from"./CalendarDate-Lfx2W0H2.js";import{$ as q}from"./useDateFormatter-DzWwJ2YB.js";import{e as le,f as ce,d as fe,a as we}from"./useFormValidation-DmuZGU-W.js";import{a as Se}from"./OverlayArrow-CEJfcY2d.js";import{$ as Ee}from"./useControlledState-H1tiOFpU.js";import{b as Ne}from"./FocusScope-p3_VE_8x.js";import{$ as Ue}from"./useDescription-BqzP9r9Z.js";import{$ as We}from"./useField-C9GdkJOV.js";import{$ as je}from"./context-zNjZoWML.js";import{$ as Ke}from"./useLocalizedStringFormatter-DiUIqqhg.js";import{j as z}from"./jsx-runtime-BYYWji4R.js";import{c as be}from"./clsx-B-dksMZM.js";import{c as aa}from"./createLucideIcon-uZw3gxGR.js";function la(e){return e&&e.__esModule?e.default:e}function ia(e,a,d){let g=K(),m=K(),b=K(),v=Ke(la(Fe),"@react-aria/datepicker"),{isInvalid:o,validationErrors:l,validationDetails:D}=a.displayValidation,{labelProps:p,fieldProps:s,descriptionProps:Z,errorMessageProps:R}=We({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||l}),F=De(a,d),C=s["aria-labelledby"]||s.id,{locale:c}=je(),O=a.formatValue(c,{month:"long"}),i=O?v.format("selectedDateDescription",{date:O}):"",M=Ue(i),I=[M["aria-describedby"],s["aria-describedby"]].filter(Boolean).join(" ")||void 0,P=X(e),T=u.useMemo(()=>Ne(d),[d]),_=u.useRef(!1),{focusWithinProps:x}=Ze({...e,isDisabled:a.isOpen,onBlurWithin:y=>{let V=document.getElementById(m);if(!(V!=null&&V.contains(y.relatedTarget))){var r,h;_.current=!1,(r=e.onBlur)===null||r===void 0||r.call(e,y),(h=e.onFocusChange)===null||h===void 0||h.call(e,!1)}},onFocusWithin:y=>{if(!_.current){var V,r;_.current=!0,(V=e.onFocus)===null||V===void 0||V.call(e,y),(r=e.onFocusChange)===null||r===void 0||r.call(e,!0)}}});return{groupProps:$e(P,F,s,M,x,{role:"group","aria-disabled":e.isDisabled||null,"aria-labelledby":C,"aria-describedby":I,onKeyDown(y){a.isOpen||e.onKeyDown&&e.onKeyDown(y)},onKeyUp(y){a.isOpen||e.onKeyUp&&e.onKeyUp(y)}}),labelProps:{...p,onClick:()=>{T.focusFirst()}},fieldProps:{...s,id:b,[Re]:"presentation","aria-describedby":I,value:a.value,onChange:a.setValue,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,granularity:e.granularity,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior,[le]:a,autoFocus:e.autoFocus,name:e.name},descriptionProps:Z,errorMessageProps:R,buttonProps:{...M,id:g,"aria-haspopup":"dialog","aria-label":v.format("calendar"),"aria-labelledby":`${g} ${C}`,"aria-describedby":I,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:m,"aria-labelledby":`${g} ${C}`},calendarProps:{autoFocus:!0,value:a.dateValue,onChange:a.setDateValue,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,defaultFocusedValue:a.dateValue?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" ")},isInvalid:o,validationErrors:l,validationDetails:D}}function ta(e){return e&&e.__esModule?e.default:e}function da(e,a,d){var g,m,b;let v=Ke(ta(Fe),"@react-aria/datepicker"),{isInvalid:o,validationErrors:l,validationDetails:D}=a.displayValidation,{labelProps:p,fieldProps:s,descriptionProps:Z,errorMessageProps:R}=We({...e,labelElementType:"span",isInvalid:o,errorMessage:e.errorMessage||l}),F=s["aria-labelledby"]||s.id,{locale:C}=je(),c=a.formatValue(C,{month:"long"}),O=c?v.format("selectedRangeDescription",{startDate:c.start,endDate:c.end}):"",i=Ue(O),M={"aria-label":v.format("startDate"),"aria-labelledby":F},I={"aria-label":v.format("endDate"),"aria-labelledby":F},P=K(),T=K(),_=De(a,d),x=[i["aria-describedby"],s["aria-describedby"]].filter(Boolean).join(" ")||void 0,y=u.useMemo(()=>Ne(d,{accept:n=>n.id!==P}),[d,P]),V={[Xe]:y,[Re]:"presentation","aria-describedby":x,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,granularity:e.granularity,shouldForceLeadingZeros:e.shouldForceLeadingZeros,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior},r=X(e),h=u.useRef(!1),{focusWithinProps:w}=Ze({...e,isDisabled:a.isOpen,onBlurWithin:n=>{let $=document.getElementById(T);if(!($!=null&&$.contains(n.relatedTarget))){var k,U;h.current=!1,(k=e.onBlur)===null||k===void 0||k.call(e,n),(U=e.onFocusChange)===null||U===void 0||U.call(e,!1)}},onFocusWithin:n=>{if(!h.current){var $,k;h.current=!0,($=e.onFocus)===null||$===void 0||$.call(e,n),(k=e.onFocusChange)===null||k===void 0||k.call(e,!0)}}}),S=u.useRef(ce),G=u.useRef(ce);var t,f;return{groupProps:$e(r,_,s,i,w,{role:"group","aria-disabled":e.isDisabled||null,"aria-describedby":x,onKeyDown(n){a.isOpen||e.onKeyDown&&e.onKeyDown(n)},onKeyUp(n){a.isOpen||e.onKeyUp&&e.onKeyUp(n)}}),labelProps:{...p,onClick:()=>{y.focusFirst()}},buttonProps:{...i,id:P,"aria-haspopup":"dialog","aria-label":v.format("calendar"),"aria-labelledby":`${P} ${F}`,"aria-describedby":x,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:T,"aria-labelledby":`${P} ${F}`},startFieldProps:{...M,...V,value:(t=(g=a.value)===null||g===void 0?void 0:g.start)!==null&&t!==void 0?t:null,onChange:n=>a.setDateTime("start",n),autoFocus:e.autoFocus,name:e.startName,[le]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){S.current=n,a.updateValidation(fe(n,G.current))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},endFieldProps:{...I,...V,value:(f=(m=a.value)===null||m===void 0?void 0:m.end)!==null&&f!==void 0?f:null,onChange:n=>a.setDateTime("end",n),name:e.endName,[le]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){G.current=n,a.updateValidation(fe(S.current,n))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},descriptionProps:Z,errorMessageProps:R,calendarProps:{autoFocus:!0,value:!((b=a.dateRange)===null||b===void 0)&&b.start&&a.dateRange.end?a.dateRange:null,onChange:a.setDateRange,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,allowsNonContiguousRanges:e.allowsNonContiguousRanges,defaultFocusedValue:a.dateRange?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" ")},isInvalid:o,validationErrors:l,validationDetails:D}}function na(e){let a=Se(e),[d,g]=Ee(e.value,e.defaultValue||null,e.onChange),m=d||e.placeholderValue||null,[b,v]=Ce(m,e.granularity),o=d!=null?d.toDate(v??"UTC"):null,l=b==="hour"||b==="minute"||b==="second";var D;let p=(D=e.shouldCloseOnSelect)!==null&&D!==void 0?D:!0,[s,Z]=u.useState(null),[R,F]=u.useState(null);if(d&&(s=d,"hour"in d&&(R=d)),m&&!(b in m))throw new Error("Invalid granularity "+b+" for value "+m.toString());let C=(d==null?void 0:d.calendar.identifier)==="gregory"&&d.era==="BC",c=u.useMemo(()=>({granularity:b,timeZone:v,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:C}),[b,e.hourCycle,e.shouldForceLeadingZeros,v,e.hideTimeZone,C]),{minValue:O,maxValue:i,isDateUnavailable:M}=e,I=u.useMemo(()=>He(d,O,i,M,c),[d,O,i,M,c]),P=we({...e,value:d,builtinValidation:I}),T=P.displayValidation.isInvalid,_=e.validationState||(T?"invalid":null),x=(r,h)=>{g("timeZone"in h?h.set(ae(r)):ee(r,h)),Z(null),F(null),P.commitValidation()};return{...P,value:d,setValue:g,dateValue:s,timeValue:R,setDateValue:r=>{let h=typeof p=="function"?p():p;l?R||h?x(r,R||W(e.defaultValue||e.placeholderValue)):Z(r):(g(r),P.commitValidation()),h&&a.setOpen(!1)},setTimeValue:r=>{s&&r?x(s,r):F(r)},granularity:b,hasTime:l,...a,setOpen(r){!r&&!d&&s&&l&&x(s,R||W(e.defaultValue||e.placeholderValue)),a.setOpen(r)},validationState:_,isInvalid:T,formatValue(r,h){if(!o)return"";let w=L(h,c);return new q(r,w).format(o)},getDateFormatter(r,h){let w={...c,...h},S=L({},w);return new q(r,S)}}}function ra(e){var a,d;let g=Se(e),[m,b]=Ee(e.value,e.defaultValue||null,e.onChange),[v,o]=u.useState(()=>m||{start:null,end:null});m==null&&v.start&&v.end&&(v={start:null,end:null},o(v));let l=m||v,D=t=>{o(t||{start:null,end:null}),N(t)?b(t):b(null)},p=(l==null?void 0:l.start)||(l==null?void 0:l.end)||e.placeholderValue||null,[s,Z]=Ce(p,e.granularity),R=s==="hour"||s==="minute"||s==="second";var F;let C=(F=e.shouldCloseOnSelect)!==null&&F!==void 0?F:!0,[c,O]=u.useState(null),[i,M]=u.useState(null);l&&N(l)&&(c=l,"hour"in l.start&&(i=l));let I=(t,f)=>{D({start:"timeZone"in f.start?f.start.set(ae(t.start)):ee(t.start,f.start),end:"timeZone"in f.end?f.end.set(ae(t.end)):ee(t.end,f.end)}),O(null),M(null),w.commitValidation()},P=t=>{let f=typeof C=="function"?C():C;R?N(t)&&(f||i!=null&&i.start&&(i!=null&&i.end))?I(t,{start:(i==null?void 0:i.start)||W(e.placeholderValue),end:(i==null?void 0:i.end)||W(e.placeholderValue)}):O(t):N(t)?(D(t),w.commitValidation()):O(t),f&&g.setOpen(!1)},T=t=>{N(c)&&N(t)?I(c,t):M(t)},_=(l==null||(a=l.start)===null||a===void 0?void 0:a.calendar.identifier)==="gregory"&&l.start.era==="BC"||(l==null||(d=l.end)===null||d===void 0?void 0:d.calendar.identifier)==="gregory"&&l.end.era==="BC",x=u.useMemo(()=>({granularity:s,timeZone:Z,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:_}),[s,e.hourCycle,e.shouldForceLeadingZeros,Z,e.hideTimeZone,_]),{minValue:y,maxValue:V,isDateUnavailable:r}=e,h=u.useMemo(()=>Je(l,y,V,r,x),[l,y,V,r,x]),w=we({...e,value:m,name:u.useMemo(()=>[e.startName,e.endName].filter(t=>t!=null),[e.startName,e.endName]),builtinValidation:h}),S=w.displayValidation.isInvalid,G=e.validationState||(S?"invalid":null);return{...w,value:l,setValue:D,dateRange:c,timeRange:i,granularity:s,hasTime:R,setDate(t,f){var n,$;P(t==="start"?{start:f,end:(n=c==null?void 0:c.end)!==null&&n!==void 0?n:null}:{start:($=c==null?void 0:c.start)!==null&&$!==void 0?$:null,end:f})},setTime(t,f){var n,$;T(t==="start"?{start:f,end:(n=i==null?void 0:i.end)!==null&&n!==void 0?n:null}:{start:($=i==null?void 0:i.start)!==null&&$!==void 0?$:null,end:f})},setDateTime(t,f){var n,$;D(t==="start"?{start:f,end:(n=l==null?void 0:l.end)!==null&&n!==void 0?n:null}:{start:($=l==null?void 0:l.start)!==null&&$!==void 0?$:null,end:f})},setDateRange:P,setTimeRange:T,...g,setOpen(t){!t&&!(l!=null&&l.start&&(l!=null&&l.end))&&N(c)&&R&&I(c,{start:(i==null?void 0:i.start)||W(e.placeholderValue),end:(i==null?void 0:i.end)||W(e.placeholderValue)}),g.setOpen(t)},validationState:G,isInvalid:S,formatValue(t,f){if(!l||!l.start||!l.end)return null;let n="timeZone"in l.start?l.start.timeZone:void 0,$=e.granularity||(l.start&&"minute"in l.start?"minute":"day"),k="timeZone"in l.end?l.end.timeZone:void 0,U=e.granularity||(l.end&&"minute"in l.end?"minute":"day"),qe=L(f,{granularity:$,timeZone:n,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,showEra:l.start.calendar.identifier==="gregory"&&l.start.era==="BC"||l.end.calendar.identifier==="gregory"&&l.end.era==="BC"}),re=l.start.toDate(n||"UTC"),oe=l.end.toDate(k||"UTC"),H=new q(t,qe),J;if(n===k&&$===U&&l.start.compare(l.end)!==0){try{let E=H.formatRangeToParts(re,oe),Q=-1;for(let B=0;B<E.length;B++){let Y=E[B];if(Y.source==="shared"&&Y.type==="literal")Q=B;else if(Y.source==="endRange")break}let se="",ue="";for(let B=0;B<E.length;B++)B<Q?se+=E[B].value:B>Q&&(ue+=E[B].value);return{start:se,end:ue}}catch{}J=H}else{let E=L(f,{granularity:U,timeZone:k,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle});J=new q(t,E)}return{start:H.format(re),end:J.format(oe)}},getDateFormatter(t,f){let n={...x,...f},$=L({},n);return new q(t,$)}}}function N(e){return(e==null?void 0:e.start)!=null&&e.end!=null}const oa=u.createContext(null),sa=u.createContext(null),ua=u.createContext(null),ca=u.createContext(null),Le=[de,ie,te,ne],La=u.forwardRef(function(a,d){[a,d]=he(a,d,oa);let{validationBehavior:g}=ge(pe)||{};var m,b;let v=(b=(m=a.validationBehavior)!==null&&m!==void 0?m:g)!==null&&b!==void 0?b:"native",o=na({...a,validationBehavior:v}),l=u.useRef(null),[D,p]=ye(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:s,labelProps:Z,fieldProps:R,buttonProps:F,dialogProps:C,calendarProps:c,descriptionProps:O,errorMessageProps:i,...M}=ia({...Pe(a),label:p,validationBehavior:v},o,l),[I,P]=u.useState(null),T=u.useCallback(()=>{l.current&&P(l.current.offsetWidth+"px")},[]);Be({ref:l,onResize:T});let{focusProps:_,isFocused:x,isFocusVisible:y}=ke({within:!0}),V=Ve({...a,values:{state:o,isFocusWithin:x,isFocusVisible:y,isDisabled:a.isDisabled||!1,isInvalid:o.isInvalid,isOpen:o.isOpen},defaultClassName:"react-aria-DatePicker"}),r=X(a);return delete r.id,A.createElement(xe,{values:[[ua,o],[de,{...s,ref:l,isInvalid:o.isInvalid}],[Oe,R],[ie,{...F,isPressed:o.isOpen}],[te,{...Z,ref:D,elementType:"span"}],[Ae,c],[Me,o],[Ie,{trigger:"DatePicker",triggerRef:l,placement:"bottom start",style:{"--trigger-width":I},clearContexts:Le}],[Te,C],[ne,{slots:{description:O,errorMessage:i}}],[_e,M]]},A.createElement("div",{..._,...r,...V,ref:d,slot:a.slot||void 0,"data-focus-within":x||void 0,"data-invalid":o.isInvalid||void 0,"data-focus-visible":y||void 0,"data-disabled":a.isDisabled||void 0,"data-open":o.isOpen||void 0}))}),qa=u.forwardRef(function(a,d){[a,d]=he(a,d,sa);let{validationBehavior:g}=ge(pe)||{};var m,b;let v=(b=(m=a.validationBehavior)!==null&&m!==void 0?m:g)!==null&&b!==void 0?b:"native",o=ra({...a,validationBehavior:v}),l=u.useRef(null),[D,p]=ye(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:s,labelProps:Z,startFieldProps:R,endFieldProps:F,buttonProps:C,dialogProps:c,calendarProps:O,descriptionProps:i,errorMessageProps:M,...I}=da({...Pe(a),label:p,validationBehavior:v},o,l),[P,T]=u.useState(null),_=u.useCallback(()=>{l.current&&T(l.current.offsetWidth+"px")},[]);Be({ref:l,onResize:_});let{focusProps:x,isFocused:y,isFocusVisible:V}=ke({within:!0}),r=Ve({...a,values:{state:o,isFocusWithin:y,isFocusVisible:V,isDisabled:a.isDisabled||!1,isInvalid:o.isInvalid,isOpen:o.isOpen},defaultClassName:"react-aria-DateRangePicker"}),h=X(a);return delete h.id,A.createElement(xe,{values:[[ca,o],[de,{...s,ref:l,isInvalid:o.isInvalid}],[ie,{...C,isPressed:o.isOpen}],[te,{...Z,ref:D,elementType:"span"}],[Ge,O],[Me,o],[Ie,{trigger:"DateRangePicker",triggerRef:l,placement:"bottom start",style:{"--trigger-width":P},clearContexts:Le}],[Te,c],[Oe,{slots:{start:R,end:F}}],[ne,{slots:{description:i,errorMessage:M}}],[_e,I]]},A.createElement("div",{...x,...h,...r,ref:d,slot:a.slot||void 0,"data-focus-within":y||void 0,"data-invalid":o.isInvalid||void 0,"data-focus-visible":V||void 0,"data-disabled":a.isDisabled||void 0,"data-open":o.isOpen||void 0}))});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ba=aa("calendar-days",fa),va="_datePicker_1sfdl_4",ma="_inputField_1sfdl_11",$a="_medium_1sfdl_23",ha="_calendarButton_1sfdl_50",ga="_dialog_1sfdl_94",j={datePicker:va,inputField:ma,medium:$a,calendarButton:ha,dialog:ga},ve=({children:e,isDisabled:a,isInvalid:d,size:g="large"})=>z.jsxs(ea,{className:be(j.inputField,{[j.medium]:g==="medium"}),children:[e,z.jsx(ze,{className:be(j.calendarButton,{[j.medium]:g==="medium"}),"data-invalid":d||void 0,isDisabled:a,children:z.jsx(ba,{"aria-hidden":!0,size:20})})]});try{ve.displayName="DatePickerInputField",ve.__docgenInfo={description:"",displayName:"DatePickerInputField",props:{isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"large"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}}}}}catch{}const me=({children:e})=>z.jsx(Qe,{children:z.jsx(Ye,{className:j.dialog,children:e})});try{me.displayName="DatePickerPopover",me.__docgenInfo={description:"",displayName:"DatePickerPopover",props:{}}}catch{}export{La as $,ve as D,me as a,qa as b,j as s};
