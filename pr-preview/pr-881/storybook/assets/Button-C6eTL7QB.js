import{e as g,b as w,$ as D,i as B,a as O}from"./utils-DGT1GrBW.js";import{$ as R}from"./Hidden-DMD08W8C.js";import{c as S,r as b,e as p}from"./iframe-BLomsHqF.js";import{c as T,a as _,$ as H}from"./useFocusRing-CkLGAV6r.js";import{$ as Z}from"./useLabels-BU6aKxrw.js";import{$ as k}from"./useButton-BkJuWxM5.js";function A(i,e=-1/0,t=1/0){return Math.min(Math.max(i,e),t)}let E=new Map,L=!1;try{L=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let y=!1;try{y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const V={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class W{format(e){let t="";if(!L&&this.options.signDisplay!=null?t=G(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!y){var l;let{unit:a,unitDisplay:r="short",locale:n}=this.resolvedOptions();if(!a)return t;let s=(l=V[a])===null||l===void 0?void 0:l[r];t+=s[n]||s.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let l=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(t);return[...l.map(r=>({...r,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(r=>({...r,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!L&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=z(e,t),this.options=t}}function z(i,e={}){let{numberingSystem:t}=e;if(t&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${t}`),e.style==="unit"&&!y){var l;let{unit:n,unitDisplay:s="short"}=e;if(!n)throw new Error('unit option must be provided with style: "unit"');if(!(!((l=V[n])===null||l===void 0)&&l[s]))throw new Error(`Unsupported unit ${n} with unitDisplay = ${s}`);e={...e,style:"decimal"}}let a=i+(e?Object.entries(e).sort((n,s)=>n[0]<s[0]?-1:1).join():"");if(E.has(a))return E.get(a);let r=new Intl.NumberFormat(i,e);return E.set(a,r),r}function G(i,e,t){if(e==="auto")return i.format(t);if(e==="never")return i.format(Math.abs(t));{let l=!1;if(e==="always"?l=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):l=t>0),l){let a=i.format(-t),r=i.format(t),n=a.replace(r,"").replace(/\u200e|\u061C/,"");return[...n].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(r,"!!!").replace(n,"+").replace("!!!",r)}else return i.format(t)}}function J(i={}){let{locale:e}=S();return b.useMemo(()=>new W(e,i),[e,i])}const M=7e3;let o=null;function I(i,e="assertive",t=M){o?o.announce(i,e,t):(o=new K,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?o.announce(i,e,t):setTimeout(()=>{o!=null&&o.isAttached()&&(o==null||o.announce(i,e,t))},100))}function le(i){o&&o.clear(i)}class K{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",l=M){var a,r;if(!this.node)return;let n=document.createElement("div");typeof e=="object"?(n.setAttribute("role","img"),n.setAttribute("aria-labelledby",e["aria-labelledby"])):n.textContent=e,t==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(n):(r=this.politeLog)===null||r===void 0||r.appendChild(n),e!==""&&setTimeout(()=>{n.remove()},l)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function U(i){let{id:e,label:t,"aria-labelledby":l,"aria-label":a,labelElementType:r="label"}=i;e=g(e);let n=g(),s={};t&&(l=l?`${n} ${l}`:n,s={id:n,htmlFor:r==="label"?e:void 0});let d=Z({id:e,"aria-label":a,"aria-labelledby":l});return{labelProps:s,fieldProps:d}}function Y(i){let{value:e=0,minValue:t=0,maxValue:l=100,valueLabel:a,isIndeterminate:r,formatOptions:n={style:"percent"}}=i,s=T(i,{labelable:!0}),{labelProps:d,fieldProps:u}=U({...i,labelElementType:"span"});e=A(e,t,l);let m=(e-t)/(l-t),$=J(n);if(!r&&!a){let f=n.style==="percent"?m:e;a=$.format(f)}return{progressBarProps:w(s,{...u,"aria-valuenow":r?void 0:e,"aria-valuemin":t,"aria-valuemax":l,"aria-valuetext":r?void 0:a,role:"progressbar"}),labelProps:d}}const N=b.createContext({}),ne=R(function(e,t){[e,t]=D(e,t,N);let{elementType:l="label",...a}=e;return p.createElement(l,{className:"react-aria-Label",...a,ref:t})}),j=b.createContext(null),se=b.forwardRef(function(e,t){[e,t]=D(e,t,j);let{value:l=0,minValue:a=0,maxValue:r=100,isIndeterminate:n=!1}=e;l=A(l,a,r);let[s,d]=B(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:u,labelProps:m}=Y({...e,label:d}),$=n?void 0:(l-a)/(r-a)*100,f=O({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:u["aria-valuetext"],isIndeterminate:n}}),h=T(e,{global:!0});return p.createElement("div",{...w(h,f,u),ref:t,slot:e.slot||void 0},p.createElement(N.Provider,{value:{...m,ref:s,elementType:"span"}},f.children))}),q=b.createContext({}),oe=R(function(e,t){[e,t]=D(e,t,q);let l=e,{isPending:a}=l,{buttonProps:r,isPressed:n}=k(e,t);r=Q(r,a);let{focusProps:s,isFocused:d,isFocusVisible:u}=_(e),{hoverProps:m,isHovered:$}=H({...e,isDisabled:e.isDisabled||a}),f={isHovered:$,isPressed:(l.isPressed||n)&&!a,isFocused:d,isFocusVisible:u,isDisabled:e.isDisabled||!1,isPending:a??!1},h=O({...e,values:f,defaultClassName:"react-aria-Button"}),v=g(r.id),x=g(),c=r["aria-labelledby"];a&&(c?c=`${c} ${x}`:r["aria-label"]&&(c=`${v} ${x}`));let P=b.useRef(a);b.useEffect(()=>{let C={"aria-labelledby":c||v};(!P.current&&d&&a||P.current&&d&&!a)&&I(C,"assertive"),P.current=a},[a,d,c,v]);let F=T(e,{global:!0});return delete F.onClick,p.createElement("button",{...w(F,h,r,s,m),type:r.type==="submit"&&a?"button":r.type,id:v,ref:t,"aria-labelledby":c,slot:e.slot||void 0,"aria-disabled":a?"true":r["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":f.isPressed||void 0,"data-hovered":$||void 0,"data-focused":d||void 0,"data-pending":a||void 0,"data-focus-visible":u||void 0},p.createElement(j.Provider,{value:{id:x}},h.children))});function Q(i,e){if(e){for(const t in i)t.startsWith("on")&&!(t.includes("Focus")||t.includes("Blur"))&&(i[t]=void 0);i.href=void 0,i.target=void 0}return i}export{oe as $,U as a,N as b,se as c,q as d,A as e,ne as f,I as g,W as h,le as i};
