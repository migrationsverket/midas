import{w as p}from"./useFocusable-ByLM5O5C.js";import{r as $}from"./index-ClcD9ViR.js";function h(e,t){let f=window.getComputedStyle(e),o=/(auto|scroll)/.test(f.overflow+f.overflowX+f.overflowY);return o&&t&&(o=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),o}function x(e,t){const f=[];for(;e&&e!==document.documentElement;)h(e,t)&&f.push(e),e=e.parentElement;return f}function W(e,t,f,o){let l=p(f),r=f==null;$.useEffect(()=>{if(r||!e.current)return;let c=e.current;return c.addEventListener(t,l,o),()=>{c.removeEventListener(t,l,o)}},[e,t,o,r,l])}function L(e,t){let f=v(e,t,"left"),o=v(e,t,"top"),l=t.offsetWidth,r=t.offsetHeight,c=e.scrollLeft,s=e.scrollTop,{borderTopWidth:i,borderLeftWidth:d}=getComputedStyle(e),n=e.scrollLeft+parseInt(d,10),u=e.scrollTop+parseInt(i,10),a=n+e.clientWidth,b=u+e.clientHeight;f<=c?c=f-parseInt(d,10):f+l>a&&(c+=f+l-a),o<=u?s=o-parseInt(i,10):o+r>b&&(s+=o+r-b),e.scrollLeft=c,e.scrollTop=s}function v(e,t,f){const o=f==="left"?"offsetLeft":"offsetTop";let l=0;for(;t.offsetParent&&(l+=t[o],t.offsetParent!==e);){if(t.offsetParent.contains(e)){l-=e[o];break}t=t.offsetParent}return l}function S(e,t){if(document.contains(e)){let c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let i=x(e);for(let d of i)L(d,e)}else{var f;let{left:i,top:d}=e.getBoundingClientRect();e==null||(f=e.scrollIntoView)===null||f===void 0||f.call(e,{block:"nearest"});let{left:n,top:u}=e.getBoundingClientRect();if(Math.abs(i-n)>1||Math.abs(d-u)>1){var o,l,r;t==null||(l=t.containingElement)===null||l===void 0||(o=l.scrollIntoView)===null||o===void 0||o.call(l,{block:"center",inline:"center"}),(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"})}}}}export{h as $,W as a,L as b,S as c};
