import{g as gr,f as mr}from"./Button-CEgTOQBH.js";import{l as ue,b as O,e as xe,j as Z,d as H,k as ne,c as G,$ as Y,a as _,f as vr,i as I,m as oe,n as xr,g as yr}from"./utils-CT8CL8Qy.js";import{$ as hr}from"./RSPContexts-HQcWPJyv.js";import{h as Pr,c as Er,$ as Cr,a as Ae,b as Dr,d as Sr,e as Mr,g as ke}from"./OverlayArrow-TRvrVqvs.js";import{$ as Ar,a as kr,b as wr,c as we,d as Br,g as Fr}from"./Collection-DAIuP0SD.js";import{$ as Kr,a as Rr,b as ye,c as Tr,d as Or}from"./Separator-CH_dNUfe.js";import{R as $,r as c}from"./index-ClcD9ViR.js";import{$ as Ir}from"./Text-YK1d3YhA.js";import{K as se,L as Nr,k as Lr,e as zr,M as Hr,C as he,c as k,t as _r,f as Ur,$ as Be,z as Pe,N as Wr,J as Vr,u as jr,q as le}from"./useFocusRing-DFgaa26k.js";import{l as Gr,d as qr,$ as Fe,a as Jr,b as Ke}from"./SelectionManager-Cm3DuGdl.js";import{$ as Re}from"./useLocalizedStringFormatter-DiUIqqhg.js";import{$ as Zr}from"./useControlledState-H1tiOFpU.js";import{c as Yr,a as Te}from"./FocusScope-Bcf2Ll4M.js";import{$ as Xr}from"./index-DQEgcCId.js";import{$ as Qr}from"./SSRProvider-BhYbDCf7.js";import{b as ea}from"./Hidden-BC9qER92.js";import{$ as ta}from"./context-zNjZoWML.js";import{$ as Oe}from"./getScrollParent-D3zukwiL.js";import{$ as ra}from"./VisuallyHidden-jmj7sg3v.js";const Ie=$.forwardRef(({children:t,...e},r)=>{let n=c.useRef(!1),a=c.useContext(se);r=ue(r||(a==null?void 0:a.ref));let s=O(a||{},{...e,ref:r,register(){n.current=!0,a&&a.register()}});return Nr(a,r),c.useEffect(()=>{n.current||(n.current=!0)},[]),$.createElement(se.Provider,{value:s},t)});function aa({children:t}){let e=c.useMemo(()=>({register:()=>{}}),[]);return $.createElement(se.Provider,{value:e},t)}function na(t){let{ref:e,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:a}=t,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),d=xe(o=>{r&&Ee(o,e)&&(a&&a(o),s.current.isPointerDown=!0)}),l=xe(o=>{r&&r(o)});c.useEffect(()=>{let o=s.current;if(n)return;const i=e.current,u=Lr(i);if(typeof PointerEvent<"u"){let b=g=>{o.isPointerDown&&Ee(g,e)&&l(g),o.isPointerDown=!1};return u.addEventListener("pointerdown",d,!0),u.addEventListener("click",b,!0),()=>{u.removeEventListener("pointerdown",d,!0),u.removeEventListener("click",b,!0)}}},[e,n,d,l])}function Ee(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const D=[];function oa(t,e){let{onClose:r,shouldCloseOnBlur:n,isOpen:a,isDismissable:s=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:l}=t;c.useEffect(()=>{if(a&&!D.includes(e))return D.push(e),()=>{let p=D.indexOf(e);p>=0&&D.splice(p,1)}},[a,e]);let o=()=>{D[D.length-1]===e&&r&&r()},i=p=>{(!l||l(p.target))&&D[D.length-1]===e&&(p.stopPropagation(),p.preventDefault())},u=p=>{(!l||l(p.target))&&(D[D.length-1]===e&&(p.stopPropagation(),p.preventDefault()),o())},b=p=>{p.key==="Escape"&&!d&&!p.nativeEvent.isComposing&&(p.stopPropagation(),p.preventDefault(),o())};na({ref:e,onInteractOutside:s&&a?u:void 0,onInteractOutsideStart:i});let{focusWithinProps:g}=zr({isDisabled:!n,onBlurWithin:p=>{!p.relatedTarget||Yr(p.relatedTarget)||(!l||l(p.relatedTarget))&&(r==null||r())}}),f=p=>{p.target===p.currentTarget&&p.preventDefault()};return{overlayProps:{onKeyDown:b,...g},underlayProps:{onPointerDown:f}}}function Ne(t,e,r){let{type:n}=t,{isOpen:a}=e;c.useEffect(()=>{r&&r.current&&Pr.set(r.current,e.close)});let s;n==="menu"?s=!0:n==="listbox"&&(s="listbox");let d=Z();return{triggerProps:{"aria-haspopup":s,"aria-expanded":a,"aria-controls":a?d:void 0,onPress:e.toggle},overlayProps:{id:d}}}const re=typeof document<"u"&&window.visualViewport,sa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let j=0,ae;function la(t={}){let{isDisabled:e}=t;H(()=>{if(!e)return j++,j===1&&(Hr()?ae=ua():ae=ia()),()=>{j--,j===0&&ae()}},[e])}function ia(){let t=window.innerWidth-document.documentElement.clientWidth;return ne(t>0&&("scrollbarGutter"in document.documentElement.style?A(document.documentElement,"scrollbarGutter","stable"):A(document.documentElement,"paddingRight",`${t}px`)),A(document.documentElement,"overflow","hidden"))}function ua(){let t,e,r=i=>{t=Oe(i.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=A(t,"overscrollBehavior","contain"))},n=i=>{if(!t||t===document.documentElement||t===document.body){i.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&i.preventDefault()},a=()=>{e&&e()},s=i=>{let u=i.target;da(u)&&(l(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",re&&(re.height<window.innerHeight?requestAnimationFrame(()=>{Ce(u)}):re.addEventListener("resize",()=>Ce(u),{once:!0}))}))},d=null,l=()=>{if(d)return;let i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,b=window.pageYOffset;d=ne(L(window,"scroll",i),A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"),A(document.body,"marginTop",`-${b}px`),()=>{window.scrollTo(u,b)}),window.scrollTo(0,0)},o=ne(L(document,"touchstart",r,{passive:!1,capture:!0}),L(document,"touchmove",n,{passive:!1,capture:!0}),L(document,"touchend",a,{passive:!1,capture:!0}),L(document,"focus",s,!0));return()=>{e==null||e(),d==null||d(),o()}}function A(t,e,r){let n=t.style[e];return t.style[e]=r,()=>{t.style[e]=n}}function L(t,e,r,n){return t.addEventListener(e,r,n),()=>{t.removeEventListener(e,r,n)}}function Ce(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let n=Oe(r);if(n!==document.documentElement&&n!==document.body&&n!==r){let a=n.getBoundingClientRect().top,s=r.getBoundingClientRect().top;s>a+r.clientHeight&&(n.scrollTop+=s-a)}r=n.parentElement}}function da(t){return t instanceof HTMLInputElement&&!sa.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Le={};Le={dismiss:"تجاهل"};var ze={};ze={dismiss:"Отхвърляне"};var He={};He={dismiss:"Odstranit"};var _e={};_e={dismiss:"Luk"};var Ue={};Ue={dismiss:"Schließen"};var We={};We={dismiss:"Απόρριψη"};var Ve={};Ve={dismiss:"Dismiss"};var je={};je={dismiss:"Descartar"};var Ge={};Ge={dismiss:"Lõpeta"};var qe={};qe={dismiss:"Hylkää"};var Je={};Je={dismiss:"Rejeter"};var Ze={};Ze={dismiss:"התעלם"};var Ye={};Ye={dismiss:"Odbaci"};var Xe={};Xe={dismiss:"Elutasítás"};var Qe={};Qe={dismiss:"Ignora"};var et={};et={dismiss:"閉じる"};var tt={};tt={dismiss:"무시"};var rt={};rt={dismiss:"Atmesti"};var at={};at={dismiss:"Nerādīt"};var nt={};nt={dismiss:"Lukk"};var ot={};ot={dismiss:"Negeren"};var st={};st={dismiss:"Zignoruj"};var lt={};lt={dismiss:"Descartar"};var it={};it={dismiss:"Dispensar"};var ut={};ut={dismiss:"Revocare"};var dt={};dt={dismiss:"Пропустить"};var ct={};ct={dismiss:"Zrušiť"};var ft={};ft={dismiss:"Opusti"};var $t={};$t={dismiss:"Odbaci"};var bt={};bt={dismiss:"Avvisa"};var pt={};pt={dismiss:"Kapat"};var gt={};gt={dismiss:"Скасувати"};var mt={};mt={dismiss:"取消"};var vt={};vt={dismiss:"關閉"};var xt={};xt={"ar-AE":Le,"bg-BG":ze,"cs-CZ":He,"da-DK":_e,"de-DE":Ue,"el-GR":We,"en-US":Ve,"es-ES":je,"et-EE":Ge,"fi-FI":qe,"fr-FR":Je,"he-IL":Ze,"hr-HR":Ye,"hu-HU":Xe,"it-IT":Qe,"ja-JP":et,"ko-KR":tt,"lt-LT":rt,"lv-LV":at,"nb-NO":nt,"nl-NL":ot,"pl-PL":st,"pt-BR":lt,"pt-PT":it,"ro-RO":ut,"ru-RU":dt,"sk-SK":ct,"sl-SI":ft,"sr-SP":$t,"sv-SE":bt,"tr-TR":pt,"uk-UA":gt,"zh-CN":mt,"zh-TW":vt};function ca(t){return t&&t.__esModule?t.default:t}function De(t){let{onDismiss:e,...r}=t,n=Re(ca(xt),"@react-aria/overlays"),a=gr(r,n.format("dismiss")),s=()=>{e&&e()};return $.createElement(ra,null,$.createElement("button",{...a,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let z=new WeakMap,P=[];function fa(t,e=document.body){let r=new Set(t),n=new Set,a=o=>{for(let g of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(g);let i=g=>{if(r.has(g)||g.parentElement&&n.has(g.parentElement)&&g.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if(g.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:i}),b=i(o);if(b===NodeFilter.FILTER_ACCEPT&&s(o),b!==NodeFilter.FILTER_REJECT){let g=u.nextNode();for(;g!=null;)s(g),g=u.nextNode()}},s=o=>{var i;let u=(i=z.get(o))!==null&&i!==void 0?i:0;o.getAttribute("aria-hidden")==="true"&&u===0||(u===0&&o.setAttribute("aria-hidden","true"),n.add(o),z.set(o,u+1))};P.length&&P[P.length-1].disconnect(),a(e);let d=new MutationObserver(o=>{for(let i of o)if(!(i.type!=="childList"||i.addedNodes.length===0)&&![...r,...n].some(u=>u.contains(i.target))){for(let u of i.removedNodes)u instanceof Element&&(r.delete(u),n.delete(u));for(let u of i.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?r.add(u):u instanceof Element&&a(u)}});d.observe(e,{childList:!0,subtree:!0});let l={visibleNodes:r,hiddenNodes:n,observe(){d.observe(e,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return P.push(l),()=>{d.disconnect();for(let o of n){let i=z.get(o);i!=null&&(i===1?(o.removeAttribute("aria-hidden"),z.delete(o)):z.set(o,i-1))}l===P[P.length-1]?(P.pop(),P.length&&P[P.length-1].observe()):P.splice(P.indexOf(l),1)}}function $a(t){let e=P[P.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function ba(t,e){let{triggerRef:r,popoverRef:n,groupRef:a,isNonModal:s,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l,...o}=t,i=o.trigger==="SubmenuTrigger",{overlayProps:u,underlayProps:b}=oa({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||i,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l},a??n),{overlayProps:g,arrowProps:f,placement:p}=Er({...o,targetRef:r,overlayRef:n,isOpen:e.isOpen,onClose:s&&!i?e.close:null});return la({isDisabled:s||!e.isOpen}),H(()=>{if(e.isOpen&&n.current){var y,v;return s?$a((y=a==null?void 0:a.current)!==null&&y!==void 0?y:n.current):fa([(v=a==null?void 0:a.current)!==null&&v!==void 0?v:n.current])}},[s,e.isOpen,n,a]),{popoverProps:O(u,g),arrowProps:f,underlayProps:b,placement:p}}const yt=$.createContext(null);function Se(t){let e=Qr(),{portalContainer:r=e?null:document.body,isExiting:n}=t,[a,s]=c.useState(!1),d=c.useMemo(()=>({contain:a,setContain:s}),[a,s]),{getContainer:l}=Cr();if(!t.portalContainer&&l&&(r=l()),!r)return null;let o=t.children;return t.disableFocusManagement||(o=$.createElement(Te,{restoreFocus:!0,contain:(t.shouldContainFocus||a)&&!n},o)),o=$.createElement(yt.Provider,{value:d},$.createElement(aa,null,o)),Xr.createPortal(o,r)}function pa(){let t=c.useContext(yt),e=t==null?void 0:t.setContain;H(()=>{e==null||e(!0)},[e])}var ht={};ht={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Pt={};Pt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Et={};Et={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ct={};Ct={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Dt={};Dt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var St={};St={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Mt={};Mt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var At={};At={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var kt={};kt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var wt={};wt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Bt={};Bt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ft={};Ft={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Kt={};Kt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Rt={};Rt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Tt={};Tt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Ot={};Ot={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var It={};It={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Nt={};Nt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Lt={};Lt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var zt={};zt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Ht={};Ht={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var _t={};_t={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ut={};Ut={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Wt={};Wt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Vt={};Vt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var jt={};jt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Gt={};Gt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var qt={};qt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Jt={};Jt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Zt={};Zt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Yt={};Yt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Xt={};Xt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Qt={};Qt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var er={};er={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var tr={};tr={"ar-AE":ht,"bg-BG":Pt,"cs-CZ":Et,"da-DK":Ct,"de-DE":Dt,"el-GR":St,"en-US":Mt,"es-ES":At,"et-EE":kt,"fi-FI":wt,"fr-FR":Bt,"he-IL":Ft,"hr-HR":Kt,"hu-HU":Rt,"it-IT":Tt,"ja-JP":Ot,"ko-KR":It,"lt-LT":Nt,"lv-LV":Lt,"nb-NO":zt,"nl-NL":Ht,"pl-PL":_t,"pt-BR":Ut,"pt-PT":Wt,"ro-RO":Vt,"ru-RU":jt,"sk-SK":Gt,"sl-SI":qt,"sr-SP":Jt,"sv-SE":Zt,"tr-TR":Yt,"uk-UA":Xt,"zh-CN":Qt,"zh-TW":er};function ga(t){return t&&t.__esModule?t.default:t}function ma(t,e,r){let{type:n="menu",isDisabled:a,trigger:s="press"}=t,d=Z(),{triggerProps:l,overlayProps:o}=Ne({type:n},e,r),i=f=>{if(!a&&!(s==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},u=Re(ga(tr),"@react-aria/menu"),{longPressProps:b}=Gr({isDisabled:a||s!=="longPress",accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),g={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!a&&(he(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!a&&(he(f.target),e.toggle())}};return delete l.onPress,{menuTriggerProps:{...l,...s==="press"?g:b,id:d,onKeyDown:i},menuProps:{...o,"aria-labelledby":d,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const rr=new WeakMap;function va(t,e,r){let{shouldFocusWrap:n=!0,onKeyDown:a,onKeyUp:s,...d}=t;!t["aria-label"]&&t["aria-labelledby"];let l=k(t,{labelable:!0}),{listProps:o}=Kr({...d,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return rr.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:O(l,{onKeyDown:a,onKeyUp:s},{role:"menu",...o,onKeyDown:i=>{var u;(i.key!=="Escape"||t.shouldUseVirtualFocus)&&((u=o.onKeyDown)===null||u===void 0||u.call(o,i))}})}}function xa(t,e,r){let{id:n,key:a,closeOnSelect:s,isVirtualized:d,"aria-haspopup":l,onPressStart:o,onPressUp:i,onPress:u,onPressChange:b,onPressEnd:g,onHoverStart:f,onHoverChange:p,onHoverEnd:y,onKeyDown:v,onKeyUp:w,onFocus:B,onFocusChange:U,onBlur:S,selectionManager:h=e.selectionManager}=t,E=!!l,N=E&&t["aria-expanded"]==="true";var F;let C=(F=t.isDisabled)!==null&&F!==void 0?F:h.isDisabled(a);var M;let W=(M=t.isSelected)!==null&&M!==void 0?M:h.isSelected(a),K=rr.get(e),x=e.collection.getItem(a),R=t.onClose||K.onClose,or=_r(),Q=m=>{var te;if(!E){if(!(x==null||(te=x.props)===null||te===void 0)&&te.onAction?x.props.onAction():t.onAction&&t.onAction(a),K.onAction){let pr=K.onAction;pr(a)}m.target instanceof HTMLAnchorElement&&x&&or.open(m.target,m,x.props.href,x.props.routerOptions)}},ee="menuitem";E||(h.selectionMode==="single"?ee="menuitemradio":h.selectionMode==="multiple"&&(ee="menuitemcheckbox"));let $e=G(),be=G(),pe=G(),V={id:n,"aria-disabled":C||void 0,role:ee,"aria-label":t["aria-label"],"aria-labelledby":$e,"aria-describedby":[be,pe].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};h.selectionMode!=="none"&&!E&&(V["aria-checked"]=W),d&&(V["aria-posinset"]=x==null?void 0:x.index,V["aria-setsize"]=Rr(e.collection));let sr=m=>{m.pointerType==="keyboard"&&Q(m),o==null||o(m)},ge=()=>{!E&&R&&(s??(h.selectionMode!=="multiple"||h.isLink(a)))&&R()},lr=m=>{m.pointerType==="mouse"&&(Q(m),ge()),i==null||i(m)},ir=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(Q(m),ge()),u==null||u(m)},{itemProps:T,isFocused:me}=qr({id:n,selectionManager:h,key:a,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:K.shouldUseVirtualFocus}),{pressProps:ur,isPressed:dr}=Ur({onPressStart:sr,onPress:ir,onPressUp:lr,onPressChange:b,onPressEnd:g,isDisabled:C}),{hoverProps:cr}=Be({isDisabled:C,onHoverStart(m){!Pe()&&!(N&&l)&&(h.setFocused(!0),h.setFocusedKey(a)),f==null||f(m)},onHoverChange:p,onHoverEnd:y}),{keyboardProps:fr}=Wr({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!C&&h.selectionMode==="none"&&!E&&s!==!1&&R&&R();break;case"Enter":!C&&s!==!1&&!E&&R&&R();break;default:E||m.continuePropagation(),v==null||v(m);break}},onKeyUp:w}),{focusProps:$r}=Vr({onBlur:S,onFocus:B,onFocusChange:U}),ve=k(x==null?void 0:x.props);delete ve.id;let br=jr(x==null?void 0:x.props);return{menuItemProps:{...V,...O(ve,br,E?{onFocus:T.onFocus,"data-collection":T["data-collection"],"data-key":T["data-key"]}:T,ur,cr,fr,$r,K.shouldUseVirtualFocus||E?{onMouseDown:m=>m.preventDefault()}:void 0),tabIndex:T.tabIndex!=null&&N&&!K.shouldUseVirtualFocus?-1:T.tabIndex},labelProps:{id:$e},descriptionProps:{id:be},keyboardShortcutProps:{id:pe},isFocused:me,isFocusVisible:me&&h.isFocused&&Pe()&&!N,isSelected:W,isPressed:dr,isDisabled:C}}function ya(t){let{heading:e,"aria-label":r}=t,n=Z();return{itemProps:{role:"presentation"},headingProps:e?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?n:void 0}}}function ha(t,e){let{role:r="dialog"}=t,n=G();n=t["aria-label"]?void 0:n;let a=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){le(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(a.current=!0,e.current&&(e.current.blur(),le(e.current)),a.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),pa(),{dialogProps:{...k(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||n,onBlur:s=>{a.current&&s.stopPropagation()}},titleProps:{id:n}}}function de(t){let e=Ae(t),[r,n]=c.useState(null),[a,s]=c.useState([]),d=()=>{s([]),e.close()};return{focusStrategy:r,...e,open(i=null){n(i),e.open()},toggle(i=null){n(i),e.toggle()},close(){d()},expandedKeysStack:a,openSubmenu:(i,u)=>{s(b=>u>b.length?b:[...b.slice(0,u),i])},closeSubmenu:(i,u)=>{s(b=>b[u]===i?b.slice(0,u):b)}}}class Pa{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var n;return r&&(n=r.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(e){let r=this.keyMap.get(e);var n;return r&&(n=r.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let n=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||r.has(l.key)))for(let o of l.childNodes)n(o)};for(let l of e)n(l);let a=null,s=0;for(let[l,o]of this.keyMap)a?(a.nextKey=l,o.prevKey=a.key):(this.firstKey=l,o.prevKey=void 0),o.type==="item"&&(o.index=s++),a=o,a.nextKey=void 0;var d;this.lastKey=(d=a==null?void 0:a.key)!==null&&d!==void 0?d:null}}function Ea(t){let{onExpandedChange:e}=t,[r,n]=Zr(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=Fe(t),s=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),d=Jr(t,c.useCallback(o=>new Pa(o,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{a.focusedKey!=null&&!d.getItem(a.focusedKey)&&a.setFocusedKey(null)},[d,a.focusedKey]),{collection:d,expandedKeys:r,disabledKeys:s,toggleKey:o=>{n(Ca(r,o))},setExpandedKeys:n,selectionManager:new Ke(d,a)}}function Ca(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const ce=c.createContext(null),Me=c.createContext(null),Za=c.forwardRef(function(e,r){[e,r]=Y(e,r,ce);let n=c.useContext(X),a=Ae(e),s=e.isOpen!=null||e.defaultOpen!=null||!n?a:n,d=Dr(r,s.isOpen)||e.isExiting||!1,l=ea(),{direction:o}=ta();if(l){let i=e.children;return typeof i=="function"&&(i=i({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),$.createElement($.Fragment,null,i)}return s&&!s.isOpen&&!d?null:$.createElement(Da,{...e,triggerRef:e.triggerRef,state:s,popoverRef:r,isExiting:d,dir:o})});function Da({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:n,...a}){let s=c.useRef(null),[d,l]=c.useState(0),o=c.useRef(null),i=c.useContext(Me),u=i&&a.trigger==="SubmenuTrigger";H(()=>{s.current&&t.isOpen&&l(s.current.getBoundingClientRect().width)},[t.isOpen,s]);var b;let{popoverProps:g,underlayProps:f,arrowProps:p,placement:y}=ba({...a,offset:(b=a.offset)!==null&&b!==void 0?b:8,arrowSize:d,groupRef:u?i:o},t),v=a.popoverRef,w=Sr(v,!!y)||a.isEntering||!1,B=_({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:y,isEntering:w,isExiting:e}}),U=!a.isNonModal||a.trigger==="SubmenuTrigger",[S,h]=c.useState(!1);H(()=>{v.current&&h(U&&!v.current.querySelector("[role=dialog]"))},[v,U]),c.useEffect(()=>{S&&v.current&&!v.current.contains(document.activeElement)&&le(v.current)},[S,v]);let E=c.useMemo(()=>{let M=B.children;if(n)for(let W of n)M=$.createElement(W.Provider,{value:null},M);return M},[B.children,n]),N={...g.style,...B.style},F=$.createElement("div",{...O(k(a),g),...B,role:S?"dialog":void 0,tabIndex:S?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:v,slot:a.slot||void 0,style:N,dir:a.dir,"data-trigger":a.trigger,"data-placement":y,"data-entering":w||void 0,"data-exiting":e||void 0},!a.isNonModal&&$.createElement(De,{onDismiss:t.close}),$.createElement(Mr.Provider,{value:{...p,placement:y,ref:s}},E),$.createElement(De,{onDismiss:t.close}));if(!u)return $.createElement(Se,{...a,shouldContainFocus:S,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&$.createElement("div",{"data-testid":"underlay",...f,style:{position:"fixed",inset:0}}),$.createElement("div",{ref:o,style:{display:"contents"}},$.createElement(Me.Provider,{value:o},F)));var C;return $.createElement(Se,{...a,shouldContainFocus:S,isExiting:e,portalContainer:(C=r??(i==null?void 0:i.current))!==null&&C!==void 0?C:void 0},F)}const Sa=c.createContext({}),ar=c.createContext(null),fe=c.createContext(null),q=c.createContext(null),J=c.createContext(null);function Ya(t){let e=de(t),r=c.useRef(null),{menuTriggerProps:n,menuProps:a}=ma({...t,type:"menu"},e,r),[s,d]=c.useState(null),l=c.useCallback(()=>{r.current&&d(r.current.offsetWidth+"px")},[r]);ke({ref:r,onResize:l});let o=c.useRef(null);return $.createElement(I,{values:[[ar,{...a,ref:o}],[X,e],[q,e],[ce,{trigger:"MenuTrigger",triggerRef:r,scrollRef:o,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":a["aria-labelledby"]}]]},$.createElement(Ie,{...n,ref:r,isPressed:e.isOpen},t.children))}const Ma=c.createContext(null),Xa=c.forwardRef(function(e,r){return[e,r]=Y(e,r,ar),$.createElement(kr,{content:$.createElement(wr,e)},n=>$.createElement(Aa,{props:e,collection:n,menuRef:r}))});function Aa({props:t,collection:e,menuRef:r}){let{filter:n,collectionProps:a,collectionRef:s}=c.useContext(ye)||{};r=ue(c.useMemo(()=>xr(r,s!==void 0?s:null),[s,r]));let d=c.useMemo(()=>n?e.UNSTABLE_filter(n):e,[e,n]),l=Ea({...t,collection:d,children:void 0}),o=c.useContext(q),{isVirtualized:i,CollectionRoot:u}=c.useContext(we),{menuProps:b}=va({...t,...a,isVirtualized:i,onClose:t.onClose||(o==null?void 0:o.close)},l,r),g=_({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:l.collection.size===0}}),f=null;return l.collection.size===0&&t.renderEmptyState&&(f=$.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState())),$.createElement(Te,null,$.createElement("div",{...k(t),...b,...g,ref:r,slot:t.slot||void 0,"data-empty":l.collection.size===0||void 0,onScroll:t.onScroll},$.createElement(I,{values:[[fe,l],[Tr,{elementType:"div"}],[Br,{name:"MenuSection",render:wa}],[Ma,{parentMenuRef:r,shouldUseVirtualFocus:a==null?void 0:a.shouldUseVirtualFocus}],[ie,null],[ye,null],[J,l.selectionManager],[q,o??de({})]]},$.createElement(u,{collection:l.collection,persistedKeys:Fr(l.selectionManager.focusedKey),scrollRef:r})),f))}class ka extends Ke{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function wa(t,e,r,n="react-aria-MenuSection"){var a,s;let d=c.useContext(fe),{CollectionBranch:l}=c.useContext(we),[o,i]=yr();var u;let{headingProps:b,groupProps:g}=ya({heading:i,"aria-label":(u=r.props["aria-label"])!==null&&u!==void 0?u:void 0}),f=_({defaultClassName:n,className:(a=r.props)===null||a===void 0?void 0:a.className,style:(s=r.props)===null||s===void 0?void 0:s.style,values:{}}),p=c.useContext(J),y=Fe(t),v=t.selectionMode!=null?new ka(p,y):p;return $.createElement("section",{...k(t),...g,...f,ref:e},$.createElement(I,{values:[[Or,{...b,ref:o}],[J,v]]},$.createElement(l,{collection:d.collection,parent:r})))}const ie=c.createContext(null),Qa=Ar("item",function(e,r,n){var a;[e,r]=Y(e,r,ie);let s=(a=vr(ie))===null||a===void 0?void 0:a.id,d=c.useContext(fe),l=ue(r),o=c.useContext(J),{menuItemProps:i,labelProps:u,descriptionProps:b,keyboardShortcutProps:g,...f}=xa({...e,id:s,key:n.key,selectionManager:o},d,l),{hoverProps:p,isHovered:y}=Be({isDisabled:f.isDisabled}),v=_({...e,id:void 0,children:n.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:y,isFocusVisible:f.isFocusVisible,selectionMode:o.selectionMode,selectionBehavior:o.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),w=e.href?"a":"div";return $.createElement(w,{...O(i,p),...v,ref:l,"data-disabled":f.isDisabled||void 0,"data-hovered":y||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":o.selectionMode==="none"?void 0:o.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},$.createElement(I,{values:[[Ir,{slots:{[oe]:u,label:u,description:b}}],[Sa,g]]},v.children))}),nr=c.createContext(null),X=c.createContext(null);function en(t){let e=de(t),r=c.useRef(null),{triggerProps:n,overlayProps:a}=Ne({type:"dialog"},e,r),[s,d]=c.useState(null),l=c.useCallback(()=>{r.current&&d(r.current.offsetWidth+"px")},[r]);return ke({ref:r,onResize:l}),n.id=Z(),a["aria-labelledby"]=n.id,$.createElement(I,{values:[[X,e],[q,e],[nr,a],[ce,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":a["aria-labelledby"],style:{"--trigger-width":s}}]]},$.createElement(Ie,{...n,ref:r,isPressed:e.isOpen},t.children))}const tn=c.forwardRef(function(e,r){let n=e["aria-labelledby"];[e,r]=Y(e,r,nr);let{dialogProps:a,titleProps:s}=ha({...e,"aria-labelledby":n},r),d=c.useContext(X);!a["aria-label"]&&!a["aria-labelledby"]&&e["aria-labelledby"]&&(a["aria-labelledby"]=e["aria-labelledby"]);let l=_({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(d==null?void 0:d.close)||(()=>{})}});return $.createElement("section",{...k(e),...a,...l,ref:r,slot:e.slot||void 0},$.createElement(I,{values:[[hr,{slots:{[oe]:{},title:{...s,level:2}}}],[mr,{slots:{[oe]:{},close:{onPress:()=>d==null?void 0:d.close()}}}]]},l.children))});export{en as $,Qa as a,Ya as b,Za as c,Xa as d,oa as e,la as f,pa as g,fa as h,X as i,De as j,Se as k,tn as l,ce as m,nr as n,ma as o,de as p,Ie as q};
