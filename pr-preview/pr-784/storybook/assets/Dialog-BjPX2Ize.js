import{e as Mr}from"./Button-Czm5JDUd.js";import{g as Y,e as z,d as le,l as be,b as F,c as ne,$ as U,a as Z,k as L,h as kr,f as Oe,m as $e,i as Sr}from"./utils-PPVwsd6f.js";import{$ as wr}from"./RSPContexts-Cp0bUSJY.js";import{g as Ar,c as Tr,$ as Br,a as Ke,b as Rr,d as Fr,e as Or}from"./OverlayArrow-DuWMW87x.js";import{$ as Kr,c as Ie,e as Ir,a as Lr,b as Nr,f as me,g as _r,l as Hr,h as zr,j as Ur}from"./Collection-DUNlvezB.js";import{b as ke,a as Vr}from"./ListKeyboardDelegate-CFkEcJ1a.js";import{$ as jr,a as Wr,b as Gr,c as Xr}from"./Separator-CPgR1anc.js";import{r as i,e as x,i as Yr,c as Le}from"./iframe-D-4hYGhm.js";import{$ as qr}from"./Text-BdSK7M9l.js";import{l as Zr,e as Jr,M as Qr,d as en,E as K,c as O,v as tn,f as rn,$ as Ne,B as Se,N as nn,L as on,w as an,x as ln,H as sn,o as ge}from"./useFocusRing-g24tRaBc.js";import{$ as ve}from"./useResizeObserver-CEPYgR-F.js";import{l as un,d as cn,$ as _e,a as dn,b as He}from"./SelectionManager-HXoNJTqC.js";import{a as fn,$ as ze}from"./PressResponder-mTFq4hHN.js";import{$ as Ue}from"./useLocalizedStringFormatter-BhoP_Rk9.js";import{$ as pn}from"./useEvent-AdSOq1sc.js";import{$ as bn}from"./useControlledState-Dop_bXLo.js";import{c as $n,a as Ve}from"./FocusScope-i_FOofVw.js";import{P as gn}from"./index-Cl9LkdyV.js";import{b as mn}from"./Hidden-B33uzZwQ.js";import{$ as je}from"./getScrollParent-CvodOSaS.js";import{$ as vn}from"./useLabels-B57XBD92.js";import{$ as xn}from"./VisuallyHidden-Cc9jQGDo.js";function yn(r){let{ref:e,onInteractOutside:t,isDisabled:o,onInteractOutsideStart:n}=r,a=i.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=Y(u=>{t&&we(u,e)&&(n&&n(u),a.current.isPointerDown=!0)}),s=Y(u=>{t&&t(u)});i.useEffect(()=>{let u=a.current;if(o)return;const d=e.current,f=Zr(d);if(typeof PointerEvent<"u"){let $=m=>{u.isPointerDown&&we(m,e)&&s(m),u.isPointerDown=!1};return f.addEventListener("pointerdown",l,!0),f.addEventListener("click",$,!0),()=>{f.removeEventListener("pointerdown",l,!0),f.removeEventListener("click",$,!0)}}},[e,o,l,s])}function we(r,e){if(r.button>0)return!1;if(r.target){const t=r.target.ownerDocument;if(!t||!t.documentElement.contains(r.target)||r.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!r.composedPath().includes(e.current):!1}const T=[];function hn(r,e){let{onClose:t,shouldCloseOnBlur:o,isOpen:n,isDismissable:a=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:s}=r;i.useEffect(()=>{if(n&&!T.includes(e))return T.push(e),()=>{let p=T.indexOf(e);p>=0&&T.splice(p,1)}},[n,e]);let u=()=>{T[T.length-1]===e&&t&&t()},d=p=>{(!s||s(p.target))&&T[T.length-1]===e&&(p.stopPropagation(),p.preventDefault())},f=p=>{(!s||s(p.target))&&(T[T.length-1]===e&&(p.stopPropagation(),p.preventDefault()),u())},$=p=>{p.key==="Escape"&&!l&&!p.nativeEvent.isComposing&&(p.stopPropagation(),p.preventDefault(),u())};yn({ref:e,onInteractOutside:a&&n?f:void 0,onInteractOutsideStart:d});let{focusWithinProps:m}=Jr({isDisabled:!o,onBlurWithin:p=>{!p.relatedTarget||$n(p.relatedTarget)||(!s||s(p.relatedTarget))&&(t==null||t())}}),c=p=>{p.target===p.currentTarget&&p.preventDefault()};return{overlayProps:{onKeyDown:$,...m},underlayProps:{onPointerDown:c}}}function We(r,e,t){let{type:o}=r,{isOpen:n}=e;i.useEffect(()=>{t&&t.current&&Ar.set(t.current,e.close)});let a;o==="menu"?a=!0:o==="listbox"&&(a="listbox");let l=z();return{triggerProps:{"aria-haspopup":a,"aria-expanded":n,"aria-controls":n?l:void 0,onPress:e.toggle},overlayProps:{id:l}}}const fe=typeof document<"u"&&window.visualViewport,Pn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let te=0,pe;function En(r={}){let{isDisabled:e}=r;le(()=>{if(!e)return te++,te===1&&(Qr()?pe=Dn():pe=Cn()),()=>{te--,te===0&&pe()}},[e])}function Cn(){let r=window.innerWidth-document.documentElement.clientWidth;return be(r>0&&("scrollbarGutter"in document.documentElement.style?I(document.documentElement,"scrollbarGutter","stable"):I(document.documentElement,"paddingRight",`${r}px`)),I(document.documentElement,"overflow","hidden"))}function Dn(){let r,e,t=d=>{r=je(d.target,!0),!(r===document.documentElement&&r===document.body)&&r instanceof HTMLElement&&window.getComputedStyle(r).overscrollBehavior==="auto"&&(e=I(r,"overscrollBehavior","contain"))},o=d=>{if(!r||r===document.documentElement||r===document.body){d.preventDefault();return}r.scrollHeight===r.clientHeight&&r.scrollWidth===r.clientWidth&&d.preventDefault()},n=()=>{e&&e()},a=d=>{let f=d.target;Mn(f)&&(s(),f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",fe&&(fe.height<window.innerHeight?requestAnimationFrame(()=>{Ae(f)}):fe.addEventListener("resize",()=>Ae(f),{once:!0}))}))},l=null,s=()=>{if(l)return;let d=()=>{window.scrollTo(0,0)},f=window.pageXOffset,$=window.pageYOffset;l=be(G(window,"scroll",d),I(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),I(document.documentElement,"overflow","hidden"),I(document.body,"marginTop",`-${$}px`),()=>{window.scrollTo(f,$)}),window.scrollTo(0,0)},u=be(G(document,"touchstart",t,{passive:!1,capture:!0}),G(document,"touchmove",o,{passive:!1,capture:!0}),G(document,"touchend",n,{passive:!1,capture:!0}),G(document,"focus",a,!0));return()=>{e==null||e(),l==null||l(),u()}}function I(r,e,t){let o=r.style[e];return r.style[e]=t,()=>{r.style[e]=o}}function G(r,e,t,o){return r.addEventListener(e,t,o),()=>{r.removeEventListener(e,t,o)}}function Ae(r){let e=document.scrollingElement||document.documentElement,t=r;for(;t&&t!==e;){let o=je(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let n=o.getBoundingClientRect().top,a=t.getBoundingClientRect().top;a>n+t.clientHeight&&(o.scrollTop+=a-n)}t=o.parentElement}}function Mn(r){return r instanceof HTMLInputElement&&!Pn.has(r.type)||r instanceof HTMLTextAreaElement||r instanceof HTMLElement&&r.isContentEditable}var Ge={};Ge={dismiss:"تجاهل"};var Xe={};Xe={dismiss:"Отхвърляне"};var Ye={};Ye={dismiss:"Odstranit"};var qe={};qe={dismiss:"Luk"};var Ze={};Ze={dismiss:"Schließen"};var Je={};Je={dismiss:"Απόρριψη"};var Qe={};Qe={dismiss:"Dismiss"};var et={};et={dismiss:"Descartar"};var tt={};tt={dismiss:"Lõpeta"};var rt={};rt={dismiss:"Hylkää"};var nt={};nt={dismiss:"Rejeter"};var ot={};ot={dismiss:"התעלם"};var at={};at={dismiss:"Odbaci"};var lt={};lt={dismiss:"Elutasítás"};var st={};st={dismiss:"Ignora"};var ut={};ut={dismiss:"閉じる"};var it={};it={dismiss:"무시"};var ct={};ct={dismiss:"Atmesti"};var dt={};dt={dismiss:"Nerādīt"};var ft={};ft={dismiss:"Lukk"};var pt={};pt={dismiss:"Negeren"};var bt={};bt={dismiss:"Zignoruj"};var $t={};$t={dismiss:"Descartar"};var gt={};gt={dismiss:"Dispensar"};var mt={};mt={dismiss:"Revocare"};var vt={};vt={dismiss:"Пропустить"};var xt={};xt={dismiss:"Zrušiť"};var yt={};yt={dismiss:"Opusti"};var ht={};ht={dismiss:"Odbaci"};var Pt={};Pt={dismiss:"Avvisa"};var Et={};Et={dismiss:"Kapat"};var Ct={};Ct={dismiss:"Скасувати"};var Dt={};Dt={dismiss:"取消"};var Mt={};Mt={dismiss:"關閉"};var kt={};kt={"ar-AE":Ge,"bg-BG":Xe,"cs-CZ":Ye,"da-DK":qe,"de-DE":Ze,"el-GR":Je,"en-US":Qe,"es-ES":et,"et-EE":tt,"fi-FI":rt,"fr-FR":nt,"he-IL":ot,"hr-HR":at,"hu-HU":lt,"it-IT":st,"ja-JP":ut,"ko-KR":it,"lt-LT":ct,"lv-LV":dt,"nb-NO":ft,"nl-NL":pt,"pl-PL":bt,"pt-BR":$t,"pt-PT":gt,"ro-RO":mt,"ru-RU":vt,"sk-SK":xt,"sl-SI":yt,"sr-SP":ht,"sv-SE":Pt,"tr-TR":Et,"uk-UA":Ct,"zh-CN":Dt,"zh-TW":Mt};function kn(r){return r&&r.__esModule?r.default:r}function Te(r){let{onDismiss:e,...t}=r,o=Ue(kn(kt),"@react-aria/overlays"),n=vn(t,o.format("dismiss")),a=()=>{e&&e()};return x.createElement(xn,null,x.createElement("button",{...n,tabIndex:-1,onClick:a,style:{width:1,height:1}}))}const Sn=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let X=new WeakMap,S=[];function wn(r,e){let t=en(r==null?void 0:r[0]),o=e instanceof t.Element?{root:e}:e;var n;let a=(n=o==null?void 0:o.root)!==null&&n!==void 0?n:document.body,l=(o==null?void 0:o.shouldUseInert)&&Sn,s=new Set(r),u=new Set,d=b=>l&&b instanceof t.HTMLElement?b.inert:b.getAttribute("aria-hidden")==="true",f=(b,y)=>{l&&b instanceof t.HTMLElement?b.inert=y:y?b.setAttribute("aria-hidden","true"):(b.removeAttribute("aria-hidden"),b instanceof t.HTMLElement&&(b.inert=!1))},$=b=>{for(let h of b.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))s.add(h);let y=h=>{if(u.has(h)||s.has(h)||h.parentElement&&u.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let A of s)if(h.contains(A))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},v=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,{acceptNode:y}),k=y(b);if(k===NodeFilter.FILTER_ACCEPT&&m(b),k!==NodeFilter.FILTER_REJECT){let h=v.nextNode();for(;h!=null;)m(h),h=v.nextNode()}},m=b=>{var y;let v=(y=X.get(b))!==null&&y!==void 0?y:0;d(b)&&v===0||(v===0&&f(b,!0),u.add(b),X.set(b,v+1))};S.length&&S[S.length-1].disconnect(),$(a);let c=new MutationObserver(b=>{for(let y of b)if(y.type==="childList"&&![...s,...u].some(v=>v.contains(y.target)))for(let v of y.addedNodes)(v instanceof HTMLElement||v instanceof SVGElement)&&(v.dataset.liveAnnouncer==="true"||v.dataset.reactAriaTopLayer==="true")?s.add(v):v instanceof Element&&$(v)});c.observe(a,{childList:!0,subtree:!0});let p={visibleNodes:s,hiddenNodes:u,observe(){c.observe(a,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return S.push(p),()=>{c.disconnect();for(let b of u){let y=X.get(b);y!=null&&(y===1?(f(b,!1),X.delete(b)):X.set(b,y-1))}p===S[S.length-1]?(S.pop(),S.length&&S[S.length-1].observe()):S.splice(S.indexOf(p),1)}}function An(r){let e=S[S.length-1];if(e&&!e.visibleNodes.has(r))return e.visibleNodes.add(r),()=>{e.visibleNodes.delete(r)}}function Tn(r,e){let{triggerRef:t,popoverRef:o,groupRef:n,isNonModal:a,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:s,...u}=r,d=u.trigger==="SubmenuTrigger",{overlayProps:f,underlayProps:$}=hn({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!a||d,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:s},n??o),{overlayProps:m,arrowProps:c,placement:p,triggerAnchorPoint:b}=Tr({...u,targetRef:t,overlayRef:o,isOpen:e.isOpen,onClose:a&&!d?e.close:null});return En({isDisabled:a||!e.isOpen}),i.useEffect(()=>{if(e.isOpen&&o.current){var y,v;return a?An((y=n==null?void 0:n.current)!==null&&y!==void 0?y:o.current):wn([(v=n==null?void 0:n.current)!==null&&v!==void 0?v:o.current],{shouldUseInert:!0})}},[a,e.isOpen,o,n]),{popoverProps:F(f,m),arrowProps:c,underlayProps:$,placement:p,triggerAnchorPoint:b}}const St=x.createContext(null);function Be(r){let e=Yr(),{portalContainer:t=e?null:document.body,isExiting:o}=r,[n,a]=i.useState(!1),l=i.useMemo(()=>({contain:n,setContain:a}),[n,a]),{getContainer:s}=Br();if(!r.portalContainer&&s&&(t=s()),!t)return null;let u=r.children;return r.disableFocusManagement||(u=x.createElement(Ve,{restoreFocus:!0,contain:(r.shouldContainFocus||n)&&!o},u)),u=x.createElement(St.Provider,{value:l},x.createElement(fn,null,u)),gn.createPortal(u,t)}function Bn(){let r=i.useContext(St),e=r==null?void 0:r.setContain;le(()=>{e==null||e(!0)},[e])}var wt={};wt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var At={};At={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Tt={};Tt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Bt={};Bt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Rt={};Rt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Ft={};Ft={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Ot={};Ot={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Kt={};Kt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var It={};It={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Lt={};Lt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Nt={};Nt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var _t={};_t={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ht={};Ht={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var zt={};zt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Ut={};Ut={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Vt={};Vt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var jt={};jt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Wt={};Wt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Gt={};Gt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Xt={};Xt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Yt={};Yt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var qt={};qt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Zt={};Zt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Jt={};Jt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Qt={};Qt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var er={};er={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var tr={};tr={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var rr={};rr={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var nr={};nr={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var or={};or={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var ar={};ar={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var lr={};lr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var sr={};sr={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ur={};ur={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ir={};ir={"ar-AE":wt,"bg-BG":At,"cs-CZ":Tt,"da-DK":Bt,"de-DE":Rt,"el-GR":Ft,"en-US":Ot,"es-ES":Kt,"et-EE":It,"fi-FI":Lt,"fr-FR":Nt,"he-IL":_t,"hr-HR":Ht,"hu-HU":zt,"it-IT":Ut,"ja-JP":Vt,"ko-KR":jt,"lt-LT":Wt,"lv-LV":Gt,"nb-NO":Xt,"nl-NL":Yt,"pl-PL":qt,"pt-BR":Zt,"pt-PT":Jt,"ro-RO":Qt,"ru-RU":er,"sk-SK":tr,"sl-SI":rr,"sr-SP":nr,"sv-SE":or,"tr-TR":ar,"uk-UA":lr,"zh-CN":sr,"zh-TW":ur};function Rn(r){return r&&r.__esModule?r.default:r}function Fn(r,e,t){let{type:o="menu",isDisabled:n,trigger:a="press"}=r,l=z(),{triggerProps:s,overlayProps:u}=We({type:o},e,t),d=c=>{if(!n&&!(a==="longPress"&&!c.altKey)&&t&&t.current)switch(c.key){case"Enter":case" ":if(a==="longPress"||c.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("last");break;default:"continuePropagation"in c&&c.continuePropagation()}},f=Ue(Rn(ir),"@react-aria/menu"),{longPressProps:$}=un({isDisabled:n||a!=="longPress",accessibilityDescription:f.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),m={preventFocusOnPress:!0,onPressStart(c){c.pointerType!=="touch"&&c.pointerType!=="keyboard"&&!n&&(K(c.target),e.open(c.pointerType==="virtual"?"first":null))},onPress(c){c.pointerType==="touch"&&!n&&(K(c.target),e.toggle())}};return delete s.onPress,{menuTriggerProps:{...s,...a==="press"?m:$,id:l,onKeyDown:d},menuProps:{...u,"aria-labelledby":l,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const cr=new WeakMap;function On(r,e,t){let{shouldFocusWrap:o=!0,onKeyDown:n,onKeyUp:a,...l}=r;!r["aria-label"]&&r["aria-labelledby"];let s=O(r,{labelable:!0}),{listProps:u}=jr({...l,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return cr.set(e,{onClose:r.onClose,onAction:r.onAction,shouldUseVirtualFocus:r.shouldUseVirtualFocus}),{menuProps:F(s,{onKeyDown:n,onKeyUp:a},{role:"menu",...u,onKeyDown:d=>{var f;(d.key!=="Escape"||r.shouldUseVirtualFocus)&&((f=u.onKeyDown)===null||f===void 0||f.call(u,d))}})}}function Kn(r,e,t){let{id:o,key:n,closeOnSelect:a,isVirtualized:l,"aria-haspopup":s,onPressStart:u,onPressUp:d,onPress:f,onPressChange:$,onPressEnd:m,onClick:c,onHoverStart:p,onHoverChange:b,onHoverEnd:y,onKeyDown:v,onKeyUp:k,onFocus:h,onFocusChange:A,onBlur:B,selectionManager:C=e.selectionManager}=r,E=!!s,g=E&&r["aria-expanded"]==="true";var D;let w=(D=r.isDisabled)!==null&&D!==void 0?D:C.isDisabled(n);var N;let Q=(N=r.isSelected)!==null&&N!==void 0?N:C.isSelected(n),R=cr.get(e),M=e.collection.getItem(n),V=r.onClose||R.onClose,j=tn(),gr=()=>{var P;if(!E&&(!(M==null||(P=M.props)===null||P===void 0)&&P.onAction?M.props.onAction():r.onAction&&r.onAction(n),R.onAction)){let W=R.onAction;W(n)}},ie="menuitem";E||(C.selectionMode==="single"?ie="menuitemradio":C.selectionMode==="multiple"&&(ie="menuitemcheckbox"));let he=ne(),Pe=ne(),Ee=ne(),ee={id:o,"aria-disabled":w||void 0,role:ie,"aria-label":r["aria-label"],"aria-labelledby":he,"aria-describedby":[Pe,Ee].filter(Boolean).join(" ")||void 0,"aria-controls":r["aria-controls"],"aria-haspopup":s,"aria-expanded":r["aria-expanded"]};C.selectionMode!=="none"&&!E&&(ee["aria-checked"]=Q),l&&(ee["aria-posinset"]=M==null?void 0:M.index,ee["aria-setsize"]=Wr(e.collection));let Ce=i.useRef(!1),mr=P=>{$==null||$(P),Ce.current=P},_=i.useRef(null),vr=P=>{P.pointerType!=="keyboard"&&(_.current={pointerType:P.pointerType}),P.pointerType==="mouse"&&(Ce.current||P.target.click()),d==null||d(P)},xr=P=>{var W,ce;c==null||c(P),gr(),ln(P,j,M.props.href,M==null?void 0:M.props.routerOptions);let de=((W=_.current)===null||W===void 0?void 0:W.pointerType)==="keyboard"?((ce=_.current)===null||ce===void 0?void 0:ce.key)==="Enter"||C.selectionMode==="none"||C.isLink(n):C.selectionMode!=="multiple"||C.isLink(n);de=a??de,V&&!E&&de&&V(),_.current=null},{itemProps:H,isFocused:De}=cn({id:o,selectionManager:C,key:n,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:R.shouldUseVirtualFocus}),{pressProps:yr,isPressed:hr}=rn({onPressStart:u,onPress:f,onPressUp:vr,onPressChange:mr,onPressEnd:m,isDisabled:w}),{hoverProps:Pr}=Ne({isDisabled:w,onHoverStart(P){!Se()&&!(g&&s)&&(C.setFocused(!0),C.setFocusedKey(n)),p==null||p(P)},onHoverChange:b,onHoverEnd:y}),{keyboardProps:Er}=nn({onKeyDown:P=>{if(P.repeat){P.continuePropagation();return}switch(P.key){case" ":_.current={pointerType:"keyboard",key:" "},P.target.click();break;case"Enter":_.current={pointerType:"keyboard",key:"Enter"},P.target.tagName!=="A"&&P.target.click();break;default:E||P.continuePropagation(),v==null||v(P);break}},onKeyUp:k}),{focusProps:Cr}=on({onBlur:B,onFocus:h,onFocusChange:A}),Me=O(M==null?void 0:M.props);delete Me.id;let Dr=an(M==null?void 0:M.props);return{menuItemProps:{...ee,...F(Me,Dr,E?{onFocus:H.onFocus,"data-collection":H["data-collection"],"data-key":H["data-key"]}:H,yr,Pr,Er,Cr,R.shouldUseVirtualFocus||E?{onMouseDown:P=>P.preventDefault()}:void 0,w?void 0:{onClick:xr}),tabIndex:H.tabIndex!=null&&g&&!R.shouldUseVirtualFocus?-1:H.tabIndex},labelProps:{id:he},descriptionProps:{id:Pe},keyboardShortcutProps:{id:Ee},isFocused:De,isFocusVisible:De&&C.isFocused&&Se()&&!g,isSelected:Q,isPressed:hr,isDisabled:w}}function In(r){let{heading:e,"aria-label":t}=r,o=z();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?o:void 0}}}const re=2,Ln=50,Nn=1e3,Re=Math.PI/12;function _n(r){let{menuRef:e,submenuRef:t,isOpen:o,isDisabled:n}=r,a=i.useRef(void 0),l=i.useRef(void 0),s=i.useRef(0),u=i.useRef(void 0),d=i.useRef(void 0),f=i.useRef(void 0),$=i.useRef(2),[m,c]=i.useState(!1);ve({ref:t,onResize:()=>{t.current&&(l.current=t.current.getBoundingClientRect(),f.current=void 0)}});let b=()=>{c(!1),$.current=re,a.current=void 0},y=sn(),v=Y(k=>{m&&k.preventDefault()});i.useEffect(()=>{m&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,m]),i.useEffect(()=>{let k=t.current,h=e.current;if(n||!k||!o||y!=="pointer"||!h){b();return}l.current=k.getBoundingClientRect();let A=B=>{if(B.pointerType==="touch"||B.pointerType==="pen")return;let C=Date.now();if(C-s.current<Ln)return;clearTimeout(u.current),clearTimeout(d.current);let{clientX:E,clientY:g}=B;if(!a.current){a.current={x:E,y:g};return}if(!l.current)return;if(f.current||(f.current=E>l.current.right?"left":"right"),E<h.getBoundingClientRect().left||E>h.getBoundingClientRect().right||g<h.getBoundingClientRect().top||g>h.getBoundingClientRect().bottom){b();return}let D=a.current.x,w=a.current.y,N=f.current==="right"?l.current.left-D:D-l.current.right,Q=Math.atan2(w-l.current.top,N)+Re,R=Math.atan2(w-l.current.bottom,N)-Re,M=Math.atan2(w-g,f.current==="left"?-(E-D):E-D),V=M<Q&&M>R;$.current=V?Math.min($.current+1,re):Math.max($.current-1,0),$.current>=re?c(!0):c(!1),s.current=C,a.current={x:E,y:g},V&&(u.current=setTimeout(()=>{b(),d.current=setTimeout(()=>{let j=document.elementFromPoint(E,g);j&&h.contains(j)&&j.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},Nn))};return window.addEventListener("pointermove",A),window.addEventListener("pointerdown",v,!0),()=>{window.removeEventListener("pointermove",A),window.removeEventListener("pointerdown",v,!0),clearTimeout(u.current),clearTimeout(d.current),$.current=re}},[n,o,e,y,c,v,t])}function Hn(r,e,t){let{parentMenuRef:o,submenuRef:n,type:a="menu",isDisabled:l,delay:s=200,shouldUseVirtualFocus:u}=r,d=z(),f=z(),{direction:$}=Le(),m=i.useRef(void 0),c=i.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=void 0)},[m]),p=Y(g=>{c(),e.open(g)}),b=Y(()=>{c(),e.close()});le(()=>()=>{c()},[c]);let y=g=>{if(g.currentTarget.contains(document.activeElement))switch(g.key){case"ArrowLeft":$==="ltr"&&g.currentTarget.contains(g.target)&&(g.preventDefault(),g.stopPropagation(),b(),!u&&t.current&&K(t.current));break;case"ArrowRight":$==="rtl"&&g.currentTarget.contains(g.target)&&(g.preventDefault(),g.stopPropagation(),b(),!u&&t.current&&K(t.current));break;case"Escape":var D;!((D=n.current)===null||D===void 0)&&D.contains(g.target)&&(g.stopPropagation(),b(),!u&&t.current&&K(t.current));break}};var v;let k={id:f,"aria-labelledby":d,submenuLevel:e.submenuLevel,...a==="menu"&&{onClose:e.closeAll,autoFocus:(v=e.focusStrategy)!==null&&v!==void 0?v:void 0,onKeyDown:y}},h=g=>{switch(g.key){case"ArrowRight":l||($==="ltr"?(g.preventDefault(),e.isOpen||p("first"),a==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&K(n.current)):e.isOpen?b():g.continuePropagation());break;case"ArrowLeft":l||($==="rtl"?(g.preventDefault(),e.isOpen||p("first"),a==="menu"&&(n!=null&&n.current)&&document.activeElement===(t==null?void 0:t.current)&&K(n.current)):e.isOpen?b():g.continuePropagation());break;default:g.continuePropagation();break}},A=g=>{!l&&(g.pointerType==="virtual"||g.pointerType==="keyboard")&&p("first")},B=g=>{!l&&(g.pointerType==="touch"||g.pointerType==="mouse")&&p()},C=g=>{l||(g&&!e.isOpen?m.current||(m.current=setTimeout(()=>{p()},s)):g||c())};pn(o,"focusin",g=>{var D;e.isOpen&&(!((D=o.current)===null||D===void 0)&&D.contains(g.target))&&g.target!==t.current&&b()});let E=g=>g!==t.current;return _n({menuRef:o,submenuRef:n,isOpen:e.isOpen,isDisabled:l}),{submenuTriggerProps:{id:d,"aria-controls":e.isOpen?f:void 0,"aria-haspopup":l?void 0:a,"aria-expanded":e.isOpen?"true":"false",onPressStart:A,onPress:B,onHoverChange:C,onKeyDown:h,isOpen:e.isOpen},submenuProps:k,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:E}}}function zn(r,e){let{role:t="dialog"}=r,o=ne();o=r["aria-label"]?void 0:o;let n=i.useRef(!1);return i.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){ge(e.current);let a=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(n.current=!0,e.current&&(e.current.blur(),ge(e.current)),n.current=!1)},500);return()=>{clearTimeout(a)}}},[e]),Bn(),{dialogProps:{...O(r,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":r["aria-labelledby"]||o,onBlur:a=>{n.current&&a.stopPropagation()}},titleProps:{id:o}}}function xe(r){let e=Ke(r),[t,o]=i.useState(null),[n,a]=i.useState([]),l=()=>{a([]),e.close()};return{focusStrategy:t,...e,open(d=null){o(d),e.open()},toggle(d=null){o(d),e.toggle()},close(){l()},expandedKeysStack:n,openSubmenu:(d,f)=>{a($=>f>$.length?$:[...$.slice(0,f),d])},closeSubmenu:(d,f)=>{a($=>$[f]===d?$.slice(0,f):$)}}}function Un(r,e){let{triggerKey:t}=r,{expandedKeysStack:o,openSubmenu:n,closeSubmenu:a,close:l}=e,[s]=i.useState(o==null?void 0:o.length),u=i.useMemo(()=>o[s]===t,[o,t,s]),[d,f]=i.useState(null),$=i.useCallback(p=>{f(p??null),n(t,s)},[n,s,t]),m=i.useCallback(()=>{f(null),a(t,s)},[a,s,t]),c=i.useCallback(p=>{f(p??null),u?m():$(p)},[m,$,u]);return i.useMemo(()=>({focusStrategy:d,isOpen:u,open:$,close:m,closeAll:l,submenuLevel:s,setOpen:()=>{},toggle:c}),[u,$,m,l,d,c,s])}class Vn{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var o;return t&&(o=t.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let t=this.keyMap.get(e);var o;return t&&(o=t.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let o=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&(s.type==="section"||t.has(s.key)))for(let u of s.childNodes)o(u)};for(let s of e)o(s);let n=null,a=0;for(let[s,u]of this.keyMap)n?(n.nextKey=s,u.prevKey=n.key):(this.firstKey=s,u.prevKey=void 0),u.type==="item"&&(u.index=a++),n=u,n.nextKey=void 0;var l;this.lastKey=(l=n==null?void 0:n.key)!==null&&l!==void 0?l:null}}function jn(r){let{onExpandedChange:e}=r,[t,o]=bn(r.expandedKeys?new Set(r.expandedKeys):void 0,r.defaultExpandedKeys?new Set(r.defaultExpandedKeys):new Set,e),n=_e(r),a=i.useMemo(()=>r.disabledKeys?new Set(r.disabledKeys):new Set,[r.disabledKeys]),l=dn(r,i.useCallback(u=>new Vn(u,{expandedKeys:t}),[t]),null);return i.useEffect(()=>{n.focusedKey!=null&&!l.getItem(n.focusedKey)&&n.setFocusedKey(null)},[l,n.focusedKey]),{collection:l,expandedKeys:t,disabledKeys:a,toggleKey:u=>{o(Wn(t,u))},setExpandedKeys:o,selectionManager:new He(l,n)}}function Wn(r,e){let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}const se=i.createContext(null),Fe=i.createContext(null),xo=i.forwardRef(function(e,t){[e,t]=U(e,t,se);let o=i.useContext(J),n=Ke(e),a=e.isOpen!=null||e.defaultOpen!=null||!o?n:o,l=Rr(t,a.isOpen)||e.isExiting||!1,s=mn(),{direction:u}=Le();if(s){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),x.createElement(x.Fragment,null,d)}return a&&!a.isOpen&&!l?null:x.createElement(Gn,{...e,triggerRef:e.triggerRef,state:a,popoverRef:t,isExiting:l,dir:u})});function Gn({state:r,isExiting:e,UNSTABLE_portalContainer:t,clearContexts:o,...n}){let a=i.useRef(null),l=i.useRef(null),s=i.useContext(Fe),u=s&&n.trigger==="SubmenuTrigger";var d;let{popoverProps:f,underlayProps:$,arrowProps:m,placement:c,triggerAnchorPoint:p}=Tn({...n,offset:(d=n.offset)!==null&&d!==void 0?d:8,arrowRef:a,groupRef:u?s:l},r),b=n.popoverRef,y=Fr(b,!!c)||n.isEntering||!1,v=Z({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:c,isEntering:y,isExiting:e}}),k=!n.isNonModal||n.trigger==="SubmenuTrigger",[h,A]=i.useState(!1);le(()=>{b.current&&A(k&&!b.current.querySelector("[role=dialog]"))},[b,k]),i.useEffect(()=>{h&&n.trigger!=="SubmenuTrigger"&&b.current&&!b.current.contains(document.activeElement)&&ge(b.current)},[h,b,n.trigger]);let B=i.useMemo(()=>{let D=v.children;if(o)for(let w of o)D=x.createElement(w.Provider,{value:null},D);return D},[v.children,o]),C={...f.style,"--trigger-anchor-point":p?`${p.x}px ${p.y}px`:void 0,...v.style},E=x.createElement("div",{...F(O(n,{global:!0}),f),...v,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],ref:b,slot:n.slot||void 0,style:C,dir:n.dir,"data-trigger":n.trigger,"data-placement":c,"data-entering":y||void 0,"data-exiting":e||void 0},!n.isNonModal&&x.createElement(Te,{onDismiss:r.close}),x.createElement(Or.Provider,{value:{...m,placement:c,ref:a}},B),x.createElement(Te,{onDismiss:r.close}));if(!u)return x.createElement(Be,{...n,shouldContainFocus:h,isExiting:e,portalContainer:t},!n.isNonModal&&r.isOpen&&x.createElement("div",{"data-testid":"underlay",...$,style:{position:"fixed",inset:0}}),x.createElement("div",{ref:l,style:{display:"contents"}},x.createElement(Fe.Provider,{value:l},E)));var g;return x.createElement(Be,{...n,shouldContainFocus:h,isExiting:e,portalContainer:(g=t??(s==null?void 0:s.current))!==null&&g!==void 0?g:void 0},E)}const dr=i.createContext({}),yo=i.forwardRef(function(e,t){return[e,t]=U(e,t,dr),x.createElement("kbd",{dir:"ltr",...e,ref:t})}),ye=i.createContext(null),ue=i.createContext(null),q=i.createContext(null),oe=i.createContext(null);function ho(r){let e=xe(r),t=i.useRef(null),{menuTriggerProps:o,menuProps:n}=Fn({...r,type:"menu"},e,t),[a,l]=i.useState(null),s=i.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);ve({ref:t,onResize:s});let u=i.useRef(null);return x.createElement(L,{values:[[ye,{...n,ref:u}],[J,e],[q,e],[se,{trigger:"MenuTrigger",triggerRef:t,scrollRef:u,placement:"bottom start",style:{"--trigger-width":a},"aria-labelledby":n["aria-labelledby"]}]]},x.createElement(ze,{...o,ref:t,isPressed:e.isOpen},r.children))}const fr=i.createContext(null);class pr extends Ur{filter(e,t,o){let n=e.getItem(this.firstChildKey);if(n&&o(n.textValue,this)){let a=this.clone();return t.addDescendants(a,e),a}return null}}pr.type="submenutrigger";const Po=Ie(pr,(r,e,t)=>{let{CollectionBranch:o}=i.useContext(me),n=i.useContext(ue),a=i.useContext(q),l=Un({triggerKey:t.key},a),s=i.useRef(null),u=Oe(e),{parentMenuRef:d,shouldUseVirtualFocus:f}=i.useContext(fr),{submenuTriggerProps:$,submenuProps:m,popoverProps:c}=Hn({parentMenuRef:d,submenuRef:s,delay:r.delay,shouldUseVirtualFocus:f},l,u);return x.createElement(L,{values:[[ae,{...$,onAction:void 0,ref:u}],[ye,{ref:s,...m}],[J,l],[se,{trigger:"SubmenuTrigger",triggerRef:u,placement:"end top","aria-labelledby":m["aria-labelledby"],...c}]]},x.createElement(o,{collection:n.collection,parent:t}),r.children[1])},r=>r.children[0]),Eo=i.forwardRef(function(e,t){return[e,t]=U(e,t,ye),x.createElement(Lr,{content:x.createElement(Nr,e)},o=>x.createElement(Xn,{props:e,collection:o,menuRef:t}))});function Xn({props:r,collection:e,menuRef:t}){[r,t]=U(r,t,ke);let{filter:o,...n}=r,a=i.useMemo(()=>o?e.filter(o):e,[e,o]),l=jn({...r,collection:a,children:void 0}),s=i.useContext(q),{isVirtualized:u,CollectionRoot:d}=i.useContext(me),{menuProps:f}=On({...r,isVirtualized:u,onClose:r.onClose||(s==null?void 0:s.close)},l,t),$=Z({defaultClassName:"react-aria-Menu",className:r.className,style:r.style,values:{isEmpty:l.collection.size===0}}),m=null;l.collection.size===0&&r.renderEmptyState&&(m=x.createElement("div",{role:"menuitem",style:{display:"contents"}},r.renderEmptyState()));let c=O(r,{global:!0});return x.createElement(Ve,null,x.createElement("div",{...F(c,$,f),ref:t,slot:r.slot||void 0,"data-empty":l.collection.size===0||void 0,onScroll:r.onScroll},x.createElement(L,{values:[[ue,l],[Gr,{elementType:"div"}],[_r,{name:"MenuSection",render:br}],[fr,{parentMenuRef:t,shouldUseVirtualFocus:n==null?void 0:n.shouldUseVirtualFocus}],[ae,null],[ke,null],[Vr,null],[oe,l.selectionManager],[q,s??xe({})]]},x.createElement(d,{collection:l.collection,persistedKeys:Hr(l.selectionManager.focusedKey),scrollRef:t})),m))}class Yn extends He{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function br(r,e,t,o="react-aria-MenuSection"){var n,a;let l=i.useContext(ue),{CollectionBranch:s}=i.useContext(me),[u,d]=Sr();var f;let{headingProps:$,groupProps:m}=In({heading:d,"aria-label":(f=t.props["aria-label"])!==null&&f!==void 0?f:void 0}),c=Z({defaultClassName:o,className:(n=t.props)===null||n===void 0?void 0:n.className,style:(a=t.props)===null||a===void 0?void 0:a.style,values:{}}),p=i.useContext(oe),b=_e(r),y=r.selectionMode!=null?new Yn(p,b):p,v=O(r,{global:!0});return delete v.id,x.createElement("section",{...F(v,c,m),ref:e},x.createElement(L,{values:[[Xr,{...$,ref:u}],[oe,y]]},x.createElement(s,{collection:l.collection,parent:t})))}const Co=Ie(zr,br),ae=i.createContext(null),Do=Kr(Ir,function(e,t,o){var n;[e,t]=U(e,t,ae);let a=(n=kr(ae))===null||n===void 0?void 0:n.id,l=i.useContext(ue),s=Oe(t),u=i.useContext(oe),{menuItemProps:d,labelProps:f,descriptionProps:$,keyboardShortcutProps:m,...c}=Kn({...e,id:a,key:o.key,selectionManager:u},l,s),{hoverProps:p,isHovered:b}=Ne({isDisabled:c.isDisabled}),y=Z({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...c,isHovered:b,isFocusVisible:c.isFocusVisible,selectionMode:u.selectionMode,selectionBehavior:u.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),v=e.href?"a":"div",k=O(e,{global:!0});return delete k.id,delete k.onClick,x.createElement(v,{...F(k,y,d,p),ref:s,"data-disabled":c.isDisabled||void 0,"data-hovered":b||void 0,"data-focused":c.isFocused||void 0,"data-focus-visible":c.isFocusVisible||void 0,"data-pressed":c.isPressed||void 0,"data-selected":c.isSelected||void 0,"data-selection-mode":u.selectionMode==="none"?void 0:u.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},x.createElement(L,{values:[[qr,{slots:{[$e]:f,label:f,description:$}}],[dr,m]]},y.children))}),$r=i.createContext(null),J=i.createContext(null);function Mo(r){let e=xe(r),t=i.useRef(null),{triggerProps:o,overlayProps:n}=We({type:"dialog"},e,t),[a,l]=i.useState(null),s=i.useCallback(()=>{t.current&&l(t.current.offsetWidth+"px")},[t]);return ve({ref:t,onResize:s}),o.id=z(),n["aria-labelledby"]=o.id,x.createElement(L,{values:[[J,e],[q,e],[$r,n],[se,{trigger:"DialogTrigger",triggerRef:t,"aria-labelledby":n["aria-labelledby"],style:{"--trigger-width":a}}]]},x.createElement(ze,{...o,ref:t,isPressed:e.isOpen},r.children))}const ko=i.forwardRef(function(e,t){let o=e["aria-labelledby"];[e,t]=U(e,t,$r);let{dialogProps:n,titleProps:a}=zn({...e,"aria-labelledby":o},t),l=i.useContext(J);!n["aria-label"]&&!n["aria-labelledby"]&&e["aria-labelledby"]&&(n["aria-labelledby"]=e["aria-labelledby"]);let s=Z({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(l==null?void 0:l.close)||(()=>{})}}),u=O(e,{global:!0});return x.createElement("section",{...F(u,s,n),ref:t,slot:e.slot||void 0},x.createElement(L,{values:[[wr,{slots:{[$e]:{},title:{...a,level:2}}}],[Mr,{slots:{[$e]:{},close:{onPress:()=>l==null?void 0:l.close()}}}]]},s.children))});export{Mo as $,Do as a,ho as b,xo as c,Eo as d,Co as e,yo as f,Po as g,hn as h,En as i,Bn as j,wn as k,J as l,Te as m,Be as n,ko as o,se as p,$r as q,Fn as r,xe as s};
