import{j as p}from"./jsx-runtime-BYYWji4R.js";import{i as V}from"./icon-map-yTTVA-eu.js";import{r as o,R as m}from"./index-ClcD9ViR.js";import{e as P}from"./Button-v_l_ujRb.js";import{e as g,d as K,$ as q,a as $,k as D,m as B,b as M,n as j}from"./utils-RHx87K0F.js";import{a as k,c as v}from"./useFocusRing-zhkOjX4v.js";import{$ as w}from"./useControlledState-H1tiOFpU.js";import{r as W}from"./index-DQEgcCId.js";import{$ as T}from"./useEvent-D_ha2BWP.js";import{$ as F}from"./SSRProvider-BhYbDCf7.js";import{c as E}from"./clsx-B-dksMZM.js";import{B as z}from"./Button-DfSGs0C5.js";import{C as H}from"./chevron-down-CPcpcOqy.js";import{H as G}from"./Heading-BoF7e6SQ.js";function L(s,e,a){let{isDisabled:t}=s,n=g(),d=g(),c=!F()&&"onbeforematch"in document.body,l=o.useRef(null),u=o.useCallback(()=>{l.current=requestAnimationFrame(()=>{a.current&&a.current.setAttribute("hidden","until-found")}),W.flushSync(()=>{e.toggle()})},[a,e]);return T(a,"beforematch",c?u:null),K(()=>{l.current&&cancelAnimationFrame(l.current),c&&a.current&&!t&&(e.isExpanded?a.current.removeAttribute("hidden"):a.current.setAttribute("hidden","until-found"))},[t,a,e.isExpanded,c]),o.useEffect(()=>()=>{l.current&&cancelAnimationFrame(l.current)},[]),{buttonProps:{id:n,"aria-expanded":e.isExpanded,"aria-controls":d,onPress:f=>{!t&&f.pointerType!=="keyboard"&&e.toggle()},isDisabled:t,onPressStart(f){f.pointerType==="keyboard"&&!t&&e.toggle()}},panelProps:{id:d,role:"group","aria-labelledby":n,"aria-hidden":!e.isExpanded,hidden:c?!0:!e.isExpanded}}}function U(s){let[e,a]=w(s.isExpanded,s.defaultExpanded||!1,s.onExpandedChange);const t=o.useCallback(()=>{a(!0)},[a]),n=o.useCallback(()=>{a(!1)},[a]),d=o.useCallback(()=>{a(!e)},[a,e]);return{isExpanded:e,setExpanded:a,expand:t,collapse:n,toggle:d}}function O(s){let{allowsMultipleExpanded:e=!1,isDisabled:a=!1}=s,[t,n]=w(o.useMemo(()=>s.expandedKeys?new Set(s.expandedKeys):void 0,[s.expandedKeys]),o.useMemo(()=>s.defaultExpandedKeys?new Set(s.defaultExpandedKeys):new Set,[s.defaultExpandedKeys]),s.onExpandedChange);return o.useEffect(()=>{if(!e&&t.size>1){let d=t.values().next().value;d!=null&&n(new Set([d]))}}),{allowsMultipleExpanded:e,isDisabled:a,expandedKeys:t,setExpandedKeys:n,toggleKey(d){let i;e?(i=new Set(t),i.has(d)?i.delete(d):i.add(d)):i=new Set(t.has(d)?[]:[d]),n(i)}}}const S=o.createContext(null),Ie=o.forwardRef(function(e,a){let t=O(e),n=$({...e,defaultClassName:"react-aria-DisclosureGroup",values:{isDisabled:t.isDisabled,state:t}}),d=v(e);return m.createElement("div",{...d,...n,ref:a,"data-disabled":e.isDisabled||void 0},m.createElement(S.Provider,{value:t},n.children))}),J=o.createContext(null),Q=o.createContext(null),I=o.createContext(null),X=o.forwardRef(function(e,a){[e,a]=q(e,a,J);let t=o.useContext(S),{id:n,...d}=e,i=g();n||(n=i);let c=t?t.expandedKeys.has(n):e.isExpanded,l=U({...e,isExpanded:c,onExpandedChange(R){var b;t&&t.toggleKey(n),(b=e.onExpandedChange)===null||b===void 0||b.call(e,R)}}),u=m.useRef(null),f=e.isDisabled||(t==null?void 0:t.isDisabled)||!1,{buttonProps:h,panelProps:x}=L({...e,isExpanded:c,isDisabled:f},l,u),{isFocusVisible:_,focusProps:N}=k({within:!0}),y=$({...e,id:void 0,defaultClassName:"react-aria-Disclosure",values:{isExpanded:l.isExpanded,isDisabled:f,isFocusVisibleWithin:_,state:l}}),A=v(d);return m.createElement(D,{values:[[P,{slots:{[B]:{},trigger:h}}],[I,{panelProps:x,panelRef:u}],[Q,l]]},m.createElement("div",{ref:a,"data-expanded":l.isExpanded||void 0,"data-disabled":f||void 0,"data-focus-visible-within":_||void 0,...A,...N,...y},y.children))}),Y=o.forwardRef(function(e,a){let{role:t="group"}=e,{panelProps:n,panelRef:d}=o.useContext(I),{isFocusVisible:i,focusProps:c}=k({within:!0}),l=$({...e,defaultClassName:"react-aria-DisclosurePanel",values:{isFocusVisibleWithin:i}}),u=v(e);return m.createElement("div",{...u,ref:j(a,d),...M(n,c),...l,role:t,"data-focus-visible-within":i||void 0},m.createElement(D,{values:[[P,null]]},e.children))}),Z=o.createContext(void 0),ee="_item_17kc4_1",te="_contained_17kc4_16",ae="_success_17kc4_26",ne="_warning_17kc4_35",se="_info_17kc4_44",de="_important_17kc4_51",oe="_triggerButton_17kc4_65",le="_triggerText_17kc4_69",ie="_trigger_17kc4_65",re="_triggerMainContent_17kc4_80",ce="_chevronIcon_17kc4_97",ue="_statusIcon_17kc4_103",fe="_panel_17kc4_117",pe="_content_17kc4_131",me="_hasBackground_17kc4_136",he="_header_17kc4_140",r={item:ee,contained:te,success:ae,warning:ne,info:se,important:de,triggerButton:oe,triggerText:le,trigger:ie,triggerMainContent:re,chevronIcon:ce,statusIcon:ue,panel:fe,content:pe,hasBackground:me,header:he},C=({title:s,children:e,className:a,headingLevel:t="h2",type:n,hasBackground:d=!0,isContained:i,...c})=>{const l=o.useContext(Z),u=i??(l==null?void 0:l.isContained)??!1,f=typeof s=="object";o.useEffect(()=>{n&&!u&&console.warn("AccordionItem: When 'type' is set, it is recommended to also set 'isContained' to true for visual consistency.")},[n,u]);const h=n?V[n]:null,x=h?p.jsx(h,{size:20,className:r.statusIcon}):null;return p.jsxs(X,{...c,className:E(r.item,n&&r[n],u&&r.contained,a),children:[p.jsx("div",{className:r.trigger,children:p.jsxs(z,{className:r.triggerButton,slot:"trigger",variant:"icon",children:[p.jsx(H,{size:20,className:r.chevronIcon}),p.jsx("div",{className:r.triggerMainContent,children:f?s:p.jsx(G,{level:3,elementType:t,className:r.triggerText,children:s})}),x]})}),p.jsx(Y,{className:r.panel,children:p.jsx("div",{className:E(r.content,d&&r.hasBackground),children:e})})]})};try{C.displayName="AccordionItem",C.__docgenInfo={description:"",displayName:"AccordionItem",props:{title:{defaultValue:null,description:"The text displayed in the collapsed state. If a ReactNode is provided, a heading will not be automatically added, and you must provide one yourself.",name:"title",required:!1,type:{name:"ReactNode"}},headingLevel:{defaultValue:{value:"h2"},description:"Adjust the heading level of the title to match your document's heading tag structure",name:"headingLevel",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'}]}},type:{defaultValue:null,description:"Display an accordion item with different type styles.",name:"type",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"info"'},{value:'"important"'},{value:'"warning"'}]}},hasBackground:{defaultValue:{value:"true"},description:"Adds a background element to the content, set to false for a transparent look",name:"hasBackground",required:!1,type:{name:"boolean"}},isContained:{defaultValue:null,description:"",name:"isContained",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: DisclosureRenderProps & { defaultClassName: string; }) => string)"}},isDisabled:{defaultValue:null,description:"Whether the disclosure is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"An id for the disclosure when used within a DisclosureGroup, matching the id used in `expandedKeys`.",name:"id",required:!1,type:{name:"Key"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: DisclosureRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},onExpandedChange:{defaultValue:null,description:"Handler that is called when the disclosure's expanded state changes.",name:"onExpandedChange",required:!1,type:{name:"(isExpanded: boolean) => void"}},isExpanded:{defaultValue:null,description:"Whether the disclosure is expanded (controlled).",name:"isExpanded",required:!1,type:{name:"boolean"}},defaultExpanded:{defaultValue:null,description:"Whether the disclosure is expanded by default (uncontrolled).",name:"defaultExpanded",required:!1,type:{name:"boolean"}}}}}catch{}export{Ie as $,C as A,Z as a};
