import{j as s}from"./jsx-runtime-CfatFE5O.js";import{r as f,R as $}from"./index-ClcD9ViR.js";import{a as B,b as A,c as W,d as D,e as M,f as k}from"./Form-Bv9Hrtjx.js";import{l as O,n as I,r as L,c as R,a as T,d as V,e as w,f as C,E as z,D as U,F as G,C as J}from"./useFocusable-CI7IKKVh.js";import{$ as K}from"./Hidden-Cj803rEv.js";import{a as Q,b as X,c as Y}from"./Label-CyV7_vzg.js";import{a as Z,$ as S}from"./Text-B5xeh108.js";import{$ as ee}from"./useControlledState-CccRFgkZ.js";import{B as ae}from"./Button-8w4FZVcD.js";import"./ButtonGroup-DkdsXccL.js";import{c as te}from"./clsx-B-dksMZM.js";function ne(e,a){let{inputElementType:n="input",isDisabled:t=!1,isRequired:i=!1,isReadOnly:r=!1,type:u="text",validationBehavior:o="aria"}=e,[l,m]=ee(e.value,e.defaultValue||"",e.onChange),{focusableProps:b}=O(e,a),v=B({...e,value:l}),{isInvalid:p,validationErrors:d,validationDetails:h}=v.displayValidation,{labelProps:x,fieldProps:y,descriptionProps:P,errorMessageProps:_}=Q({...e,isInvalid:p,errorMessage:e.errorMessage||d}),g=I(e,{labelable:!0});const j={type:u,pattern:e.pattern};return A(a,l,m),W(e,v,a),f.useEffect(()=>{if(a.current instanceof L(a.current).HTMLTextAreaElement){let E=a.current;Object.defineProperty(E,"defaultValue",{get:()=>E.value,set:()=>{},configurable:!0})}},[a]),{labelProps:x,inputProps:R(g,n==="input"?j:void 0,{disabled:t,readOnly:r,required:i&&o==="native","aria-required":i&&o==="aria"||void 0,"aria-invalid":p||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:l,onChange:E=>m(E.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...b,...y}),descriptionProps:P,errorMessageProps:_,isInvalid:p,validationErrors:d,validationDetails:h}}const N=f.createContext({});let ie=e=>{let{onHoverStart:a,onHoverChange:n,onHoverEnd:t,...i}=e;return i};function re(e,a){[e,a]=T(e,a,N);let{hoverProps:n,isHovered:t}=V(e),{isFocused:i,isFocusVisible:r,focusProps:u}=w({isTextInput:!0,autoFocus:e.autoFocus}),o=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",l=C({...e,values:{isHovered:t,isFocused:i,isFocusVisible:r,isDisabled:e.disabled||!1,isInvalid:o},defaultClassName:"react-aria-Input"});return $.createElement("input",{...R(ie(e),u,n),...l,ref:a,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":r||void 0,"data-invalid":o||void 0})}const se=K(re),H=f.createContext({});let oe=e=>{let{onHoverStart:a,onHoverChange:n,onHoverEnd:t,...i}=e;return i};function le(e,a){[e,a]=T(e,a,H);let{hoverProps:n,isHovered:t}=V(e),{isFocused:i,isFocusVisible:r,focusProps:u}=w({isTextInput:!0,autoFocus:e.autoFocus}),o=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",l=C({...e,values:{isHovered:t,isFocused:i,isFocusVisible:r,isDisabled:e.disabled||!1,isInvalid:o},defaultClassName:"react-aria-TextArea"});return $.createElement("textarea",{...R(oe(e),u,n),...l,ref:a,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":r||void 0,"data-invalid":o||void 0})}const Je=f.forwardRef(le),de=f.createContext(null);function ce(e,a){[e,a]=T(e,a,de);let{validationBehavior:n}=z(D)||{};var t,i;let r=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:n)!==null&&i!==void 0?i:"native",u=f.useRef(null),[o,l]=U(),[m,b]=f.useState("input"),{labelProps:v,inputProps:p,descriptionProps:d,errorMessageProps:h,...x}=ne({...G(e),inputElementType:m,label:l,validationBehavior:r},u),y=f.useCallback(g=>{u.current=g,g&&b(g instanceof HTMLTextAreaElement?"textarea":"input")},[]),P=C({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:x.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),_=I(e);return delete _.id,$.createElement("div",{..._,...P,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":x.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},$.createElement(J,{values:[[X,{...v,ref:o}],[N,{...p,ref:y}],[H,{...p,ref:y}],[Z,{slots:{description:d,errorMessage:h}}],[M,x]]},P.children))}const ue=f.forwardRef(ce),fe='"../../../theme/src/lib/tokens.css"',pe='"Inter", sans-serif',me="#ffdfdf",be="#f2f2f2",ve="#e6e6e6",$e="#bfbfbf",he="#000000",xe="#e62323",ge="500",ye="400",Pe="#1f1f1f",_e="0 0 0 2px #ffffff, 0 0 0 4px #000000",Ee="_inputField_socrq_4",qe="_inputWrapper_socrq_12",Re="_label_socrq_30",Te="_text_socrq_36",Ce="_fieldError_socrq_42",Fe="_passwordText_socrq_66",Ie="_count_socrq_79",Ve="_countExceeded_socrq_87",we="_input_socrq_4",Se="_wrap_socrq_130",Ne="_passwordButton_socrq_135",c={tokens:fe,display:pe,signalRed10:me,gray10:be,gray20:ve,gray50:$e,black:he,signalRed100:xe,mediumWeight:ge,regularWeight:ye,inputText:Pe,focus:_e,inputField:Ee,inputWrapper:qe,label:Re,text:Te,fieldError:Ce,passwordText:Fe,count:Ie,countExceeded:Ve,input:we,wrap:Se,passwordButton:Ne},F=({label:e,description:a,errorMessage:n,validationType:t,validate:i,maxCharacters:r,showCounter:u,...o})=>{const[l,m]=$.useState(""),b=d=>{const h=d.target.value;m(h)},v=d=>t==="ssn"?je.test(d)?null:"Felaktigt personnummer":t instanceof RegExp?new RegExp(t).test(d)?null:n==null?void 0:n.toString():r?r&&d.length>r?`Du har angett ${d.length-r} tecken för mycket. Fältet är begränsat till ${r} tecken.`:null:i?i(d):!0,p=()=>r?s.jsxs("span",{className:te(c.count,l.length>r&&c.countExceeded),children:[l.length," / ",r]}):u?s.jsx("span",{className:c.count,children:l.length}):null;return s.jsx(ue,{className:c.inputField,validate:v,...o,children:s.jsxs(q,{label:e,description:a,errorMessage:n,children:[s.jsx(p,{}),s.jsxs("div",{className:c.wrap,children:[s.jsx(se,{type:o.type,className:c.input,onChange:b,onBlur:b}),s.jsx(He,{type:o.type,input:l})]})]})})},He=({type:e,input:a})=>{const[n,t]=$.useState(!1);return e==="password"?s.jsxs(s.Fragment,{children:[n&&s.jsx(S,{slot:"description",className:c.passwordText,children:a}),s.jsx(ae,{variant:"tertiary",onPress:()=>t(!n),className:c.passwordButton,children:n?"Dölj":"Visa"})]}):null},q=({label:e,description:a,errorMessage:n,children:t})=>s.jsxs("div",{className:c.inputWrapper,children:[e&&s.jsx(Y,{className:c.label,children:e}),a&&s.jsx(S,{slot:"description",className:c.text,children:a}),s.jsx(k,{className:c.fieldError,children:n}),t]}),je=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$");try{F.displayName="TextField",F.__docgenInfo={description:"",displayName:"TextField",props:{children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},validationType:{defaultValue:null,description:"",name:"validationType",required:!1,type:{name:'RegExp | "ssn"'}},maxCharacters:{defaultValue:null,description:"",name:"maxCharacters",required:!1,type:{name:"number"}},showCounter:{defaultValue:null,description:"",name:"showCounter",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"Whether the value is invalid.",name:"isInvalid",required:!1,type:{name:"boolean"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:'"native" | "aria"'}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: TextFieldRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: TextFieldRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}try{q.displayName="InputWrapper",q.__docgenInfo={description:"",displayName:"InputWrapper",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}}}}}catch{}export{ue as $,q as I,F as T,c as a,Je as b,ne as c,N as d,se as e};
