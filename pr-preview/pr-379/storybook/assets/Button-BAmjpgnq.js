import{b as g,$ as k,a as S,l as y}from"./utils-Cd6MiihZ.js";import{$ as T}from"./ProgressBar-Dh0Vg3qS.js";import{$ as C}from"./LiveAnnouncer-DFDjXwI8.js";import{$ as U}from"./Hidden-lswqw32w.js";import{$ as F}from"./filterDOMProps-BSfnXAP7.js";import{r as h,R as D}from"./index-BbAIUH2N.js";import{f as V,a as H,$ as I}from"./useFocusRing--RQdELqC.js";import{$ as O}from"./useFocusable-5VAxOUE-.js";function B(e,a){let{elementType:d="button",isDisabled:t,onPress:s,onPressStart:i,onPressEnd:m,onPressUp:x,onPressChange:r,preventFocusOnPress:b,allowFocusWhenDisabled:p,onClick:f,href:u,target:$,rel:o,type:l="button"}=e,n;d==="button"?n={type:l,disabled:t}:n={role:"button",href:d==="a"&&!t?u:void 0,target:d==="a"?$:void 0,type:d==="input"?l:void 0,disabled:d==="input"?t:void 0,"aria-disabled":!t||d==="input"?void 0:t,rel:d==="a"?o:void 0};let{pressProps:c,isPressed:P}=V({onPressStart:i,onPressEnd:m,onPressChange:r,onPress:s,onPressUp:x,isDisabled:t,preventFocusOnPress:b,ref:a}),{focusableProps:v}=O(e,a);p&&(v.tabIndex=t?-1:v.tabIndex);let E=g(v,c,F(e,{labelable:!0}));return{isPressed:P,buttonProps:g(n,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],onClick:w=>{f&&(f(w),console.warn("onClick is deprecated, please use onPress"))}})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=h.createContext({}),J=U(function(a,d){[a,d]=k(a,d,R),a=A(a);let t=a,{isPending:s}=t,{buttonProps:i,isPressed:m}=B(a,d),{focusProps:x,isFocused:r,isFocusVisible:b}=H(a),{hoverProps:p,isHovered:f}=I({...a,isDisabled:a.isDisabled||s}),u={isHovered:f,isPressed:(t.isPressed||m)&&!s,isFocused:r,isFocusVisible:b,isDisabled:a.isDisabled||!1,isPending:s??!1},$=S({...a,values:u,defaultClassName:"react-aria-Button"}),o=y(i.id),l=y(),n=i["aria-labelledby"];s&&(n?n=`${n} ${l}`:i["aria-label"]&&(n=`${o} ${l}`));let c=h.useRef(s);return h.useEffect(()=>{let P={"aria-labelledby":n||o};!c.current&&r&&s?C(P,"assertive"):c.current&&r&&!s&&C(P,"assertive"),c.current=s},[s,r,n,o]),D.createElement("button",{...F(a,{propNames:N}),...g(i,x,p),...$,type:i.type==="submit"&&s?"button":i.type,id:o,ref:d,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":s?"true":i["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":f||void 0,"data-focused":r||void 0,"data-pending":s||void 0,"data-focus-visible":b||void 0},D.createElement(T.Provider,{value:{id:l}},$.children))});function A(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{J as $,R as a,B as b};
