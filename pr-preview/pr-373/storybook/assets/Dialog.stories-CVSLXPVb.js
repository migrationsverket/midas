import{j as l}from"./jsx-runtime-DtgEGaVE.js";import{d as Q,e as Y,f as Z,g as _,h as I,i as D,j as ee,k as ae}from"./Dialog-DSWfO_cF.js";import{c as T,b as O,n as te,g as k,a as B,$ as ie,k as re}from"./utils-Cd6MiihZ.js";import{$ as H}from"./filterDOMProps-BSfnXAP7.js";import{r as s,R as f}from"./index-BbAIUH2N.js";import{a as L,$ as w}from"./OverlayArrow-EUTjSIyA.js";import{$ as le,a as ne,b as se}from"./useMenuTriggerState-VaHMadTP.js";import{$ as W}from"./useOverlayTriggerState-CykkZ-dk.js";import{c as x}from"./clsx-B-dksMZM.js";import{a as oe}from"./FocusScope-B7ZOkgD-.js";import{B as g}from"./Button-S7ARy0fO.js";import{X as A}from"./x-Cu6J0Y2u.js";import{S as de}from"./Select-TXxM2VQ3.js";import"./Button-BAmjpgnq.js";import"./ProgressBar-Dh0Vg3qS.js";import"./Label-Bf-bZThx.js";import"./Hidden-lswqw32w.js";import"./useLabel-ClMtG9eF.js";import"./context-BSqmORe6.js";import"./NumberFormatter-DT0cDaax.js";import"./LiveAnnouncer-DFDjXwI8.js";import"./useFocusRing--RQdELqC.js";import"./index-cpIEhwLo.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusable-5VAxOUE-.js";import"./RSPContexts-CeCCo7XS.js";import"./Collection-CC9oGC21.js";import"./index-DwWe6W7f.js";import"./Separator-Q6oUd1rz.js";import"./SelectionManager-DeX5238t.js";import"./useEvent-Yxrkvbn7.js";import"./scrollIntoView-DzftQ5Hl.js";import"./useDescription-CVNFK32G.js";import"./useControlledState-DGyHFLi9.js";import"./ListKeyboardDelegate-xVJLa59h.js";import"./useCollator-C3PRVItH.js";import"./Text-BkowhAon.js";import"./PressResponder-D2AeFdqt.js";import"./getScrollParent-CrrBdd7g.js";import"./useLocalizedStringFormatter-CIgGmZTI.js";import"./VisuallyHidden-DRXW-gYG.js";import"./createLucideIcon-8wDOqnHv.js";import"./Form-Cr76Dr7U.js";import"./useFormValidation-BT6lxpQu.js";import"./Tag-i7bxFwdD.js";import"./ListBox-CKwgwK3H.js";import"./DragAndDrop-sISFPnlb.js";import"./useListState-CMHXyEJa.js";import"./useField-9Cy_F6CL.js";import"./useHighlightSelectionDescription-CrqVFzKW.js";import"./useUpdateEffect-DVcG7G3u.js";import"./useHasTabbableChild-CW7EX7UL.js";import"./TextField-DD1PHP0y.js";import"./Input-COAkbJ34.js";import"./useTextField-CYsm1yTN.js";import"./useModal-BWKj4cMF.js";import"./chevron-down-U1dNK9nR.js";let o=typeof document<"u"&&window.visualViewport;function ce(){let a=T(),[e,t]=s.useState(()=>a?{width:0,height:0}:C());return s.useEffect(()=>{let i=()=>{t(r=>{let n=C();return n.width===r.width&&n.height===r.height?r:n})};return o?o.addEventListener("resize",i):window.addEventListener("resize",i),()=>{o?o.removeEventListener("resize",i):window.removeEventListener("resize",i)}},[]),e}function C(){return{width:o&&(o==null?void 0:o.width)||window.innerWidth,height:o&&(o==null?void 0:o.height)||window.innerHeight}}function z(a,e,t){let{overlayProps:i,underlayProps:r}=le({...a,isOpen:e.isOpen,onClose:e.close},t);return Q({isDisabled:!e.isOpen}),Y(),s.useEffect(()=>{if(e.isOpen&&t.current)return Z([t.current])},[e.isOpen,t]),{modalProps:O(i),underlayProps:r}}const me=s.createContext(null),E=s.createContext(null),ue=s.forwardRef(function(e,t){if(s.useContext(E))return f.createElement(N,{...e,modalRef:t},e.children);let{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:m,defaultOpen:d,onOpenChange:p,children:u,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X,...J}=e;return f.createElement(K,{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:m,defaultOpen:d,onOpenChange:p,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X},f.createElement(N,{...J,modalRef:t},u))});function fe(a,e){[a,e]=ie(a,e,me);let t=s.useContext(_),i=W(a),r=a.isOpen!=null||a.defaultOpen!=null||!t?i:t,n=k(e),m=s.useRef(null),d=w(n,r.isOpen),p=w(m,r.isOpen),u=d||p||a.isExiting||!1,$=T();return!r.isOpen&&!u||$?null:f.createElement(pe,{...a,state:r,isExiting:u,overlayRef:n,modalRef:m})}const K=s.forwardRef(fe);function pe({UNSTABLE_portalContainer:a,...e}){let t=e.modalRef,{state:i}=e,{modalProps:r,underlayProps:n}=z(e,i,t),m=L(e.overlayRef)||e.isEntering||!1,d=B({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:m,isExiting:e.isExiting,state:i}}),p=ce(),u={...d.style,"--visual-viewport-height":p.height+"px"};return f.createElement(I,{isExiting:e.isExiting,portalContainer:a},f.createElement("div",{...O(H(e),n),...d,style:u,ref:e.overlayRef,"data-entering":m||void 0,"data-exiting":e.isExiting||void 0},f.createElement(re,{values:[[E,{modalProps:r,modalRef:t,isExiting:e.isExiting,isDismissable:e.isDismissable}],[_,i]]},d.children)))}function N(a){let{modalProps:e,modalRef:t,isExiting:i,isDismissable:r}=s.useContext(E),n=s.useContext(_),m=s.useMemo(()=>te(a.modalRef,t),[a.modalRef,t]),d=k(m),p=L(d),u=B({...a,defaultClassName:"react-aria-Modal",values:{isEntering:p,isExiting:i,state:n}});return f.createElement("div",{...O(H(a),e),...u,ref:d,"data-entering":p||void 0,"data-exiting":i||void 0},r&&f.createElement(ne,{onDismiss:n.close}),u.children)}const be='"../theme/tokens.css"',he="_modal_lo8tr_4",ge="_overlay_lo8tr_22",ye="_modalHeader_lo8tr_38",$e="_modalBody_lo8tr_47",xe="_modalHeading_lo8tr_53",c={tokens:be,"--font-family":'"Inter", sans-serif',"--layer-01":"light-dark(#f2f2f2, #262626)","--background-01":"light-dark(#ffffff, #171717)","--text-primary":"light-dark(#171717, #f2f2f2)",modal:he,overlay:ge,"modal-fade":"_modal-fade_lo8tr_1",modalHeader:ye,modalBody:$e,modalHeading:xe},v=({title:a,children:e,...t})=>{const i=s.useRef(null),{dialogProps:r,titleProps:n}=ee(t,i);return l.jsxs("div",{...r,ref:i,className:c.modalBody,"aria-modal":!0,children:[a&&l.jsx("h2",{...n,className:x(c.modalHeading,n.className),children:a}),e]})},ve=({state:a,children:e,...t})=>{const i=s.useRef(null),{modalProps:r,underlayProps:n}=z(t,a,i);return l.jsx(I,{children:l.jsx("div",{...n,className:x(c.overlay,n.className),children:l.jsx("div",{...r,className:x(c.modal,r.className),ref:i,children:e})})})},y=({label:a,children:e,...t})=>{const i=W(t),{triggerProps:r,overlayProps:n}=se({type:"dialog"},i);return l.jsxs(l.Fragment,{children:[l.jsx(g,{...r,children:a}),i.isOpen&&l.jsxs(ve,{...t,state:i,children:[l.jsx("div",{className:c.modalHeader,children:l.jsx(g,{onPress:i.close,variant:"tertiary",icon:A,iconPlacement:"right",children:"Stäng"})}),s.cloneElement(e(i.close),n)]})]})},R=({children:a,title:e,...t})=>l.jsx(ae,{...t,children:l.jsx(K,{...t,className:c.overlay,children:l.jsx(oe,{contain:!0,autoFocus:!0,restoreFocus:!0,children:l.jsxs(ue,{...t,className:c.modal,children:[l.jsx("div",{className:c.modalHeader,children:l.jsx(g,{slot:"close",variant:"tertiary",icon:A,iconPlacement:"right",children:"Stäng"})}),l.jsxs("div",{className:c.modalBody,children:[e&&l.jsx("h2",{className:c.modalHeading,children:e}),a]})]})})})});try{v.displayName="Dialog",v.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"alertdialog"'},{value:'"dialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}try{y.displayName="ModalTrigger",y.__docgenInfo={description:"",displayName:"ModalTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}try{D.displayName="DialogTrigger",D.__docgenInfo={description:"A DialogTrigger opens a dialog when a trigger element is pressed.",displayName:"DialogTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}try{R.displayName="Modal",R.__docgenInfo={description:"",displayName:"Modal",props:{isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"alertdialog"'},{value:'"dialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}const Ca={component:y,title:"Components/Modal",tags:["autodocs"],parameters:{layout:"centered"}},_e=["Apple","Banana","Kiwi","Elderflower","Nectarine","Watermelon","Pineapple","Apricot","Cloudberry","Mango","Strawberry","Blueberry","Raspberry","Blackberry","Cherry","Peach","Plum","Grape","Orange","Lemon","Lime","Coconut","Fig","Papaya","Guava","Pomegranate","Dragonfruit","Starfruit","Passionfruit"],Oe=_e.map(a=>({name:a,id:a.toLocaleLowerCase()})),F=({...a})=>l.jsx(y,{...a,children:e=>l.jsxs(v,{title:"Enter your name",children:[l.jsx(de,{autoFocus:!0,placeholder:"Select...",defaultSelectedKeys:["kiwi"],label:"Select fruits",selectionMode:"multiple",options:Oe,isClearable:!0,isSelectableAll:!1}),l.jsx(g,{onPress:e,style:{marginTop:10},children:"Submit"})]})}),b={args:{isDismissable:!0,label:"Visa fruktval",defaultOpen:!1},render:F},h={args:{...b.args,label:"Klicka utanför",isDismissable:!1},render:F};var P,S,j;b.parameters={...b.parameters,docs:{...(P=b.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    isDismissable: true,
    label: 'Visa fruktval',
    defaultOpen: false
  },
  render: Render
}`,...(j=(S=b.parameters)==null?void 0:S.docs)==null?void 0:j.source}}};var V,q,M;h.parameters={...h.parameters,docs:{...(V=h.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    label: 'Klicka utanför',
    isDismissable: false
  },
  render: Render
}`,...(M=(q=h.parameters)==null?void 0:q.docs)==null?void 0:M.source}}};const Na=["Default","NotDismissable"];export{b as Default,h as NotDismissable,Na as __namedExportsOrder,Ca as default};
