import{j as l}from"./jsx-runtime-DtgEGaVE.js";import{d as Q,e as Y,f as Z,g as _,h as I,i as y,j as ee,k as ae}from"./Dialog-DSWfO_cF.js";import{c as z,b as O,n as te,g as T,a as B,$ as ie,k as le}from"./utils-Cd6MiihZ.js";import{$ as H}from"./filterDOMProps-BSfnXAP7.js";import{r as s,R as f}from"./index-BbAIUH2N.js";import{a as L,$ as D}from"./OverlayArrow-EUTjSIyA.js";import{$ as re,a as ne,b as se}from"./useMenuTriggerState-VaHMadTP.js";import{$ as k}from"./useOverlayTriggerState-CykkZ-dk.js";import{c as x}from"./clsx-B-dksMZM.js";import{a as oe}from"./FocusScope-B7ZOkgD-.js";import{B as h}from"./Button-B7iFvHN6.js";import{X as W}from"./x-Cu6J0Y2u.js";import{S as de}from"./Select-C9C8Wi89.js";import"./Button-BAmjpgnq.js";import"./ProgressBar-Dh0Vg3qS.js";import"./Label-Bf-bZThx.js";import"./Hidden-lswqw32w.js";import"./useLabel-ClMtG9eF.js";import"./context-BSqmORe6.js";import"./NumberFormatter-DT0cDaax.js";import"./LiveAnnouncer-DFDjXwI8.js";import"./useFocusRing--RQdELqC.js";import"./index-cpIEhwLo.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusable-5VAxOUE-.js";import"./RSPContexts-CeCCo7XS.js";import"./Collection-CC9oGC21.js";import"./index-DwWe6W7f.js";import"./Separator-Q6oUd1rz.js";import"./SelectionManager-DeX5238t.js";import"./useEvent-Yxrkvbn7.js";import"./scrollIntoView-DzftQ5Hl.js";import"./useDescription-CVNFK32G.js";import"./useControlledState-DGyHFLi9.js";import"./ListKeyboardDelegate-xVJLa59h.js";import"./useCollator-C3PRVItH.js";import"./Text-BkowhAon.js";import"./PressResponder-D2AeFdqt.js";import"./getScrollParent-CrrBdd7g.js";import"./useLocalizedStringFormatter-CIgGmZTI.js";import"./VisuallyHidden-DRXW-gYG.js";import"./createLucideIcon-8wDOqnHv.js";import"./Form-Cr76Dr7U.js";import"./useFormValidation-BT6lxpQu.js";import"./Tag-CfIwC4Ti.js";import"./ListBox-CKwgwK3H.js";import"./DragAndDrop-sISFPnlb.js";import"./useListState-CMHXyEJa.js";import"./useField-9Cy_F6CL.js";import"./useHighlightSelectionDescription-CrqVFzKW.js";import"./useUpdateEffect-DVcG7G3u.js";import"./useHasTabbableChild-CW7EX7UL.js";import"./TextField-DD1PHP0y.js";import"./Input-COAkbJ34.js";import"./useTextField-CYsm1yTN.js";import"./useModal-BWKj4cMF.js";import"./chevron-down-U1dNK9nR.js";let o=typeof document<"u"&&window.visualViewport;function ce(){let e=z(),[a,t]=s.useState(()=>e?{width:0,height:0}:w());return s.useEffect(()=>{let i=()=>{t(r=>{let n=w();return n.width===r.width&&n.height===r.height?r:n})};return o?o.addEventListener("resize",i):window.addEventListener("resize",i),()=>{o?o.removeEventListener("resize",i):window.removeEventListener("resize",i)}},[]),a}function w(){return{width:o&&(o==null?void 0:o.width)||window.innerWidth,height:o&&(o==null?void 0:o.height)||window.innerHeight}}function A(e,a,t){let{overlayProps:i,underlayProps:r}=re({...e,isOpen:a.isOpen,onClose:a.close},t);return Q({isDisabled:!a.isOpen}),Y(),s.useEffect(()=>{if(a.isOpen&&t.current)return Z([t.current])},[a.isOpen,t]),{modalProps:O(i),underlayProps:r}}const me=s.createContext(null),E=s.createContext(null),ue=s.forwardRef(function(a,t){if(s.useContext(E))return f.createElement(C,{...a,modalRef:t},a.children);let{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:m,defaultOpen:d,onOpenChange:p,children:u,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X,...J}=a;return f.createElement(K,{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:m,defaultOpen:d,onOpenChange:p,isEntering:$,isExiting:U,UNSTABLE_portalContainer:G,shouldCloseOnInteractOutside:X},f.createElement(C,{...J,modalRef:t},u))});function fe(e,a){[e,a]=ie(e,a,me);let t=s.useContext(_),i=k(e),r=e.isOpen!=null||e.defaultOpen!=null||!t?i:t,n=T(a),m=s.useRef(null),d=D(n,r.isOpen),p=D(m,r.isOpen),u=d||p||e.isExiting||!1,$=z();return!r.isOpen&&!u||$?null:f.createElement(pe,{...e,state:r,isExiting:u,overlayRef:n,modalRef:m})}const K=s.forwardRef(fe);function pe({UNSTABLE_portalContainer:e,...a}){let t=a.modalRef,{state:i}=a,{modalProps:r,underlayProps:n}=A(a,i,t),m=L(a.overlayRef)||a.isEntering||!1,d=B({...a,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:m,isExiting:a.isExiting,state:i}}),p=ce(),u={...d.style,"--visual-viewport-height":p.height+"px"};return f.createElement(I,{isExiting:a.isExiting,portalContainer:e},f.createElement("div",{...O(H(a),n),...d,style:u,ref:a.overlayRef,"data-entering":m||void 0,"data-exiting":a.isExiting||void 0},f.createElement(le,{values:[[E,{modalProps:r,modalRef:t,isExiting:a.isExiting,isDismissable:a.isDismissable}],[_,i]]},d.children)))}function C(e){let{modalProps:a,modalRef:t,isExiting:i,isDismissable:r}=s.useContext(E),n=s.useContext(_),m=s.useMemo(()=>te(e.modalRef,t),[e.modalRef,t]),d=T(m),p=L(d),u=B({...e,defaultClassName:"react-aria-Modal",values:{isEntering:p,isExiting:i,state:n}});return f.createElement("div",{...O(H(e),a),...u,ref:d,"data-entering":p||void 0,"data-exiting":i||void 0},r&&f.createElement(ne,{onDismiss:n.close}),u.children)}const be='"../theme/tokens.css"',he="_modal_7p67z_4",ge="_overlay_7p67z_26",ye="_modalHeader_7p67z_47",$e="_modalBody_7p67z_56",xe="_modalHeading_7p67z_62",c={tokens:be,"--font-family":'"Inter", sans-serif',"--layer-01":"light-dark(#f2f2f2, #262626)","--background-01":"light-dark(#ffffff, #171717)","--text-primary":"light-dark(#171717, #f2f2f2)",modal:he,"modal-zoom":"_modal-zoom_7p67z_1",overlay:ge,"modal-fade":"_modal-fade_7p67z_1",modalHeader:ye,modalBody:$e,modalHeading:xe},N=({title:e,children:a,...t})=>{const i=s.useRef(null),{dialogProps:r,titleProps:n}=ee(t,i);return l.jsxs("div",{...r,ref:i,className:c.modalBody,"aria-modal":!0,children:[e&&l.jsx("h2",{...n,className:x(c.modalHeading,n.className),children:e}),a]})},ve=({state:e,children:a,...t})=>{const i=s.useRef(null),{modalProps:r,underlayProps:n}=A(t,e,i);return l.jsx(I,{children:l.jsx("div",{...n,className:x(c.overlay,n.className),children:l.jsx("div",{...r,className:x(c.modal,r.className),ref:i,children:a})})})},R=({label:e,children:a,...t})=>{const i=k(t),{triggerProps:r,overlayProps:n}=se({type:"dialog"},i);return l.jsxs(l.Fragment,{children:[l.jsx(h,{...r,children:e}),i.isOpen&&l.jsxs(ve,{...t,state:i,children:[l.jsx("div",{className:c.modalHeader,children:l.jsx(h,{onPress:i.close,variant:"tertiary",icon:W,iconPlacement:"right",children:"Stäng"})}),s.cloneElement(a(i.close),n)]})]})},v=({children:e,title:a,...t})=>l.jsx(ae,{...t,children:l.jsx(K,{...t,className:c.overlay,children:l.jsx(oe,{contain:!0,autoFocus:!0,restoreFocus:!0,children:l.jsxs(ue,{...t,className:c.modal,children:[l.jsx("div",{className:c.modalHeader,children:l.jsx(h,{slot:"close",variant:"tertiary",icon:W,iconPlacement:"right",children:"Stäng"})}),l.jsxs("div",{className:c.modalBody,children:[a&&l.jsx("h2",{className:c.modalHeading,children:a}),e]})]})})})});try{N.displayName="Dialog",N.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}try{R.displayName="ModalTrigger",R.__docgenInfo={description:"",displayName:"ModalTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}try{y.displayName="DialogTrigger",y.__docgenInfo={description:"A DialogTrigger opens a dialog when a trigger element is pressed.",displayName:"DialogTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}try{v.displayName="Modal",v.__docgenInfo={description:"",displayName:"Modal",props:{isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}const Ca={component:y,title:"Components/Modal",tags:["autodocs"],parameters:{layout:"centered"}},_e=["Apple","Banana","Kiwi","Elderflower","Nectarine","Watermelon","Pineapple","Apricot","Cloudberry","Mango","Strawberry","Blueberry","Raspberry","Blackberry","Cherry","Peach","Plum","Grape","Orange","Lemon","Lime","Coconut","Fig","Papaya","Guava","Pomegranate","Dragonfruit","Starfruit","Passionfruit"],Oe=_e.map(e=>({name:e,id:e.toLocaleLowerCase()})),F=({...e})=>l.jsxs(y,{...e,children:[l.jsx(h,{children:"Öppna"}),l.jsxs(v,{title:"Enter your name",isDismissable:e==null?void 0:e.isDismissable,children:[l.jsx(de,{autoFocus:!0,placeholder:"Select...",defaultSelectedKeys:["kiwi"],label:"Select fruits",selectionMode:"multiple",options:Oe,isClearable:!0,isSelectableAll:!1}),l.jsx(h,{style:{marginTop:10},slot:"close",children:"Submit"})]})]}),b={args:{isDismissable:!0,defaultOpen:!1},render:F},g={args:{...b.args,isDismissable:!1},render:F};var j,P,S;b.parameters={...b.parameters,docs:{...(j=b.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    isDismissable: true,
    defaultOpen: false
  },
  render: Render
}`,...(S=(P=b.parameters)==null?void 0:P.docs)==null?void 0:S.source}}};var V,q,M;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isDismissable: false
  },
  render: Render
}`,...(M=(q=g.parameters)==null?void 0:q.docs)==null?void 0:M.source}}};const Na=["Default","NotDismissable"];export{b as Default,g as NotDismissable,Na as __namedExportsOrder,Ca as default};
