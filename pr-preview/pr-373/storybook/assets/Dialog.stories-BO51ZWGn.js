import{j as a}from"./jsx-runtime-DtgEGaVE.js";import{d as te,e as ae,f as ie,g as _,h as L,i as re,j as g,k as ne}from"./Dialog-DVS2VLtY.js";import{c as k,b as E,n as le,g as W,a as A,$ as se,k as oe}from"./utils-Cd6MiihZ.js";import{$ as z}from"./filterDOMProps-BSfnXAP7.js";import{r as s,R as m}from"./index-BbAIUH2N.js";import{a as F,$ as C}from"./OverlayArrow-EUTjSIyA.js";import{$ as de,a as ce,b as me}from"./useMenuTriggerState-VaHMadTP.js";import{$ as K}from"./useOverlayTriggerState-CykkZ-dk.js";import{c as O}from"./clsx-B-dksMZM.js";import{a as ue}from"./FocusScope-B7ZOkgD-.js";import{B as b}from"./Button-pW4RS5wa.js";import{X as U}from"./x-Cu6J0Y2u.js";import{S as fe}from"./Select-jrhdXhEx.js";import"./Button-BAmjpgnq.js";import"./ProgressBar-Dh0Vg3qS.js";import"./Label-Bf-bZThx.js";import"./Hidden-lswqw32w.js";import"./useLabel-ClMtG9eF.js";import"./context-BSqmORe6.js";import"./NumberFormatter-DT0cDaax.js";import"./LiveAnnouncer-DFDjXwI8.js";import"./useFocusRing--RQdELqC.js";import"./index-cpIEhwLo.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusable-5VAxOUE-.js";import"./RSPContexts-CeCCo7XS.js";import"./Collection-CC9oGC21.js";import"./index-DwWe6W7f.js";import"./Separator-Q6oUd1rz.js";import"./SelectionManager-DeX5238t.js";import"./useEvent-Yxrkvbn7.js";import"./scrollIntoView-DzftQ5Hl.js";import"./useDescription-CVNFK32G.js";import"./useControlledState-DGyHFLi9.js";import"./ListKeyboardDelegate-xVJLa59h.js";import"./useCollator-C3PRVItH.js";import"./Text-BkowhAon.js";import"./PressResponder-D2AeFdqt.js";import"./getScrollParent-CrrBdd7g.js";import"./useLocalizedStringFormatter-CIgGmZTI.js";import"./VisuallyHidden-DRXW-gYG.js";import"./createLucideIcon-8wDOqnHv.js";import"./Form-Cr76Dr7U.js";import"./useFormValidation-BT6lxpQu.js";import"./Tag-45c333ZH.js";import"./ListBox-CKwgwK3H.js";import"./DragAndDrop-sISFPnlb.js";import"./useListState-CMHXyEJa.js";import"./useField-9Cy_F6CL.js";import"./useHighlightSelectionDescription-CrqVFzKW.js";import"./useUpdateEffect-DVcG7G3u.js";import"./useHasTabbableChild-CW7EX7UL.js";import"./TextField-DD1PHP0y.js";import"./Input-COAkbJ34.js";import"./useTextField-CYsm1yTN.js";import"./useModal-BWKj4cMF.js";import"./chevron-down-U1dNK9nR.js";let o=typeof document<"u"&&window.visualViewport;function pe(){let e=k(),[t,i]=s.useState(()=>e?{width:0,height:0}:S());return s.useEffect(()=>{let r=()=>{i(n=>{let l=S();return l.width===n.width&&l.height===n.height?n:l})};return o?o.addEventListener("resize",r):window.addEventListener("resize",r),()=>{o?o.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),t}function S(){return{width:o&&(o==null?void 0:o.width)||window.innerWidth,height:o&&(o==null?void 0:o.height)||window.innerHeight}}function G(e,t,i){let{overlayProps:r,underlayProps:n}=de({...e,isOpen:t.isOpen,onClose:t.close},i);return te({isDisabled:!t.isOpen}),ae(),s.useEffect(()=>{if(t.isOpen&&i.current)return ie([i.current])},[t.isOpen,i]),{modalProps:E(r),underlayProps:n}}const he=s.createContext(null),D=s.createContext(null),be=s.forwardRef(function(t,i){if(s.useContext(D))return m.createElement(w,{...t,modalRef:i},t.children);let{isDismissable:n,isKeyboardDismissDisabled:l,isOpen:u,defaultOpen:d,onOpenChange:p,children:f,isEntering:v,isExiting:Q,UNSTABLE_portalContainer:Y,shouldCloseOnInteractOutside:Z,...ee}=t;return m.createElement(J,{isDismissable:n,isKeyboardDismissDisabled:l,isOpen:u,defaultOpen:d,onOpenChange:p,isEntering:v,isExiting:Q,UNSTABLE_portalContainer:Y,shouldCloseOnInteractOutside:Z},m.createElement(w,{...ee,modalRef:i},f))});function ge(e,t){[e,t]=se(e,t,he);let i=s.useContext(_),r=K(e),n=e.isOpen!=null||e.defaultOpen!=null||!i?r:i,l=W(t),u=s.useRef(null),d=C(l,n.isOpen),p=C(u,n.isOpen),f=d||p||e.isExiting||!1,v=k();return!n.isOpen&&!f||v?null:m.createElement(ye,{...e,state:n,isExiting:f,overlayRef:l,modalRef:u})}const J=s.forwardRef(ge);function ye({UNSTABLE_portalContainer:e,...t}){let i=t.modalRef,{state:r}=t,{modalProps:n,underlayProps:l}=G(t,r,i),u=F(t.overlayRef)||t.isEntering||!1,d=A({...t,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:u,isExiting:t.isExiting,state:r}}),p=pe(),f={...d.style,"--visual-viewport-height":p.height+"px"};return m.createElement(L,{isExiting:t.isExiting,portalContainer:e},m.createElement("div",{...E(z(t),l),...d,style:f,ref:t.overlayRef,"data-entering":u||void 0,"data-exiting":t.isExiting||void 0},m.createElement(oe,{values:[[D,{modalProps:n,modalRef:i,isExiting:t.isExiting,isDismissable:t.isDismissable}],[_,r]]},d.children)))}function w(e){let{modalProps:t,modalRef:i,isExiting:r,isDismissable:n}=s.useContext(D),l=s.useContext(_),u=s.useMemo(()=>le(e.modalRef,i),[e.modalRef,i]),d=W(u),p=F(d),f=A({...e,defaultClassName:"react-aria-Modal",values:{isEntering:p,isExiting:r,state:l}});return m.createElement("div",{...E(z(e),t),...f,ref:d,"data-entering":p||void 0,"data-exiting":r||void 0},n&&m.createElement(ce,{onDismiss:l.close}),f.children)}const $e='"../theme/tokens.css"',xe="_modal_1s8yh_4",ve="_overlay_1s8yh_22",Oe="_modalHeader_1s8yh_40",_e="_modalBody_1s8yh_49",Ee="_modalHeading_1s8yh_55",c={tokens:$e,"--font-family":'"Inter", sans-serif',"--layer-01":"light-dark(#f2f2f2, #262626)","--background-01":"light-dark(#ffffff, #171717)","--text-primary":"light-dark(#171717, #f2f2f2)",modal:xe,overlay:ve,"modal-fade":"_modal-fade_1s8yh_1",modalHeader:Oe,modalBody:_e,modalHeading:Ee},j=({title:e,children:t,...i})=>{const r=s.useRef(null),{dialogProps:n,titleProps:l}=ne(i,r);return a.jsxs("div",{...n,ref:r,className:c.modalBody,"aria-modal":!0,children:[e&&a.jsx("h2",{...l,className:O(c.modalHeading,l.className),children:e}),t]})},De=({state:e,children:t,...i})=>{const r=s.useRef(null),{modalProps:n,underlayProps:l}=G(i,e,r);return a.jsx(L,{children:a.jsx("div",{...l,className:O(c.overlay,l.className),children:a.jsx("div",{...n,className:O(c.modal,n.className),ref:r,children:t})})})},N=({label:e,children:t,...i})=>{const r=K(i),{triggerProps:n,overlayProps:l}=me({type:"dialog"},r);return a.jsxs(a.Fragment,{children:[a.jsx(b,{...n,children:e}),r.isOpen&&a.jsxs(De,{...i,state:r,children:[a.jsx("div",{className:c.modalHeader,children:a.jsx(b,{onPress:r.close,variant:"tertiary",icon:U,iconPlacement:"right",children:"Stäng"})}),s.cloneElement(t(r.close),l)]})]})},x=({children:e,title:t,...i})=>a.jsx(re,{...i,children:a.jsx(J,{...i,className:c.overlay,children:a.jsx(ue,{contain:!0,autoFocus:!0,restoreFocus:!0,children:a.jsxs(be,{...i,className:c.modal,children:[a.jsx("div",{className:c.modalHeader,children:a.jsx(b,{slot:"close",variant:"tertiary",icon:U,iconPlacement:"right",children:"Stäng"})}),a.jsxs("div",{className:c.modalBody,children:[t&&a.jsx("h2",{className:c.modalHeading,children:t}),e]})]})})})});try{j.displayName="Dialog",j.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}try{N.displayName="ModalTrigger",N.__docgenInfo={description:"",displayName:"ModalTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}try{g.displayName="DialogTrigger",g.__docgenInfo={description:"A DialogTrigger opens a dialog when a trigger element is pressed.",displayName:"DialogTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}try{x.displayName="Modal",x.__docgenInfo={description:"",displayName:"Modal",props:{isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}const Rt={component:g,title:"Components/Modal",tags:["autodocs"],parameters:{layout:"centered"}},Ce=["Apple","Banana","Kiwi","Elderflower","Nectarine","Watermelon","Pineapple","Apricot","Cloudberry","Mango","Strawberry","Blueberry","Raspberry","Blackberry","Cherry","Peach","Plum","Grape","Orange","Lemon","Lime","Coconut","Fig","Papaya","Guava","Pomegranate","Dragonfruit","Starfruit","Passionfruit"],Se=Ce.map(e=>({name:e,id:e.toLocaleLowerCase()})),X=({...e})=>a.jsxs(g,{...e,children:[a.jsx(b,{children:"Öppna"}),a.jsxs(x,{title:"Enter your name",isDismissable:e==null?void 0:e.isDismissable,children:[a.jsx(fe,{autoFocus:!0,placeholder:"Select...",defaultSelectedKeys:["kiwi"],label:"Select fruits",selectionMode:"multiple",options:Se,isClearable:!0,isSelectableAll:!1}),a.jsx(b,{style:{marginTop:10},slot:"close",children:"Submit"})]})]}),h={args:{isDismissable:!0,defaultOpen:!1},render:X},y={args:{...h.args,isDismissable:!1},render:X},$={args:{...h.args},render:()=>{const[e,t]=m.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(b,{variant:"secondary",onPress:()=>t(!0),children:"State open"}),a.jsx(g,{isOpen:e,onOpenChange:t,children:a.jsx(x,{children:"Content"})}),a.jsxs("pre",{style:{position:"absolute",bottom:0},children:["isOpen: ",JSON.stringify(e)]})]})}};var R,P,V;h.parameters={...h.parameters,docs:{...(R=h.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    isDismissable: true,
    defaultOpen: false
  },
  render: Render
}`,...(V=(P=h.parameters)==null?void 0:P.docs)==null?void 0:V.source}}};var q,M,I;y.parameters={...y.parameters,docs:{...(q=y.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isDismissable: false
  },
  render: Render
}`,...(I=(M=y.parameters)==null?void 0:M.docs)==null?void 0:I.source}}};var T,B,H;$.parameters={...$.parameters,docs:{...(T=$.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    ...Default.args
  },
  render: () => {
    const [isOpen, setIsOpen] = React.useState(false);
    return <>
        <Button variant={'secondary'} onPress={() => setIsOpen(true)}>
          State open
        </Button>
        <DialogTrigger isOpen={isOpen} onOpenChange={setIsOpen}>
          <Modal>Content</Modal>
        </DialogTrigger>
        <pre style={{
        position: 'absolute',
        bottom: 0
      }}>
          isOpen: {JSON.stringify(isOpen)}
        </pre>
      </>;
  }
}`,...(H=(B=$.parameters)==null?void 0:B.docs)==null?void 0:H.source}}};const Pt=["Default","NotDismissable","Controlled"];export{$ as Controlled,h as Default,y as NotDismissable,Pt as __namedExportsOrder,Rt as default};
