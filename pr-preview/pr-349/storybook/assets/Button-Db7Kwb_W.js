import{b as g,$ as k,a as I,l as y}from"./utils-BhWkjeqE.js";import{$ as S}from"./ProgressBar-KG041EEs.js";import{$ as C}from"./LiveAnnouncer-DFDjXwI8.js";import{$ as T}from"./Hidden-DrRnqvCY.js";import{$ as F}from"./filterDOMProps-BSfnXAP7.js";import{r as h,R as D}from"./index-BbAIUH2N.js";import{$ as U}from"./useFocusable-CsLSqN_1.js";import{f as V,a as H,$ as O}from"./useFocusRing-BFo6eXxS.js";function B(e,s){let{elementType:d="button",isDisabled:n,onPress:a,onPressStart:i,onPressEnd:m,onPressUp:x,onPressChange:r,preventFocusOnPress:c,allowFocusWhenDisabled:p,onClick:f,href:u,target:$,rel:o,type:l="button"}=e,t;d==="button"?t={type:l,disabled:n}:t={role:"button",tabIndex:n?void 0:0,href:d==="a"&&!n?u:void 0,target:d==="a"?$:void 0,type:d==="input"?l:void 0,disabled:d==="input"?n:void 0,"aria-disabled":!n||d==="input"?void 0:n,rel:d==="a"?o:void 0};let{pressProps:b,isPressed:P}=V({onPressStart:i,onPressEnd:m,onPressChange:r,onPress:a,onPressUp:x,isDisabled:n,preventFocusOnPress:c,ref:s}),{focusableProps:v}=U(e,s);p&&(v.tabIndex=n?-1:v.tabIndex);let E=g(v,b,F(e,{labelable:!0}));return{isPressed:P,buttonProps:g(t,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:w=>{f&&(f(w),console.warn("onClick is deprecated, please use onPress"))}})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=h.createContext({}),J=T(function(s,d){[s,d]=k(s,d,R),s=A(s);let n=s,{isPending:a}=n,{buttonProps:i,isPressed:m}=B(s,d),{focusProps:x,isFocused:r,isFocusVisible:c}=H(s),{hoverProps:p,isHovered:f}=O({...s,isDisabled:s.isDisabled||a}),u={isHovered:f,isPressed:(n.isPressed||m)&&!a,isFocused:r,isFocusVisible:c,isDisabled:s.isDisabled||!1,isPending:a??!1},$=I({...s,values:u,defaultClassName:"react-aria-Button"}),o=y(i.id),l=y(),t=i["aria-labelledby"];a&&(t?t=`${t} ${l}`:i["aria-label"]&&(t=`${o} ${l}`));let b=h.useRef(a);return h.useEffect(()=>{let P={"aria-labelledby":t||o};!b.current&&r&&a?C(P,"assertive"):b.current&&r&&!a&&C(P,"assertive"),b.current=a},[a,r,t,o]),D.createElement("button",{...F(s,{propNames:N}),...g(i,x,p),...$,type:i.type==="submit"&&a?"button":i.type,id:o,ref:d,"aria-labelledby":t,slot:s.slot||void 0,"aria-disabled":a?"true":i["aria-disabled"],"data-disabled":s.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":f||void 0,"data-focused":r||void 0,"data-pending":a||void 0,"data-focus-visible":c||void 0},D.createElement(S.Provider,{value:{id:l}},$.children))});function A(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{J as $,R as a,B as b};
