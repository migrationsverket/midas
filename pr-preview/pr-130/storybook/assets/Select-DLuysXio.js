import{j as v}from"./jsx-runtime-Nms4Y4qS.js";import{$ as W,a as z}from"./Button-CFI5xjAF.js";import{a as H,$ as L,b as U,c as G}from"./ListBox-DXIOu1yG.js";import{e as J,k as Q,d as X,l as Y,j as Z}from"./Dialog-BH7dEMoU.js";import{n as F,c as V,k as ee,x as te,G as ae,H as le,$ as E,D as N,e as ie,E as oe,F as se,f as M,A as ne}from"./useFocusable-C3Zwbx3S.js";import{b as re,c as de,a as ce,d as ue,e as fe}from"./Form-BjuKzKLB.js";import{$ as pe}from"./intlStrings-ZMTSFH_M.js";import{b as me,c as be,a as j}from"./Text-CYGrO2MJ.js";import{c as $e}from"./Collection-CKcZJKgp.js";import{r as u,R as m}from"./index-BwDkhjyp.js";import{$ as ve}from"./useSingleSelectListState-Dxunz62G.js";import{a as ye}from"./DragAndDrop-D1my3whc.js";import{c as he}from"./SelectionManager-C4CZJXbT.js";import{$ as ge}from"./useCollator-D6c6TZtq.js";import{$ as xe}from"./useMenuTrigger-DDeUv1gI.js";import{$ as Pe}from"./VisuallyHidden-Booyl0mQ.js";import{$ as Se}from"./useLocalizedStringFormatter-CxeZs8NQ.js";import{I as _e}from"./TextField-BJXgRXB4.js";import{C as Re}from"./chevron-down-FOu3nidH.js";const A=new WeakMap;function Ie(e,t,i){let{keyboardDelegate:o,isDisabled:l,isRequired:r,name:s,validationBehavior:a="aria"}=e,d=ge({usage:"search",sensitivity:"base"}),c=u.useMemo(()=>o||new ye(t.collection,t.disabledKeys,null,d),[o,t.collection,t.disabledKeys,d]),{menuTriggerProps:n,menuProps:b}=xe({isDisabled:l,type:"listbox"},t,i),p=f=>{switch(f.key){case"ArrowLeft":{f.preventDefault();let h=t.selectedKey!=null?c.getKeyAbove(t.selectedKey):c.getFirstKey();h&&t.setSelectedKey(h);break}case"ArrowRight":{f.preventDefault();let h=t.selectedKey!=null?c.getKeyBelow(t.selectedKey):c.getFirstKey();h&&t.setSelectedKey(h);break}}},{typeSelectProps:y}=he({keyboardDelegate:c,selectionManager:t.selectionManager,onTypeSelect(f){t.setSelectedKey(f)}}),{isInvalid:x,validationErrors:_,validationDetails:I}=t.displayValidation,{labelProps:D,fieldProps:P,descriptionProps:g,errorMessageProps:C}=me({...e,labelElementType:"span",isInvalid:x,errorMessage:e.errorMessage||_});y.onKeyDown=y.onKeyDownCapture,delete y.onKeyDownCapture;let B=F(e,{labelable:!0}),$=V(y,n,P),R=ee();return A.set(t,{isDisabled:l,isRequired:r,name:s,validationBehavior:a}),{labelProps:{...D,onClick:()=>{e.isDisabled||(i.current.focus(),te("keyboard"))}},triggerProps:V(B,{...$,isDisabled:l,onKeyDown:ae($.onKeyDown,p,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[R,$["aria-labelledby"],$["aria-label"]&&!$["aria-labelledby"]?$.id:null].filter(Boolean).join(" "),onFocus(f){t.isFocused||(e.onFocus&&e.onFocus(f),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(f){t.isOpen||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:R},menuProps:{...b,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:f=>{f.currentTarget.contains(f.relatedTarget)||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[P["aria-labelledby"],$["aria-label"]&&!P["aria-labelledby"]?$.id:null].filter(Boolean).join(" ")},descriptionProps:g,errorMessageProps:C,isInvalid:x,validationErrors:_,validationDetails:I}}function De(e,t,i){let o=A.get(t)||{},{autoComplete:l,name:r=o.name,isDisabled:s=o.isDisabled}=e,{validationBehavior:a,isRequired:d}=o,c=le(),{visuallyHiddenProps:n}=Pe();re(e.selectRef,t.selectedKey,t.setSelectedKey),de({validationBehavior:a,focus:()=>i.current.focus()},t,e.selectRef);var b;return{containerProps:{...n,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{type:"text",tabIndex:c==null||t.isFocused||t.isOpen?-1:0,style:{fontSize:16},onFocus:()=>i.current.focus(),disabled:s},selectProps:{tabIndex:-1,autoComplete:l,disabled:s,required:a==="native"&&d,name:r,value:(b=t.selectedKey)!==null&&b!==void 0?b:"",onChange:p=>t.setSelectedKey(p.target.value)}}}function Ce(e){let{state:t,triggerRef:i,label:o,name:l,isDisabled:r}=e,s=u.useRef(null),{containerProps:a,inputProps:d,selectProps:c}=De({...e,selectRef:s},t,i);var n;return t.collection.size<=300?m.createElement("div",{...a,"data-testid":"hidden-select-container"},m.createElement("input",d),m.createElement("label",null,o,m.createElement("select",{...c,ref:s},m.createElement("option",null),[...t.collection.getKeys()].map(b=>{let p=t.collection.getItem(b);if(p.type==="item")return m.createElement("option",{key:p.key,value:p.key},p.textValue)})))):l?m.createElement("input",{type:"hidden",autoComplete:c.autoComplete,name:l,disabled:r,value:(n=t.selectedKey)!==null&&n!==void 0?n:""}):null}function Be(e){let t=J(e),[i,o]=u.useState(null),l=ve({...e,onSelectionChange:d=>{e.onSelectionChange!=null&&e.onSelectionChange(d),t.close(),r.commitValidation()}}),r=ce({...e,value:l.selectedKey}),[s,a]=u.useState(!1);return{...r,...l,...t,focusStrategy:i,open(d=null){l.collection.size!==0&&(o(d),t.open())},toggle(d=null){l.collection.size!==0&&(o(d),t.toggle())},isFocused:s,setFocused:a}}function Fe(e){return e&&e.__esModule?e.default:e}const K=u.createContext(null),T=u.createContext(null);function Ke(e,t){[e,t]=E(e,t,K);let{children:i,isDisabled:o=!1,isInvalid:l=!1,isRequired:r=!1}=e,s=u.useMemo(()=>typeof i=="function"?i({isOpen:!1,isDisabled:o,isInvalid:l,isRequired:r,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):i,[i,o,l,r]);return m.createElement($e,{content:s},a=>m.createElement(qe,{props:e,collection:a,selectRef:t}))}function qe({props:e,selectRef:t,collection:i}){let{validationBehavior:o}=N(ue)||{};var l,r;let s=(r=(l=e.validationBehavior)!==null&&l!==void 0?l:o)!==null&&r!==void 0?r:"native",a=Be({...e,collection:i,children:void 0,validationBehavior:s}),{isFocusVisible:d,focusProps:c}=ie({within:!0}),n=u.useRef(null),[b,p]=oe(),{labelProps:y,triggerProps:x,valueProps:_,menuProps:I,descriptionProps:D,errorMessageProps:P,...g}=Ie({...se(e),label:p,validationBehavior:s},a,n),[C,B]=u.useState(null),$=u.useCallback(()=>{n.current&&B(n.current.offsetWidth+"px")},[n]);Q({ref:n,onResize:$});let R=u.useMemo(()=>({isOpen:a.isOpen,isFocused:a.isFocused,isFocusVisible:d,isDisabled:e.isDisabled||!1,isInvalid:g.isInvalid||!1,isRequired:e.isRequired||!1}),[a.isOpen,a.isFocused,d,e.isDisabled,g.isInvalid,e.isRequired]),f=M({...e,values:R,defaultClassName:"react-aria-Select"}),h=F(e);delete h.id;let q=u.useRef(null);return m.createElement(ne,{values:[[K,e],[T,a],[O,_],[be,{...y,ref:b,elementType:"span"}],[W,{...x,ref:n,isPressed:a.isOpen}],[X,a],[Y,{trigger:"Select",triggerRef:n,scrollRef:q,placement:"bottom start",style:{"--trigger-width":C}}],[H,{...I,ref:q}],[L,a],[j,{slots:{description:D,errorMessage:P}}],[fe,g]]},m.createElement("div",{...h,...f,...c,ref:t,slot:e.slot||void 0,"data-focused":a.isFocused||void 0,"data-focus-visible":d||void 0,"data-open":a.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":g.isInvalid||void 0,"data-required":e.isRequired||void 0}),m.createElement(Ce,{state:a,triggerRef:n,label:p,name:e.name,isDisabled:e.isDisabled}))}const Ve=u.forwardRef(Ke),O=u.createContext(null);function ke(e,t){var i,o;[e,t]=E(e,t,O);let l=u.useContext(T),{placeholder:r}=N(K),s=l.selectedKey!=null?l.collection.getItem(l.selectedKey):null,a=s==null?void 0:s.props.children;typeof a=="function"&&(a=a({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let d=Se(Fe(pe),"react-aria-components");var c,n,b;let p=M({...e,defaultChildren:(c=a??r)!==null&&c!==void 0?c:d.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(n=(i=l.selectedItem)===null||i===void 0?void 0:i.value)!==null&&n!==void 0?n:null,selectedText:(b=(o=l.selectedItem)===null||o===void 0?void 0:o.textValue)!==null&&b!==void 0?b:null,isPlaceholder:!s}}),y=F(e);return m.createElement("span",{ref:t,...y,...p,"data-placeholder":!s||void 0},m.createElement(j.Provider,{value:void 0},p.children))}const we=u.forwardRef(ke),Ee='"../../../theme/src/lib/tokens.css"',Ne='"Inter", sans-serif',Me="#000000",je="#b31b1b",Ae="(max-width: 767px)",Te="#bfbfbf",Oe="#e6e6e6",We="#f2f2f2",ze="_button_2vwjb_4",He="_select_2vwjb_44",Le="_popover_2vwjb_60",Ue="_listBoxItem_2vwjb_68",Ge="_icon_2vwjb_90",S={tokens:Ee,display:Ne,black:Me,signalRed130:je,smBreakpoint:Ae,gray50:Te,gray20:Oe,backgroundSecondary:We,button:ze,select:He,popover:Le,listBoxItem:Ue,icon:Ge};function k({label:e,description:t,errorMessage:i,children:o,items:l,...r}){return v.jsxs(Ve,{className:S.select,...r,children:[v.jsx(_e,{label:e,description:t,errorMessage:i,children:v.jsxs(z,{className:S.button,children:[v.jsx(we,{}),v.jsx("div",{className:S.icon,"aria-hidden":"true",children:v.jsx(Re,{size:20,"aria-hidden":!0})})]})}),v.jsx(Z,{className:S.popover,offset:0,children:v.jsx(U,{items:l,children:o})})]})}function w(e){return v.jsx(G,{className:S.listBoxItem,...e})}try{k.displayName="Select",k.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Iterable<T>"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: SelectRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: SelectRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:'"native" | "aria"'}}}}}catch{}try{w.displayName="Item",w.__docgenInfo={description:"",displayName:"Item",props:{id:{defaultValue:null,description:"The unique id of the item.",name:"id",required:!1,type:{name:"Key"}},value:{defaultValue:null,description:"The object value that this item represents. When using dynamic collections, this is set automatically.",name:"value",required:!1,type:{name:"object"}},textValue:{defaultValue:null,description:"A string representation of the item's contents, used for features like typeahead.",name:"textValue",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"An accessibility label for this item.",name:"aria-label",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"Whether the item is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},onAction:{defaultValue:null,description:"Handler that is called when a user performs an action on the item. The exact user event depends on\nthe collection's `selectionBehavior` prop and the interaction modality.",name:"onAction",required:!1,type:{name:"() => void"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode | ((values: ListBoxItemRenderProps & { defaultChildren: ReactNode; }) => ReactNode)"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: ListBoxItemRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: ListBoxItemRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}export{w as I,k as S};
