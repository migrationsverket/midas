import{j as e}from"./jsx-runtime-DtgEGaVE.js";import{R as u}from"./index-BbAIUH2N.js";import{a as w}from"./Form-BFUD2BQV.js";import{$ as y}from"./Input-BPDe37i3.js";import{$ as b}from"./useField-Cmo2p-9r.js";import{$ as m}from"./Text-Dyiz11Ec.js";import{$ as N}from"./TextField-BiaSnfe4.js";import{T as n}from"./TextField.module-D5Tnj0hv.js";import{c as T}from"./clsx-B-dksMZM.js";import{B as R}from"./Button-CS2ZwkSb.js";const E=({label:o,description:a,errorMessage:t,validationType:r,validate:c,maxCharacters:s,showCounter:x,...d})=>{const[l,g]=u.useState(""),p=i=>{const j=i.target.value;g(j)},$=i=>r==="ssn"?q.test(i)?null:"Felaktigt personnummer":r instanceof RegExp?new RegExp(r).test(i)?null:t==null?void 0:t.toString():s?s&&i.length>s?`Du har angett ${i.length-s} tecken för mycket. Fältet är begränsat till ${s} tecken.`:null:c?c(i):!0,h=()=>s?e.jsxs("span",{className:T(n.count,l.length>s&&n.countExceeded),children:[l.length," / ",s]}):x?e.jsx("span",{className:n.count,children:l.length}):null;return e.jsx(N,{className:n.inputField,validate:$,...d,children:e.jsxs(f,{label:o,description:a,errorMessage:t,children:[e.jsx(h,{}),e.jsxs("div",{className:n.wrap,children:[e.jsx(y,{type:d.type,className:n.input,onChange:p,onBlur:p}),e.jsx(F,{type:d.type,input:l})]})]})})},F=({type:o,input:a})=>{const[t,r]=u.useState(!1);return o==="password"?e.jsxs(e.Fragment,{children:[t&&e.jsx(m,{slot:"description",className:n.passwordText,children:a}),e.jsx(R,{variant:"tertiary",onPress:()=>r(!t),className:n.passwordButton,children:t?"Dölj":"Visa"})]}):null},f=({label:o,description:a,errorMessage:t,children:r})=>e.jsxs("div",{className:n.inputWrapper,children:[o&&e.jsx(b,{className:n.label,children:o}),a&&e.jsx(m,{slot:"description",className:n.text,children:a}),e.jsx(w,{className:n.fieldError,children:t}),r]}),q=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$");E.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string) | undefined",elements:[{name:"string"},{name:"unknown"},{name:"undefined"}]},description:""},validationType:{required:!1,tsType:{name:"union",raw:"'ssn' | RegExp",elements:[{name:"literal",value:"'ssn'"},{name:"RegExp"}]},description:""},maxCharacters:{required:!1,tsType:{name:"number"},description:""},showCounter:{required:!1,tsType:{name:"boolean"},description:""}},composes:["AriaTextFieldProps"]};f.__docgenInfo={description:"",methods:[],displayName:"InputWrapper"};export{f as I,E as T};
