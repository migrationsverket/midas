import{q as M,R as u,r as l,j as y}from"./iframe-CQ_fy_EY.js";import{c as L}from"./clsx-Ciqy0D92.js";import{a as B,b as H,c as F,d as j,$ as U}from"./OverlayArrow-9MzEcXEe.js";import{b as O,f as k,j as z,$ as K,a as Y}from"./utils-C7l7LqzK.js";import{e as V,$ as S,d as G,x as J,A as Q,E as X}from"./useFocusRing-CBjwNCjA.js";import{$ as Z,a as ee}from"./animation-Df-Y-aE1.js";import{R as te}from"./index-BJJvraYt.js";const P=u.createContext(null);function oe(e){let{children:o}=e,t=l.useContext(P),[r,s]=l.useState(0),i=l.useMemo(()=>({parent:t,modalCount:r,addModal(){s(n=>n+1),t&&t.addModal()},removeModal(){s(n=>n-1),t&&t.removeModal()}}),[t,r]);return u.createElement(P.Provider,{value:i},o)}function ae(){let e=l.useContext(P);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function re(e){let{modalProviderProps:o}=ae();return u.createElement("div",{"data-overlay-container":!0,...e,...o})}function ne(e){return u.createElement(oe,null,u.createElement(re,e))}function le(e){let o=M(),{portalContainer:t=o?null:document.body,...r}=e,{getContainer:s}=B();if(!e.portalContainer&&s&&(t=s()),u.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let i=u.createElement(ne,r);return te.createPortal(i,t)}function ie(e,o){let t=V(e,{labelable:!0}),{hoverProps:r}=S({onHoverStart:()=>o?.open(!0),onHoverEnd:()=>o?.close()});return{tooltipProps:O(t,r,{role:"tooltip"})}}function se(e,o,t){let{isDisabled:r,trigger:s,shouldCloseOnPress:i=!0}=e,n=k(),a=l.useRef(!1),d=l.useRef(!1),m=()=>{(a.current||d.current)&&o.open(d.current)},p=v=>{!a.current&&!d.current&&o.close(v)};l.useEffect(()=>{let v=w=>{t&&t.current&&w.key==="Escape"&&(w.stopPropagation(),o.close(!0))};if(o.isOpen)return document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[t,o]);let $=()=>{s!=="focus"&&(J()==="pointer"?a.current=!0:a.current=!1,m())},x=()=>{s!=="focus"&&(d.current=!1,a.current=!1,p())},T=()=>{i&&(d.current=!1,a.current=!1,p(!0))},c=()=>{Q()&&(d.current=!0,m())},W=()=>{d.current=!1,a.current=!1,p(!0)},{hoverProps:A}=S({isDisabled:r,onHoverStart:$,onHoverEnd:x}),{focusableProps:I}=G({isDisabled:r,onFocus:c,onBlur:W},t);return{triggerProps:{"aria-describedby":o.isOpen?n:void 0,...O(I,A,{onPointerDown:T,onKeyDown:T}),tabIndex:void 0},tooltipProps:{id:n}}}const de=1500,C=500;let h={},ue=0,g=!1,f=null,b=null;function D(e={}){let{delay:o=de,closeDelay:t=C}=e,{isOpen:r,open:s,close:i}=H(e),n=l.useMemo(()=>`${++ue}`,[]),a=l.useRef(null),d=l.useRef(i),m=()=>{h[n]=x},p=()=>{for(let c in h)c!==n&&(h[c](!0),delete h[c])},$=()=>{a.current&&clearTimeout(a.current),a.current=null,p(),m(),g=!0,s(),f&&(clearTimeout(f),f=null),b&&(clearTimeout(b),b=null)},x=c=>{c||t<=0?(a.current&&clearTimeout(a.current),a.current=null,d.current()):a.current||(a.current=setTimeout(()=>{a.current=null,d.current()},t)),f&&(clearTimeout(f),f=null),g&&(b&&clearTimeout(b),b=setTimeout(()=>{delete h[n],b=null,g=!1},Math.max(C,t)))},T=()=>{p(),m(),!r&&!f&&!g?f=setTimeout(()=>{f=null,g=!0,$()},o):r||$()};return l.useEffect(()=>{d.current=i},[i]),l.useEffect(()=>()=>{a.current&&clearTimeout(a.current),h[n]&&delete h[n]},[n]),{isOpen:r,open:c=>{!c&&o>0&&!a.current?T():$()},close:x}}const E=l.createContext(null),N=l.createContext(null);function ce(e){let o=D(e),t=l.useRef(null),{triggerProps:r,tooltipProps:s}=se(e,o,t);return u.createElement(z,{values:[[E,o],[N,{...s,triggerRef:t}]]},u.createElement(X,{...r,ref:t},e.children))}const fe=l.forwardRef(function({UNSTABLE_portalContainer:o,...t},r){[t,r]=K(t,r,N);let s=l.useContext(E),i=D(t),n=t.isOpen!=null||t.defaultOpen!=null||!s?i:s,a=Z(r,n.isOpen)||t.isExiting||!1;return!n.isOpen&&!a?null:u.createElement(le,{portalContainer:o},u.createElement(pe,{...t,tooltipRef:r,isExiting:a}))});function pe(e){let o=l.useContext(E),t=l.useRef(null),{overlayProps:r,arrowProps:s,placement:i,triggerAnchorPoint:n}=F({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,arrowRef:t,offset:e.offset,crossOffset:e.crossOffset,isOpen:o.isOpen,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,containerPadding:e.containerPadding,onClose:()=>o.close(!0)}),a=ee(e.tooltipRef,!!i)||e.isEntering||!1,d=Y({...e,defaultClassName:"react-aria-Tooltip",values:{placement:i,isEntering:a,isExiting:e.isExiting,state:o}});e=O(e,r);let{tooltipProps:m}=ie(e,o),p=V(e,{global:!0});return u.createElement("div",{...O(p,d,m),ref:e.tooltipRef,style:{...r.style,"--trigger-anchor-point":n?`${n.x}px ${n.y}px`:void 0,...d.style},"data-placement":i??void 0,"data-entering":a||void 0,"data-exiting":e.isExiting||void 0},u.createElement(j.Provider,{value:{...s,placement:i,ref:t}},d.children))}const me="_tooltip_1nthz_1",he="_arrow_1nthz_18",R={tooltip:me,arrow:he};function _({children:e,className:o,...t}){return y.jsxs(fe,{className:L(R.tooltip,o),...t,children:[y.jsx(U,{className:R.arrow,children:y.jsx("svg",{width:8,height:8,viewBox:"0 0 8 8",children:y.jsx("path",{d:"M0 0 L4 4 L8 0"})})}),e]})}function q({children:e,delay:o=0,...t}){return y.jsx(ce,{delay:o,...t,children:e})}try{_.displayName="Tooltip",_.__docgenInfo={description:"",displayName:"Tooltip",props:{className:{defaultValue:{value:"'react-aria-Tooltip'"},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"ClassNameOrFunction<TooltipRenderProps>"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"StyleOrFunction<TooltipRenderProps>"}},offset:{defaultValue:{value:"0"},description:`The additional offset applied along the main axis between the element and its
anchor element.`,name:"offset",required:!1,type:{name:"number"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},shouldFlip:{defaultValue:{value:"true"},description:`Whether the element should flip its orientation (e.g. top to bottom or left to right) when
there is insufficient room for it to render completely.`,name:"shouldFlip",required:!1,type:{name:"boolean"}},isEntering:{defaultValue:null,description:"Whether the tooltip is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the tooltip is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:`The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.
@deprecated - Use a parent UNSAFE_PortalProvider to set your portal container instead.`,name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},placement:{defaultValue:{value:"'top'"},description:"The placement of the tooltip with respect to the trigger.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"end"'},{value:'"start"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end top"'},{value:'"end bottom"'}]}},containerPadding:{defaultValue:{value:"12"},description:`The placement padding that should be applied between the element and its
surrounding container.`,name:"containerPadding",required:!1,type:{name:"number"}},crossOffset:{defaultValue:{value:"0"},description:`The additional offset applied along the cross axis between the element and its
anchor element.`,name:"crossOffset",required:!1,type:{name:"number"}},triggerRef:{defaultValue:null,description:`The ref for the element which the tooltip positions itself with respect to.

When used within a TooltipTrigger this is set automatically. It is only required when used standalone.`,name:"triggerRef",required:!1,type:{name:"RefObject<Element | null>"}},arrowBoundaryOffset:{defaultValue:{value:"0"},description:"The minimum distance the arrow's edge should be from the edge of the overlay element.",name:"arrowBoundaryOffset",required:!1,type:{name:"number"}}}}}catch{}try{q.displayName="TooltipTrigger",q.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{isDisabled:{defaultValue:null,description:"Whether the tooltip should be disabled, independent from the trigger.",name:"isDisabled",required:!1,type:{name:"boolean"}},delay:{defaultValue:{value:"0"},description:"The delay time for the tooltip to show up. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Immediate-or-delayed-appearance).",name:"delay",required:!1,type:{name:"number"}},closeDelay:{defaultValue:{value:"500"},description:"The delay time for the tooltip to close. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Warmup-and-cooldown).",name:"closeDelay",required:!1,type:{name:"number"}},trigger:{defaultValue:{value:"'hover'"},description:"By default, opens for both focus and hover. Can be made to open only for focus.",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"focus"'},{value:'"hover"'}]}},shouldCloseOnPress:{defaultValue:{value:"true"},description:"Whether the tooltip should close when the trigger is pressed.",name:"shouldCloseOnPress",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}}}}}catch{}export{q as T,_ as a};
