import{a as br}from"./Button-BD6hc4wl.js";import{g as ge,b as J,e as z,m as oe,c as H,l as mr,d as G,$ as Y,a as _,h as gr,f as Se,k as O,n as ne,o as vr,i as xr}from"./utils-oc6myKvD.js";import{$ as yr}from"./RSPContexts-HQcWPJyv.js";import{h as hr,d as Pr,c as Er,$ as Me,a as Cr,b as Dr,e as Sr,g as Ae}from"./OverlayArrow-qK8NxBS9.js";import{$ as Mr,a as Ar,b as kr,c as ke,d as wr,g as Br}from"./Collection-BHHe22Am.js";import{$ as Fr,a as Kr,b as ve,c as Rr,d as Tr}from"./Separator-DiWRQEoC.js";import{r as c,R as $}from"./index-ClcD9ViR.js";import{$ as Or}from"./Text-C8tPE3tt.js";import{$ as k}from"./filterDOMProps-CeZl_uWj.js";import{l as Ir,d as Nr,$ as we,a as Lr,b as Be}from"./SelectionManager-BGs3xiJx.js";import{a as zr,$ as Fe}from"./PressResponder-DqE_a81G.js";import{i as Hr,c as _r,x as Ur,w as xe,a as Ke,t as ye,q as Wr,o as se}from"./useFocusRing-DUrskli4.js";import{c as Vr,$ as jr,d as Gr}from"./usePress-BfxC_TyQ.js";import{c as qr}from"./useFocusable-tJD4A6lu.js";import{$ as Re}from"./useLocalizedStringFormatter-DqnULi-B.js";import{$ as Zr}from"./useControlledState-H1tiOFpU.js";import{c as Jr,a as Te}from"./FocusScope-Dq_oVuiP.js";import{$ as Yr}from"./index-DQEgcCId.js";import{b as Xr}from"./Hidden-BC9qER92.js";import{$ as Qr}from"./context-BSqJJvai.js";import{$ as Oe}from"./getScrollParent-CvodOSaS.js";import{a as ea}from"./useLabel-Blgy_cRF.js";import{$ as ta}from"./VisuallyHidden-uwYO98VR.js";function ra(t){let{ref:e,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:a}=t,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),d=ge(n=>{r&&he(n,e)&&(a&&a(n),s.current.isPointerDown=!0)}),l=ge(n=>{r&&r(n)});c.useEffect(()=>{let n=s.current;if(o)return;const i=e.current,u=Hr(i);if(typeof PointerEvent<"u"){let p=m=>{n.isPointerDown&&he(m,e)&&l(m),n.isPointerDown=!1};return u.addEventListener("pointerdown",d,!0),u.addEventListener("click",p,!0),()=>{u.removeEventListener("pointerdown",d,!0),u.removeEventListener("click",p,!0)}}},[e,o,d,l])}function he(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const D=[];function aa(t,e){let{onClose:r,shouldCloseOnBlur:o,isOpen:a,isDismissable:s=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:l}=t;c.useEffect(()=>{if(a&&!D.includes(e))return D.push(e),()=>{let b=D.indexOf(e);b>=0&&D.splice(b,1)}},[a,e]);let n=()=>{D[D.length-1]===e&&r&&r()},i=b=>{(!l||l(b.target))&&D[D.length-1]===e&&(b.stopPropagation(),b.preventDefault())},u=b=>{(!l||l(b.target))&&(D[D.length-1]===e&&(b.stopPropagation(),b.preventDefault()),n())},p=b=>{b.key==="Escape"&&!d&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),n())};ra({ref:e,onInteractOutside:s&&a?u:void 0,onInteractOutsideStart:i});let{focusWithinProps:m}=_r({isDisabled:!o,onBlurWithin:b=>{!b.relatedTarget||Jr(b.relatedTarget)||(!l||l(b.relatedTarget))&&(r==null||r())}}),f=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:p,...m},underlayProps:{onPointerDown:f}}}function Ie(t,e,r){let{type:o}=t,{isOpen:a}=e;c.useEffect(()=>{r&&r.current&&hr.set(r.current,e.close)});let s;o==="menu"?s=!0:o==="listbox"&&(s="listbox");let d=J();return{triggerProps:{"aria-haspopup":s,"aria-expanded":a,"aria-controls":a?d:void 0,onPress:e.toggle},overlayProps:{id:d}}}const re=typeof document<"u"&&window.visualViewport,oa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let j=0,ae;function na(t={}){let{isDisabled:e}=t;z(()=>{if(!e)return j++,j===1&&(Ur()?ae=la():ae=sa()),()=>{j--,j===0&&ae()}},[e])}function sa(){let t=window.innerWidth-document.documentElement.clientWidth;return oe(t>0&&("scrollbarGutter"in document.documentElement.style?A(document.documentElement,"scrollbarGutter","stable"):A(document.documentElement,"paddingRight",`${t}px`)),A(document.documentElement,"overflow","hidden"))}function la(){let t,e,r=i=>{t=Oe(i.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=A(t,"overscrollBehavior","contain"))},o=i=>{if(!t||t===document.documentElement||t===document.body){i.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&i.preventDefault()},a=()=>{e&&e()},s=i=>{let u=i.target;ia(u)&&(l(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",re&&(re.height<window.innerHeight?requestAnimationFrame(()=>{Pe(u)}):re.addEventListener("resize",()=>Pe(u),{once:!0}))}))},d=null,l=()=>{if(d)return;let i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,p=window.pageYOffset;d=oe(N(window,"scroll",i),A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"),A(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(u,p)}),window.scrollTo(0,0)},n=oe(N(document,"touchstart",r,{passive:!1,capture:!0}),N(document,"touchmove",o,{passive:!1,capture:!0}),N(document,"touchend",a,{passive:!1,capture:!0}),N(document,"focus",s,!0));return()=>{e==null||e(),d==null||d(),n()}}function A(t,e,r){let o=t.style[e];return t.style[e]=r,()=>{t.style[e]=o}}function N(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}function Pe(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let o=Oe(r);if(o!==document.documentElement&&o!==document.body&&o!==r){let a=o.getBoundingClientRect().top,s=r.getBoundingClientRect().top;s>a+r.clientHeight&&(o.scrollTop+=s-a)}r=o.parentElement}}function ia(t){return t instanceof HTMLInputElement&&!oa.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Ne={};Ne={dismiss:"تجاهل"};var Le={};Le={dismiss:"Отхвърляне"};var ze={};ze={dismiss:"Odstranit"};var He={};He={dismiss:"Luk"};var _e={};_e={dismiss:"Schließen"};var Ue={};Ue={dismiss:"Απόρριψη"};var We={};We={dismiss:"Dismiss"};var Ve={};Ve={dismiss:"Descartar"};var je={};je={dismiss:"Lõpeta"};var Ge={};Ge={dismiss:"Hylkää"};var qe={};qe={dismiss:"Rejeter"};var Ze={};Ze={dismiss:"התעלם"};var Je={};Je={dismiss:"Odbaci"};var Ye={};Ye={dismiss:"Elutasítás"};var Xe={};Xe={dismiss:"Ignora"};var Qe={};Qe={dismiss:"閉じる"};var et={};et={dismiss:"무시"};var tt={};tt={dismiss:"Atmesti"};var rt={};rt={dismiss:"Nerādīt"};var at={};at={dismiss:"Lukk"};var ot={};ot={dismiss:"Negeren"};var nt={};nt={dismiss:"Zignoruj"};var st={};st={dismiss:"Descartar"};var lt={};lt={dismiss:"Dispensar"};var it={};it={dismiss:"Revocare"};var ut={};ut={dismiss:"Пропустить"};var dt={};dt={dismiss:"Zrušiť"};var ct={};ct={dismiss:"Opusti"};var ft={};ft={dismiss:"Odbaci"};var $t={};$t={dismiss:"Avvisa"};var pt={};pt={dismiss:"Kapat"};var bt={};bt={dismiss:"Скасувати"};var mt={};mt={dismiss:"取消"};var gt={};gt={dismiss:"關閉"};var vt={};vt={"ar-AE":Ne,"bg-BG":Le,"cs-CZ":ze,"da-DK":He,"de-DE":_e,"el-GR":Ue,"en-US":We,"es-ES":Ve,"et-EE":je,"fi-FI":Ge,"fr-FR":qe,"he-IL":Ze,"hr-HR":Je,"hu-HU":Ye,"it-IT":Xe,"ja-JP":Qe,"ko-KR":et,"lt-LT":tt,"lv-LV":rt,"nb-NO":at,"nl-NL":ot,"pl-PL":nt,"pt-BR":st,"pt-PT":lt,"ro-RO":it,"ru-RU":ut,"sk-SK":dt,"sl-SI":ct,"sr-SP":ft,"sv-SE":$t,"tr-TR":pt,"uk-UA":bt,"zh-CN":mt,"zh-TW":gt};function ua(t){return t&&t.__esModule?t.default:t}function Ee(t){let{onDismiss:e,...r}=t,o=Re(ua(vt),"@react-aria/overlays"),a=ea(r,o.format("dismiss")),s=()=>{e&&e()};return $.createElement(ta,null,$.createElement("button",{...a,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let L=new WeakMap,P=[];function da(t,e=document.body){let r=new Set(t),o=new Set,a=n=>{for(let m of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(m);let i=m=>{if(r.has(m)||m.parentElement&&o.has(m.parentElement)&&m.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if(m.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i}),p=i(n);if(p===NodeFilter.FILTER_ACCEPT&&s(n),p!==NodeFilter.FILTER_REJECT){let m=u.nextNode();for(;m!=null;)s(m),m=u.nextNode()}},s=n=>{var i;let u=(i=L.get(n))!==null&&i!==void 0?i:0;n.getAttribute("aria-hidden")==="true"&&u===0||(u===0&&n.setAttribute("aria-hidden","true"),o.add(n),L.set(n,u+1))};P.length&&P[P.length-1].disconnect(),a(e);let d=new MutationObserver(n=>{for(let i of n)if(!(i.type!=="childList"||i.addedNodes.length===0)&&![...r,...o].some(u=>u.contains(i.target))){for(let u of i.removedNodes)u instanceof Element&&(r.delete(u),o.delete(u));for(let u of i.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?r.add(u):u instanceof Element&&a(u)}});d.observe(e,{childList:!0,subtree:!0});let l={visibleNodes:r,hiddenNodes:o,observe(){d.observe(e,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return P.push(l),()=>{d.disconnect();for(let n of o){let i=L.get(n);i!=null&&(i===1?(n.removeAttribute("aria-hidden"),L.delete(n)):L.set(n,i-1))}l===P[P.length-1]?(P.pop(),P.length&&P[P.length-1].observe()):P.splice(P.indexOf(l),1)}}function ca(t){let e=P[P.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function fa(t,e){let{triggerRef:r,popoverRef:o,groupRef:a,isNonModal:s,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l,...n}=t,i=n.trigger==="SubmenuTrigger",{overlayProps:u,underlayProps:p}=aa({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||i,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l},a??o),{overlayProps:m,arrowProps:f,placement:b}=Pr({...n,targetRef:r,overlayRef:o,isOpen:e.isOpen,onClose:s&&!i?e.close:null});return na({isDisabled:s||!e.isOpen}),z(()=>{if(e.isOpen&&o.current){var y,v;return s?ca((y=a==null?void 0:a.current)!==null&&y!==void 0?y:o.current):da([(v=a==null?void 0:a.current)!==null&&v!==void 0?v:o.current])}},[s,e.isOpen,o,a]),{popoverProps:H(u,m),arrowProps:f,underlayProps:p,placement:b}}const xt=$.createContext(null);function Ce(t){let e=mr(),{portalContainer:r=e?null:document.body,isExiting:o}=t,[a,s]=c.useState(!1),d=c.useMemo(()=>({contain:a,setContain:s}),[a,s]),{getContainer:l}=Er();if(!t.portalContainer&&l&&(r=l()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=$.createElement(Te,{restoreFocus:!0,contain:(t.shouldContainFocus||a)&&!o},n)),n=$.createElement(xt.Provider,{value:d},$.createElement(zr,null,n)),Yr.createPortal(n,r)}function $a(){let t=c.useContext(xt),e=t==null?void 0:t.setContain;z(()=>{e==null||e(!0)},[e])}var yt={};yt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var ht={};ht={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Pt={};Pt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Et={};Et={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ct={};Ct={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Dt={};Dt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var St={};St={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Mt={};Mt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var At={};At={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var kt={};kt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var wt={};wt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Bt={};Bt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ft={};Ft={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Kt={};Kt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Rt={};Rt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Tt={};Tt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Ot={};Ot={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var It={};It={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Nt={};Nt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Lt={};Lt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var zt={};zt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Ht={};Ht={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var _t={};_t={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Ut={};Ut={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Wt={};Wt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Vt={};Vt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var jt={};jt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Gt={};Gt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var qt={};qt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Zt={};Zt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Jt={};Jt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Yt={};Yt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Xt={};Xt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Qt={};Qt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var er={};er={"ar-AE":yt,"bg-BG":ht,"cs-CZ":Pt,"da-DK":Et,"de-DE":Ct,"el-GR":Dt,"en-US":St,"es-ES":Mt,"et-EE":At,"fi-FI":kt,"fr-FR":wt,"he-IL":Bt,"hr-HR":Ft,"hu-HU":Kt,"it-IT":Rt,"ja-JP":Tt,"ko-KR":Ot,"lt-LT":It,"lv-LV":Nt,"nb-NO":Lt,"nl-NL":zt,"pl-PL":Ht,"pt-BR":_t,"pt-PT":Ut,"ro-RO":Wt,"ru-RU":Vt,"sk-SK":jt,"sl-SI":Gt,"sr-SP":qt,"sv-SE":Zt,"tr-TR":Jt,"uk-UA":Yt,"zh-CN":Xt,"zh-TW":Qt};function pa(t){return t&&t.__esModule?t.default:t}function ba(t,e,r){let{type:o="menu",isDisabled:a,trigger:s="press"}=t,d=J(),{triggerProps:l,overlayProps:n}=Ie({type:o},e,r),i=f=>{if(!a&&!(s==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},u=Re(pa(er),"@react-aria/menu"),{longPressProps:p}=Ir({isDisabled:a||s!=="longPress",accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),m={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!a&&(xe(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!a&&(xe(f.target),e.toggle())}};return delete l.onPress,{menuTriggerProps:{...l,...s==="press"?m:p,id:d,onKeyDown:i},menuProps:{...n,"aria-labelledby":d,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const tr=new WeakMap;function ma(t,e,r){let{shouldFocusWrap:o=!0,onKeyDown:a,onKeyUp:s,...d}=t;!t["aria-label"]&&t["aria-labelledby"];let l=k(t,{labelable:!0}),{listProps:n}=Fr({...d,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return tr.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:H(l,{onKeyDown:a,onKeyUp:s},{role:"menu",...n,onKeyDown:i=>{var u;(i.key!=="Escape"||t.shouldUseVirtualFocus)&&((u=n.onKeyDown)===null||u===void 0||u.call(n,i))}})}}function ga(t,e,r){let{id:o,key:a,closeOnSelect:s,isVirtualized:d,"aria-haspopup":l,onPressStart:n,onPressUp:i,onPress:u,onPressChange:p,onPressEnd:m,onHoverStart:f,onHoverChange:b,onHoverEnd:y,onKeyDown:v,onKeyUp:w,onFocus:B,onFocusChange:U,onBlur:S,selectionManager:h=e.selectionManager}=t,E=!!l,I=E&&t["aria-expanded"]==="true";var F;let C=(F=t.isDisabled)!==null&&F!==void 0?F:h.isDisabled(a);var M;let W=(M=t.isSelected)!==null&&M!==void 0?M:h.isSelected(a),K=tr.get(e),x=e.collection.getItem(a),R=t.onClose||K.onClose,or=Vr(),Q=g=>{var te;if(!E){if(!(x==null||(te=x.props)===null||te===void 0)&&te.onAction?x.props.onAction():t.onAction&&t.onAction(a),K.onAction){let pr=K.onAction;pr(a)}g.target instanceof HTMLAnchorElement&&x&&or.open(g.target,g,x.props.href,x.props.routerOptions)}},ee="menuitem";E||(h.selectionMode==="single"?ee="menuitemradio":h.selectionMode==="multiple"&&(ee="menuitemcheckbox"));let ce=G(),fe=G(),$e=G(),V={id:o,"aria-disabled":C||void 0,role:ee,"aria-label":t["aria-label"],"aria-labelledby":ce,"aria-describedby":[fe,$e].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};h.selectionMode!=="none"&&!E&&(V["aria-checked"]=W),d&&(V["aria-posinset"]=x==null?void 0:x.index,V["aria-setsize"]=Kr(e.collection));let nr=g=>{g.pointerType==="keyboard"&&Q(g),n==null||n(g)},pe=()=>{!E&&R&&(s??(h.selectionMode!=="multiple"||h.isLink(a)))&&R()},sr=g=>{g.pointerType==="mouse"&&(Q(g),pe()),i==null||i(g)},lr=g=>{g.pointerType!=="keyboard"&&g.pointerType!=="mouse"&&(Q(g),pe()),u==null||u(g)},{itemProps:T,isFocused:be}=Nr({id:o,selectionManager:h,key:a,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:K.shouldUseVirtualFocus}),{pressProps:ir,isPressed:ur}=jr({onPressStart:nr,onPress:lr,onPressUp:sr,onPressChange:p,onPressEnd:m,isDisabled:C}),{hoverProps:dr}=Ke({isDisabled:C,onHoverStart(g){!ye()&&!(I&&l)&&(h.setFocused(!0),h.setFocusedKey(a)),f==null||f(g)},onHoverChange:b,onHoverEnd:y}),{keyboardProps:cr}=qr({onKeyDown:g=>{if(g.repeat){g.continuePropagation();return}switch(g.key){case" ":!C&&h.selectionMode==="none"&&!E&&s!==!1&&R&&R();break;case"Enter":!C&&s!==!1&&!E&&R&&R();break;default:E||g.continuePropagation(),v==null||v(g);break}},onKeyUp:w}),{focusProps:fr}=Wr({onBlur:S,onFocus:B,onFocusChange:U}),me=k(x==null?void 0:x.props);delete me.id;let $r=Gr(x==null?void 0:x.props);return{menuItemProps:{...V,...H(me,$r,E?{onFocus:T.onFocus,"data-collection":T["data-collection"],"data-key":T["data-key"]}:T,ir,dr,cr,fr,K.shouldUseVirtualFocus||E?{onMouseDown:g=>g.preventDefault()}:void 0),tabIndex:T.tabIndex!=null&&I&&!K.shouldUseVirtualFocus?-1:T.tabIndex},labelProps:{id:ce},descriptionProps:{id:fe},keyboardShortcutProps:{id:$e},isFocused:be,isFocusVisible:be&&h.isFocused&&ye()&&!I,isSelected:W,isPressed:ur,isDisabled:C}}function va(t){let{heading:e,"aria-label":r}=t,o=J();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?o:void 0}}}function xa(t,e){let{role:r="dialog"}=t,o=G();o=t["aria-label"]?void 0:o;let a=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){se(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(a.current=!0,e.current&&(e.current.blur(),se(e.current)),a.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),$a(),{dialogProps:{...k(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||o,onBlur:s=>{a.current&&s.stopPropagation()}},titleProps:{id:o}}}function ie(t){let e=Me(t),[r,o]=c.useState(null),[a,s]=c.useState([]),d=()=>{s([]),e.close()};return{focusStrategy:r,...e,open(i=null){o(i),e.open()},toggle(i=null){o(i),e.toggle()},close(){d()},expandedKeysStack:a,openSubmenu:(i,u)=>{s(p=>u>p.length?p:[...p.slice(0,u),i])},closeSubmenu:(i,u)=>{s(p=>p[u]===i?p.slice(0,u):p)}}}class ya{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var o;return r&&(o=r.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let r=this.keyMap.get(e);var o;return r&&(o=r.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let o=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||r.has(l.key)))for(let n of l.childNodes)o(n)};for(let l of e)o(l);let a=null,s=0;for(let[l,n]of this.keyMap)a?(a.nextKey=l,n.prevKey=a.key):(this.firstKey=l,n.prevKey=void 0),n.type==="item"&&(n.index=s++),a=n,a.nextKey=void 0;var d;this.lastKey=(d=a==null?void 0:a.key)!==null&&d!==void 0?d:null}}function ha(t){let{onExpandedChange:e}=t,[r,o]=Zr(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=we(t),s=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),d=Lr(t,c.useCallback(n=>new ya(n,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{a.focusedKey!=null&&!d.getItem(a.focusedKey)&&a.setFocusedKey(null)},[d,a.focusedKey]),{collection:d,expandedKeys:r,disabledKeys:s,toggleKey:n=>{o(Pa(r,n))},setExpandedKeys:o,selectionManager:new Be(d,a)}}function Pa(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const ue=c.createContext(null),De=c.createContext(null),Xa=c.forwardRef(function(e,r){[e,r]=Y(e,r,ue);let o=c.useContext(X),a=Me(e),s=e.isOpen!=null||e.defaultOpen!=null||!o?a:o,d=Cr(r,s.isOpen)||e.isExiting||!1,l=Xr(),{direction:n}=Qr();if(l){let i=e.children;return typeof i=="function"&&(i=i({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),$.createElement($.Fragment,null,i)}return s&&!s.isOpen&&!d?null:$.createElement(Ea,{...e,triggerRef:e.triggerRef,state:s,popoverRef:r,isExiting:d,dir:n})});function Ea({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:o,...a}){let s=c.useRef(null),[d,l]=c.useState(0),n=c.useRef(null),i=c.useContext(De),u=i&&a.trigger==="SubmenuTrigger";z(()=>{s.current&&t.isOpen&&l(s.current.getBoundingClientRect().width)},[t.isOpen,s]);var p;let{popoverProps:m,underlayProps:f,arrowProps:b,placement:y}=fa({...a,offset:(p=a.offset)!==null&&p!==void 0?p:8,arrowSize:d,groupRef:u?i:n},t),v=a.popoverRef,w=Dr(v,!!y)||a.isEntering||!1,B=_({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:y,isEntering:w,isExiting:e}}),U=!a.isNonModal||a.trigger==="SubmenuTrigger",[S,h]=c.useState(!1);z(()=>{v.current&&h(U&&!v.current.querySelector("[role=dialog]"))},[v,U]),c.useEffect(()=>{S&&v.current&&!v.current.contains(document.activeElement)&&se(v.current)},[S,v]);let E=c.useMemo(()=>{let M=B.children;if(o)for(let W of o)M=$.createElement(W.Provider,{value:null},M);return M},[B.children,o]),I={...m.style,...B.style},F=$.createElement("div",{...H(k(a),m),...B,role:S?"dialog":void 0,tabIndex:S?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:v,slot:a.slot||void 0,style:I,dir:a.dir,"data-trigger":a.trigger,"data-placement":y,"data-entering":w||void 0,"data-exiting":e||void 0},!a.isNonModal&&$.createElement(Ee,{onDismiss:t.close}),$.createElement(Sr.Provider,{value:{...b,placement:y,ref:s}},E),$.createElement(Ee,{onDismiss:t.close}));if(!u)return $.createElement(Ce,{...a,shouldContainFocus:S,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&$.createElement("div",{"data-testid":"underlay",...f,style:{position:"fixed",inset:0}}),$.createElement("div",{ref:n,style:{display:"contents"}},$.createElement(De.Provider,{value:n},F)));var C;return $.createElement(Ce,{...a,shouldContainFocus:S,isExiting:e,portalContainer:(C=r??(i==null?void 0:i.current))!==null&&C!==void 0?C:void 0},F)}const Ca=c.createContext({}),rr=c.createContext(null),de=c.createContext(null),q=c.createContext(null),Z=c.createContext(null);function Qa(t){let e=ie(t),r=c.useRef(null),{menuTriggerProps:o,menuProps:a}=ba({...t,type:"menu"},e,r),[s,d]=c.useState(null),l=c.useCallback(()=>{r.current&&d(r.current.offsetWidth+"px")},[r]);Ae({ref:r,onResize:l});let n=c.useRef(null);return $.createElement(O,{values:[[rr,{...a,ref:n}],[X,e],[q,e],[ue,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":a["aria-labelledby"]}]]},$.createElement(Fe,{...o,ref:r,isPressed:e.isOpen},t.children))}const Da=c.createContext(null),eo=c.forwardRef(function(e,r){return[e,r]=Y(e,r,rr),$.createElement(Ar,{content:$.createElement(kr,e)},o=>$.createElement(Sa,{props:e,collection:o,menuRef:r}))});function Sa({props:t,collection:e,menuRef:r}){let{filter:o,collectionProps:a,collectionRef:s}=c.useContext(ve)||{};r=Se(c.useMemo(()=>vr(r,s!==void 0?s:null),[s,r]));let d=c.useMemo(()=>o?e.UNSTABLE_filter(o):e,[e,o]),l=ha({...t,collection:d,children:void 0}),n=c.useContext(q),{isVirtualized:i,CollectionRoot:u}=c.useContext(ke),{menuProps:p}=ma({...t,...a,isVirtualized:i,onClose:t.onClose||(n==null?void 0:n.close)},l,r),m=_({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:l.collection.size===0}}),f=null;return l.collection.size===0&&t.renderEmptyState&&(f=$.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState())),$.createElement(Te,null,$.createElement("div",{...k(t),...p,...m,ref:r,slot:t.slot||void 0,"data-empty":l.collection.size===0||void 0,onScroll:t.onScroll},$.createElement(O,{values:[[de,l],[Rr,{elementType:"div"}],[wr,{name:"MenuSection",render:Aa}],[Da,{parentMenuRef:r,shouldUseVirtualFocus:a==null?void 0:a.shouldUseVirtualFocus}],[le,null],[ve,null],[Z,l.selectionManager],[q,n??ie({})]]},$.createElement(u,{collection:l.collection,persistedKeys:Br(l.selectionManager.focusedKey),scrollRef:r})),f))}class Ma extends Be{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function Aa(t,e,r,o="react-aria-MenuSection"){var a,s;let d=c.useContext(de),{CollectionBranch:l}=c.useContext(ke),[n,i]=xr();var u;let{headingProps:p,groupProps:m}=va({heading:i,"aria-label":(u=r.props["aria-label"])!==null&&u!==void 0?u:void 0}),f=_({defaultClassName:o,className:(a=r.props)===null||a===void 0?void 0:a.className,style:(s=r.props)===null||s===void 0?void 0:s.style,values:{}}),b=c.useContext(Z),y=we(t),v=t.selectionMode!=null?new Ma(b,y):b;return $.createElement("section",{...k(t),...m,...f,ref:e},$.createElement(O,{values:[[Tr,{...p,ref:n}],[Z,v]]},$.createElement(l,{collection:d.collection,parent:r})))}const le=c.createContext(null),to=Mr("item",function(e,r,o){var a;[e,r]=Y(e,r,le);let s=(a=gr(le))===null||a===void 0?void 0:a.id,d=c.useContext(de),l=Se(r),n=c.useContext(Z),{menuItemProps:i,labelProps:u,descriptionProps:p,keyboardShortcutProps:m,...f}=ga({...e,id:s,key:o.key,selectionManager:n},d,l),{hoverProps:b,isHovered:y}=Ke({isDisabled:f.isDisabled}),v=_({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:y,isFocusVisible:f.isFocusVisible,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),w=e.href?"a":"div";return $.createElement(w,{...H(i,b),...v,ref:l,"data-disabled":f.isDisabled||void 0,"data-hovered":y||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},$.createElement(O,{values:[[Or,{slots:{[ne]:u,label:u,description:p}}],[Ca,m]]},v.children))}),ar=c.createContext(null),X=c.createContext(null);function ro(t){let e=ie(t),r=c.useRef(null),{triggerProps:o,overlayProps:a}=Ie({type:"dialog"},e,r),[s,d]=c.useState(null),l=c.useCallback(()=>{r.current&&d(r.current.offsetWidth+"px")},[r]);return Ae({ref:r,onResize:l}),o.id=J(),a["aria-labelledby"]=o.id,$.createElement(O,{values:[[X,e],[q,e],[ar,a],[ue,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":a["aria-labelledby"],style:{"--trigger-width":s}}]]},$.createElement(Fe,{...o,ref:r,isPressed:e.isOpen},t.children))}const ao=c.forwardRef(function(e,r){let o=e["aria-labelledby"];[e,r]=Y(e,r,ar);let{dialogProps:a,titleProps:s}=xa({...e,"aria-labelledby":o},r),d=c.useContext(X);!a["aria-label"]&&!a["aria-labelledby"]&&e["aria-labelledby"]&&(a["aria-labelledby"]=e["aria-labelledby"]);let l=_({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(d==null?void 0:d.close)||(()=>{})}});return $.createElement("section",{...k(e),...a,...l,ref:r,slot:e.slot||void 0},$.createElement(O,{values:[[yr,{slots:{[ne]:{},title:{...s,level:2}}}],[br,{slots:{[ne]:{},close:{onPress:()=>d==null?void 0:d.close()}}}]]},l.children))});export{to as $,Qa as a,Xa as b,eo as c,aa as d,na as e,$a as f,da as g,X as h,Ee as i,Ce as j,ao as k,ro as l,ue as m,ar as n,ba as o,ie as p};
