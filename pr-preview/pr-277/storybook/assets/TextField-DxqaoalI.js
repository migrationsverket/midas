import{j as t}from"./jsx-runtime-DtgEGaVE.js";import{r as c,R as y}from"./index-BbAIUH2N.js";import{a as j,b as A,c as B}from"./Form-00Vp9xmy.js";import{$ as S,a as H,T as i,b as W}from"./TextField.module-Br9hgrKB.js";import{$ as k,a as D}from"./useField-DBAwgFPt.js";import{$ as M,a as w}from"./Text-CLew4G9p.js";import{$ as g,a as O,b as z,c as E,d as C,z as U,A as G,B as J,p as K,C as Q}from"./useFocusable-CksQMUge.js";import{c as X}from"./clsx-B-dksMZM.js";import{B as Y}from"./Button-CniofxVa.js";const q=c.createContext({});let Z=s=>{let{onHoverStart:e,onHoverChange:a,onHoverEnd:r,...l}=s;return l};const pe=c.forwardRef(function(e,a){[e,a]=g(e,a,q);let{hoverProps:r,isHovered:l}=O(e),{isFocused:n,isFocusVisible:p,focusProps:u}=z({isTextInput:!0,autoFocus:e.autoFocus}),o=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",f=E({...e,values:{isHovered:l,isFocused:n,isFocusVisible:p,isDisabled:e.disabled||!1,isInvalid:o},defaultClassName:"react-aria-TextArea"});return y.createElement("textarea",{...C(Z(e),u,r),...f,ref:a,"data-focused":n||void 0,"data-disabled":e.disabled||void 0,"data-hovered":l||void 0,"data-focus-visible":p||void 0,"data-invalid":o||void 0})}),L=c.createContext(null),ee=c.forwardRef(function(e,a){[e,a]=g(e,a,L);let{validationBehavior:r}=U(j)||{};var l,n;let p=(n=(l=e.validationBehavior)!==null&&l!==void 0?l:r)!==null&&n!==void 0?n:"native",u=c.useRef(null),[o,f]=g({},u,S),[m,b]=G(),[$,d]=c.useState("input"),{labelProps:v,inputProps:P,descriptionProps:I,errorMessageProps:_,...h}=H({...J(e),inputElementType:$,label:b,validationBehavior:p},f),T=c.useCallback(x=>{f.current=x,x&&d(x instanceof HTMLTextAreaElement?"textarea":"input")},[f]),N=E({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),F=K(e);return delete F.id,y.createElement("div",{...F,...N,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},y.createElement(Q,{values:[[k,{...v,ref:m}],[S,{...C(P,o),ref:T}],[q,{...P,ref:T}],[M,{slots:{description:I,errorMessage:_}}],[A,h]]},N.children))}),V=({label:s,description:e,errorMessage:a,validationType:r,validate:l,maxLength:n,showCounter:p,...u})=>{const[o,f]=c.useState(""),m=d=>{const v=d.target.value;f(v)},b=d=>r==="ssn"?te.test(d)?null:"Felaktigt personnummer":r==="dossnr"?ne.test(d)?null:"Felaktigt dossiernummer":r instanceof RegExp?new RegExp(r).test(d)?null:a==null?void 0:a.toString():n?n&&d.length>n?`Du har angett ${d.length-n} tecken för mycket. Fältet är begränsat till ${n} tecken.`:null:l?l(d):!0,$=()=>n?t.jsxs("span",{className:X(i.count,o.length>n&&i.countExceeded),children:[o.length," / ",n]}):p?t.jsx("span",{className:i.count,children:o.length}):null;return t.jsx(ee,{className:i.inputField,validate:b,...u,children:t.jsxs(R,{label:s,description:e,errorMessage:a,children:[t.jsx($,{}),t.jsxs("div",{className:i.wrap,children:[t.jsx(W,{type:u.type,className:i.input,onChange:m,onBlur:m}),t.jsx(ae,{type:u.type,input:o})]})]})})},ae=({type:s,input:e})=>{const[a,r]=c.useState(!1);return s==="password"?t.jsxs(t.Fragment,{children:[a&&t.jsx(w,{slot:"description",className:i.passwordText,children:e}),t.jsx(Y,{variant:"tertiary",onPress:()=>r(!a),className:i.passwordButton,children:a?"Dölj":"Visa"})]}):null},R=({label:s,description:e,errorMessage:a,children:r})=>t.jsxs("div",{className:i.inputWrapper,children:[s&&t.jsx(D,{className:i.label,children:s}),e&&t.jsx(w,{slot:"description",className:i.text,children:e}),t.jsx(B,{className:i.fieldError,children:a}),r]}),te=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$"),ne=new RegExp("\\d{1,2}[-+]?\\d{6}(/\\d{1,2})?$");try{V.displayName="TextField",V.__docgenInfo={description:"",displayName:"TextField",props:{children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Specify label displayed above the TextField",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Specify description displayed below the label",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"Custom error messages",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},validationType:{defaultValue:null,description:"Enable validations or add your own regex",name:"validationType",required:!1,type:{name:'RegExp | "ssn" | "dossnr"'}},showCounter:{defaultValue:{value:"false"},description:"Whether to show the character counter or not",name:"showCounter",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"Whether the value is invalid.",name:"isInvalid",required:!1,type:{name:"boolean"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:"enum",value:[{value:'"native"'},{value:'"aria"'}]}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: TextFieldRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: TextFieldRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}try{R.displayName="InputWrapper",R.__docgenInfo={description:"",displayName:"InputWrapper",props:{label:{defaultValue:null,description:"Specify label displayed above the TextField",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Specify description displayed below the label",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"Custom error messages",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode"}}}}}catch{}export{ee as $,R as I,V as T,pe as a};
