import{j as v}from"./jsx-runtime-DtgEGaVE.js";import{r as m,R as p}from"./index-BbAIUH2N.js";import{a as L,$ as U}from"./Button-BzJaSZRM.js";import{$ as G,a as J,b as Q,c as X}from"./ListBox-CHo5cvnG.js";import{d as Y,e as Z,f as ee,a as te}from"./Dialog-DQYxKsVU.js";import{p as E,d as N,j as ae,E as le,H as ne,$ as T,z as A,b as ie,A as se,B as oe,c as j,C as re}from"./useFocusable-CksQMUge.js";import{e as de,f as ce,d as ue,a as fe,b as me}from"./Form-00Vp9xmy.js";import{$ as pe}from"./intlStrings-ZMTSFH_M.js";import{b as be,$ as $e}from"./useField-DBAwgFPt.js";import{$ as W}from"./Text-CLew4G9p.js";import{$ as ve}from"./Collection-CK2ynvrh.js";import{$ as ye,a as he}from"./OverlayArrow-t3ozUHtu.js";import{$ as ge}from"./useSingleSelectListState-BDF5soEj.js";import{$ as xe,a as Pe}from"./ListKeyboardDelegate-D5wf4s7-.js";import{g as Se}from"./SelectionManager-AgpWWGw5.js";import{$ as Re}from"./VisuallyHidden-DVuqn1m6.js";import{$ as Ie}from"./useLocalizedStringFormatter-tao21eyt.js";import{C as Ce}from"./chevron-down-U1dNK9nR.js";import{I as De}from"./TextField-DxqaoalI.js";const z=new WeakMap;function Be(e,t,o){let{keyboardDelegate:i,isDisabled:l,isRequired:s,name:d,validationBehavior:a="aria"}=e,n=xe({usage:"search",sensitivity:"base"}),c=m.useMemo(()=>i||new Pe(t.collection,t.disabledKeys,o,n),[i,t.collection,t.disabledKeys,n]),{menuTriggerProps:r,menuProps:u}=Y({isDisabled:l,type:"listbox"},t,o),y=f=>{switch(f.key){case"ArrowLeft":{var x,P;f.preventDefault();let I=t.selectedKey!=null?(x=c.getKeyAbove)===null||x===void 0?void 0:x.call(c,t.selectedKey):(P=c.getFirstKey)===null||P===void 0?void 0:P.call(c);I&&t.setSelectedKey(I);break}case"ArrowRight":{var F,k;f.preventDefault();let I=t.selectedKey!=null?(F=c.getKeyBelow)===null||F===void 0?void 0:F.call(c,t.selectedKey):(k=c.getFirstKey)===null||k===void 0?void 0:k.call(c);I&&t.setSelectedKey(I);break}}},{typeSelectProps:$}=Se({keyboardDelegate:c,selectionManager:t.selectionManager,onTypeSelect(f){t.setSelectedKey(f)}}),{isInvalid:h,validationErrors:S,validationDetails:B}=t.displayValidation,{labelProps:_,fieldProps:R,descriptionProps:g,errorMessageProps:q}=be({...e,labelElementType:"span",isInvalid:h,errorMessage:e.errorMessage||S});$.onKeyDown=$.onKeyDownCapture,delete $.onKeyDownCapture;let V=E(e,{labelable:!0}),b=N($,r,R),D=ae();return z.set(t,{isDisabled:l,isRequired:s,name:d,validationBehavior:a}),{labelProps:{..._,onClick:()=>{if(!e.isDisabled){var f;(f=o.current)===null||f===void 0||f.focus(),le("keyboard")}}},triggerProps:N(V,{...b,isDisabled:l,onKeyDown:ne(b.onKeyDown,y,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[D,b["aria-labelledby"],b["aria-label"]&&!b["aria-labelledby"]?b.id:null].filter(Boolean).join(" "),onFocus(f){t.isFocused||(e.onFocus&&e.onFocus(f),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(f){t.isOpen||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:D},menuProps:{...u,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:f=>{f.currentTarget.contains(f.relatedTarget)||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[R["aria-labelledby"],b["aria-label"]&&!R["aria-labelledby"]?b.id:null].filter(Boolean).join(" ")},descriptionProps:g,errorMessageProps:q,isInvalid:h,validationErrors:S,validationDetails:B}}function _e(e,t,o){let i=z.get(t)||{},{autoComplete:l,name:s=i.name,isDisabled:d=i.isDisabled}=e,{validationBehavior:a,isRequired:n}=i,{visuallyHiddenProps:c}=Re();de(e.selectRef,t.selectedKey,t.setSelectedKey),ce({validationBehavior:a,focus:()=>{var u;return(u=o.current)===null||u===void 0?void 0:u.focus()}},t,e.selectRef);var r;return{containerProps:{...c,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:l,disabled:d,required:a==="native"&&n,name:s,value:(r=t.selectedKey)!==null&&r!==void 0?r:"",onChange:u=>t.setSelectedKey(u.target.value)}}}function qe(e){let{state:t,triggerRef:o,label:i,name:l,isDisabled:s}=e,d=m.useRef(null),{containerProps:a,selectProps:n}=_e({...e,selectRef:d},t,o);var c;return t.collection.size<=300?p.createElement("div",{...a,"data-testid":"hidden-select-container"},p.createElement("label",null,i,p.createElement("select",{...n,ref:d},p.createElement("option",null),[...t.collection.getKeys()].map(r=>{let u=t.collection.getItem(r);if(u&&u.type==="item")return p.createElement("option",{key:u.key,value:u.key},u.textValue)})))):l?p.createElement("input",{type:"hidden",autoComplete:n.autoComplete,name:l,disabled:s,value:(c=t.selectedKey)!==null&&c!==void 0?c:""}):null}function Ve(e){let t=ye(e),[o,i]=m.useState(null),l=ge({...e,onSelectionChange:n=>{e.onSelectionChange!=null&&e.onSelectionChange(n),t.close(),s.commitValidation()}}),s=ue({...e,value:l.selectedKey}),[d,a]=m.useState(!1);return{...s,...l,...t,focusStrategy:o,open(n=null){l.collection.size!==0&&(i(n),t.open())},toggle(n=null){l.collection.size!==0&&(i(n),t.toggle())},isFocused:d,setFocused:a}}function Fe(e){return e&&e.__esModule?e.default:e}const K=m.createContext(null),O=m.createContext(null),ke=m.forwardRef(function(t,o){[t,o]=T(t,o,K);let{children:i,isDisabled:l=!1,isInvalid:s=!1,isRequired:d=!1}=t,a=m.useMemo(()=>typeof i=="function"?i({isOpen:!1,isDisabled:l,isInvalid:s,isRequired:d,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):i,[i,l,s,d]);return p.createElement(ve,{content:a},n=>p.createElement(Ee,{props:t,collection:n,selectRef:o}))});function Ee({props:e,selectRef:t,collection:o}){let{validationBehavior:i}=A(fe)||{};var l,s;let d=(s=(l=e.validationBehavior)!==null&&l!==void 0?l:i)!==null&&s!==void 0?s:"native",a=Ve({...e,collection:o,children:void 0,validationBehavior:d}),{isFocusVisible:n,focusProps:c}=ie({within:!0}),r=m.useRef(null),[u,y]=se(),{labelProps:$,triggerProps:h,valueProps:S,menuProps:B,descriptionProps:_,errorMessageProps:R,...g}=Be({...oe(e),label:y,validationBehavior:d},a,r),[q,V]=m.useState(null),b=m.useCallback(()=>{r.current&&V(r.current.offsetWidth+"px")},[r]);he({ref:r,onResize:b});let D=m.useMemo(()=>({isOpen:a.isOpen,isFocused:a.isFocused,isFocusVisible:n,isDisabled:e.isDisabled||!1,isInvalid:g.isInvalid||!1,isRequired:e.isRequired||!1}),[a.isOpen,a.isFocused,n,e.isDisabled,g.isInvalid,e.isRequired]),f=j({...e,values:D,defaultClassName:"react-aria-Select"}),x=E(e);delete x.id;let P=m.useRef(null);return p.createElement(re,{values:[[K,e],[O,a],[H,S],[$e,{...$,ref:u,elementType:"span"}],[L,{...h,ref:r,isPressed:a.isOpen}],[Z,a],[ee,{trigger:"Select",triggerRef:r,scrollRef:P,placement:"bottom start",style:{"--trigger-width":q}}],[G,{...B,ref:P}],[J,a],[W,{slots:{description:_,errorMessage:R}}],[me,g]]},p.createElement("div",{...x,...f,...c,ref:t,slot:e.slot||void 0,"data-focused":a.isFocused||void 0,"data-focus-visible":n||void 0,"data-open":a.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":g.isInvalid||void 0,"data-required":e.isRequired||void 0}),p.createElement(qe,{autoComplete:e.autoComplete,state:a,triggerRef:r,label:y,name:e.name,isDisabled:e.isDisabled}))}const H=m.createContext(null),Ke=m.forwardRef(function(t,o){var i,l;[t,o]=T(t,o,H);let s=m.useContext(O),{placeholder:d}=A(K),a=s.selectedKey!=null?s.collection.getItem(s.selectedKey):null,n=a==null?void 0:a.props.children;typeof n=="function"&&(n=n({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let c=Ie(Fe(pe),"react-aria-components");var r,u,y;let $=j({...t,defaultChildren:(r=n??d)!==null&&r!==void 0?r:c.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(u=(i=s.selectedItem)===null||i===void 0?void 0:i.value)!==null&&u!==void 0?u:null,selectedText:(y=(l=s.selectedItem)===null||l===void 0?void 0:l.textValue)!==null&&y!==void 0?y:null,isPlaceholder:!a}}),h=E(t);return p.createElement("span",{ref:o,...h,...$,"data-placeholder":!a||void 0},p.createElement(W.Provider,{value:void 0},$.children))}),Ne='"../theme/tokens.css"',Me='"Inter", sans-serif',we="#000000",Te="#b31b1b",Ae="(max-width: 767px)",je="#bfbfbf",We="#e6e6e6",ze="0 0 0 2px #ffffff, 0 0 0 4px #000000",Oe="#f2f2f2",He="_button_1by20_4",Le="_select_1by20_46",Ue="_popover_1by20_62",Ge="_listBoxItem_1by20_70",Je="_icon_1by20_97",C={tokens:Ne,display:Me,black:we,signalRed130:Te,smBreakpoint:Ae,gray50:je,gray20:We,focus:ze,backgroundSecondary:Oe,button:He,select:Le,popover:Ue,listBoxItem:Ge,icon:Je};function M({label:e,description:t,errorMessage:o,children:i,items:l,...s}){const d=p.useRef(null);return v.jsxs(ke,{className:C.select,ref:d,...s,children:[v.jsx(De,{label:e,description:t,errorMessage:o,children:v.jsxs(U,{className:C.button,children:[v.jsx(Ke,{}),v.jsx("div",{className:C.icon,"aria-hidden":"true",children:v.jsx(Ce,{size:20,"aria-hidden":!0})})]})}),v.jsx(te,{className:C.popover,offset:0,UNSTABLE_portalContainer:d.current||void 0,children:v.jsx(Q,{items:l,children:i})})]})}function w(e){return v.jsx(X,{className:C.listBoxItem,...e})}try{M.displayName="Select",M.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Iterable<T>"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:"enum",value:[{value:'"native"'},{value:'"aria"'}]}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: SelectRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: SelectRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}}}}}catch{}try{w.displayName="Item",w.__docgenInfo={description:"",displayName:"Item",props:{id:{defaultValue:null,description:"The unique id of the item.",name:"id",required:!1,type:{name:"Key"}},value:{defaultValue:null,description:"The object value that this item represents. When using dynamic collections, this is set automatically.",name:"value",required:!1,type:{name:"object"}},textValue:{defaultValue:null,description:"A string representation of the item's contents, used for features like typeahead.",name:"textValue",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"An accessibility label for this item.",name:"aria-label",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"Whether the item is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},onAction:{defaultValue:null,description:"Handler that is called when a user performs an action on the item. The exact user event depends on\nthe collection's `selectionBehavior` prop and the interaction modality.",name:"onAction",required:!1,type:{name:"() => void"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode | ((values: ListBoxItemRenderProps & { defaultChildren: ReactNode; }) => ReactNode)"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: ListBoxItemRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: ListBoxItemRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}export{w as I,M as S};
