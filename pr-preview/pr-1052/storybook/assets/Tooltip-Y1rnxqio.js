import{s as I,R as u,r as l,j as $}from"./iframe-CVh3nSma.js";import{c as M}from"./clsx-Ciqy0D92.js";import{a as B,b as L,c as H,d as j,$ as U}from"./OverlayArrow-B3EZSU0Y.js";import{$ as O,a as k,j as z,b as K,f as Y}from"./utils-DAl4r7ZI.js";import{b as q,g as S,a as G,x as J,B as Q,D as X}from"./useFocusRing-DevKcWYf.js";import{$ as Z,a as ee}from"./animation-CbOE0HRn.js";import{R as te}from"./index-DZnEqQgx.js";const P=u.createContext(null);function oe(e){let{children:o}=e,t=l.useContext(P),[r,s]=l.useState(0),i=l.useMemo(()=>({parent:t,modalCount:r,addModal(){s(a=>a+1),t&&t.addModal()},removeModal(){s(a=>a-1),t&&t.removeModal()}}),[t,r]);return u.createElement(P.Provider,{value:i},o)}function ne(){let e=l.useContext(P);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function re(e){let{modalProviderProps:o}=ne();return u.createElement("div",{"data-overlay-container":!0,...e,...o})}function ae(e){return u.createElement(oe,null,u.createElement(re,e))}function le(e){let o=I(),{portalContainer:t=o?null:document.body,...r}=e,{getContainer:s}=B();if(!e.portalContainer&&s&&(t=s()),u.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let i=u.createElement(ae,r);return te.createPortal(i,t)}function ie(e,o){let t=q(e,{labelable:!0}),{hoverProps:r}=S({onHoverStart:()=>o?.open(!0),onHoverEnd:()=>o?.close()});return{tooltipProps:O(t,r,{role:"tooltip"})}}function se(e,o,t){let{isDisabled:r,trigger:s,shouldCloseOnPress:i=!0}=e,a=k(),n=l.useRef(!1),d=l.useRef(!1),m=()=>{(n.current||d.current)&&o.open(d.current)},p=g=>{!n.current&&!d.current&&o.close(g)};l.useEffect(()=>{let g=w=>{t&&t.current&&w.key==="Escape"&&(w.stopPropagation(),o.close(!0))};if(o.isOpen)return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[t,o]);let v=()=>{s!=="focus"&&(J()==="pointer"?n.current=!0:n.current=!1,m())},x=()=>{s!=="focus"&&(d.current=!1,n.current=!1,p())},T=()=>{i&&(d.current=!1,n.current=!1,p(!0))},c=()=>{Q()&&(d.current=!0,m())},W=()=>{d.current=!1,n.current=!1,p(!0)},{hoverProps:A}=S({isDisabled:r,onHoverStart:v,onHoverEnd:x}),{focusableProps:F}=G({isDisabled:r,onFocus:c,onBlur:W},t);return{triggerProps:{"aria-describedby":o.isOpen?a:void 0,...O(F,A,{onPointerDown:T,onKeyDown:T}),tabIndex:void 0},tooltipProps:{id:a}}}const de=1500,C=500;let h={},ue=0,y=!1,f=null,b=null;function D(e={}){let{delay:o=de,closeDelay:t=C}=e,{isOpen:r,open:s,close:i}=L(e),a=l.useMemo(()=>`${++ue}`,[]),n=l.useRef(null),d=l.useRef(i),m=()=>{h[a]=x},p=()=>{for(let c in h)c!==a&&(h[c](!0),delete h[c])},v=()=>{n.current&&clearTimeout(n.current),n.current=null,p(),m(),y=!0,s(),f&&(clearTimeout(f),f=null),b&&(clearTimeout(b),b=null)},x=c=>{c||t<=0?(n.current&&clearTimeout(n.current),n.current=null,d.current()):n.current||(n.current=setTimeout(()=>{n.current=null,d.current()},t)),f&&(clearTimeout(f),f=null),y&&(b&&clearTimeout(b),b=setTimeout(()=>{delete h[a],b=null,y=!1},Math.max(C,t)))},T=()=>{p(),m(),!r&&!f&&!y?f=setTimeout(()=>{f=null,y=!0,v()},o):r||v()};return l.useEffect(()=>{d.current=i},[i]),l.useEffect(()=>()=>{n.current&&clearTimeout(n.current),h[a]&&delete h[a]},[a]),{isOpen:r,open:c=>{!c&&o>0&&!n.current?T():v()},close:x}}const E=l.createContext(null),N=l.createContext(null);function ce(e){let o=D(e),t=l.useRef(null),{triggerProps:r,tooltipProps:s}=se(e,o,t);return u.createElement(z,{values:[[E,o],[N,{...s,triggerRef:t}]]},u.createElement(X,{...r,ref:t},e.children))}const fe=l.forwardRef(function({UNSTABLE_portalContainer:o,...t},r){[t,r]=K(t,r,N);let s=l.useContext(E),i=D(t),a=t.isOpen!=null||t.defaultOpen!=null||!s?i:s,n=Z(r,a.isOpen)||t.isExiting||!1;return!a.isOpen&&!n?null:u.createElement(le,{portalContainer:o},u.createElement(pe,{...t,tooltipRef:r,isExiting:n}))});function pe(e){let o=l.useContext(E),t=l.useRef(null),{overlayProps:r,arrowProps:s,placement:i,triggerAnchorPoint:a}=H({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,arrowRef:t,offset:e.offset,crossOffset:e.crossOffset,isOpen:o.isOpen,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,containerPadding:e.containerPadding,onClose:()=>o.close(!0)}),n=ee(e.tooltipRef,!!i)||e.isEntering||!1,d=Y({...e,defaultClassName:"react-aria-Tooltip",values:{placement:i,isEntering:n,isExiting:e.isExiting,state:o}});e=O(e,r);let{tooltipProps:m}=ie(e,o),p=q(e,{global:!0});return u.createElement("div",{...O(p,d,m),ref:e.tooltipRef,style:{...r.style,"--trigger-anchor-point":a?`${a.x}px ${a.y}px`:void 0,...d.style},"data-placement":i??void 0,"data-entering":n||void 0,"data-exiting":e.isExiting||void 0},u.createElement(j.Provider,{value:{...s,placement:i,ref:t}},d.children))}const me="_tooltip_9efb2_1",he="_arrow_9efb2_18",R={tooltip:me,arrow:he};function _({children:e,className:o,...t}){return $.jsx(fe,{className:M(R.tooltip,o),...t,children:r=>$.jsxs($.Fragment,{children:[$.jsx(U,{className:R.arrow,children:$.jsx("svg",{width:8,height:8,viewBox:"0 0 8 8",children:$.jsx("path",{d:"M0 0 L4 4 L8 0"})})}),typeof e=="function"?e(r):e]})})}function V({delay:e=0,...o}){return $.jsx(ce,{delay:e,...o})}try{_.displayName="Tooltip",_.__docgenInfo={description:"",displayName:"Tooltip",props:{className:{defaultValue:{value:"'react-aria-Tooltip'"},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"ClassNameOrFunction<TooltipRenderProps>"}},triggerRef:{defaultValue:null,description:`The ref for the element which the tooltip positions itself with respect to.

When used within a TooltipTrigger this is set automatically. It is only required when used standalone.`,name:"triggerRef",required:!1,type:{name:"RefObject<Element | null>"}},isEntering:{defaultValue:null,description:"Whether the tooltip is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the tooltip is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:`The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.
@deprecated - Use a parent UNSAFE_PortalProvider to set your portal container instead.`,name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},placement:{defaultValue:{value:"'top'"},description:"The placement of the tooltip with respect to the trigger.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"end"'},{value:'"top"'},{value:'"bottom"'},{value:'"start"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end top"'},{value:'"end bottom"'}]}},containerPadding:{defaultValue:{value:"12"},description:`The placement padding that should be applied between the element and its
surrounding container.`,name:"containerPadding",required:!1,type:{name:"number"}},offset:{defaultValue:{value:"0"},description:`The additional offset applied along the main axis between the element and its
anchor element.`,name:"offset",required:!1,type:{name:"number"}},crossOffset:{defaultValue:{value:"0"},description:`The additional offset applied along the cross axis between the element and its
anchor element.`,name:"crossOffset",required:!1,type:{name:"number"}},shouldFlip:{defaultValue:{value:"true"},description:`Whether the element should flip its orientation (e.g. top to bottom or left to right) when
there is insufficient room for it to render completely.`,name:"shouldFlip",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},arrowBoundaryOffset:{defaultValue:{value:"0"},description:"The minimum distance the arrow's edge should be from the edge of the overlay element.",name:"arrowBoundaryOffset",required:!1,type:{name:"number"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ChildrenOrFunction<TooltipRenderProps>"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"StyleOrFunction<TooltipRenderProps>"}}}}}catch{}try{V.displayName="TooltipTrigger",V.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ChildrenOrFunction<TooltipRenderProps>"}},isDisabled:{defaultValue:null,description:"Whether the tooltip should be disabled, independent from the trigger.",name:"isDisabled",required:!1,type:{name:"boolean"}},delay:{defaultValue:{value:"0"},description:"The delay time for the tooltip to show up. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Immediate-or-delayed-appearance).",name:"delay",required:!1,type:{name:"number"}},closeDelay:{defaultValue:{value:"500"},description:"The delay time for the tooltip to close. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Warmup-and-cooldown).",name:"closeDelay",required:!1,type:{name:"number"}},trigger:{defaultValue:{value:"'hover'"},description:"By default, opens for both focus and hover. Can be made to open only for focus.",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"focus"'},{value:'"hover"'}]}},shouldCloseOnPress:{defaultValue:{value:"true"},description:"Whether the tooltip should close when the trigger is pressed.",name:"shouldCloseOnPress",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"((isOpen: boolean) => void)"}}}}}catch{}export{V as T,_ as a};
