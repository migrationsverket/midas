import{j as l}from"./jsx-runtime-DtgEGaVE.js";import{d as J,e as Q,f as Y,g as _,h as I,i as Z,j as x,k as ee}from"./Dialog-nV07aTD9.js";import{d as T,$ as E,n as te,h as H,b as z,a as ae,l as ie}from"./utils-Dv9Ux5aE.js";import{$ as B}from"./filterDOMProps-BSfnXAP7.js";import{r as o,R as f}from"./index-BbAIUH2N.js";import{a as W,$ as D}from"./OverlayArrow-fkN0_ThZ.js";import{$ as le,a as re,b as ne}from"./useMenuTriggerState-B-V7f968.js";import{$ as k}from"./useOverlayTriggerState-CnVHlh1Q.js";import{c as v}from"./clsx-B-dksMZM.js";import{a as oe}from"./FocusScope-C0EWTSbR.js";import{B as h}from"./Button-CD7a-R8O.js";import{X as L}from"./x-Cu6J0Y2u.js";import{H as se}from"./Heading-DmTsGMz3.js";import{o as de}from"./storybook-hvFWZIZa.js";import{S as ce}from"./Select-BVAOOpMI.js";import"./Button-DTncd-uj.js";import"./ProgressBar-DJC3JvQN.js";import"./Label-Cr3pFc-x.js";import"./Hidden-lswqw32w.js";import"./useLabel-BAqrTMfP.js";import"./context-oTIQb5ND.js";import"./NumberFormatter-DT0cDaax.js";import"./LiveAnnouncer-DFDjXwI8.js";import"./useButton-CS5cP0vQ.js";import"./usePress-pM6mZWXi.js";import"./useFocusRing-CPQALXIu.js";import"./_class_private_field_init-BOtJyCjG.js";import"./index-cpIEhwLo.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./useFocusable-b_0ijIRa.js";import"./RSPContexts-CeCCo7XS.js";import"./Collection-Af87zMws.js";import"./index-DwWe6W7f.js";import"./Separator-CXf_HK-9.js";import"./SelectionManager-amPxWGCO.js";import"./useEvent-DnmuJhSu.js";import"./scrollIntoView-DzftQ5Hl.js";import"./useDescription-TyCFs068.js";import"./useControlledState-DGyHFLi9.js";import"./ListKeyboardDelegate-CS8_-y6Q.js";import"./useCollator-5m9ED1_d.js";import"./Text-D0cNLqf0.js";import"./PressResponder-ufRk-KMy.js";import"./getScrollParent-CrrBdd7g.js";import"./useLocalizedStringFormatter-DGtYtDnp.js";import"./LocalizedStringFormatter-BB0Nk989.js";import"./VisuallyHidden-DiGk2ECL.js";import"./Button.module-kL9Mhzoi.js";import"./createLucideIcon-8wDOqnHv.js";import"./CalendarDate-Px-QPrMV.js";import"./Tag-CywIeFOl.js";import"./ListBox-DtDQBIss.js";import"./DragAndDrop-sISFPnlb.js";import"./useListState-BjXgCBdD.js";import"./useField-BWvtu4tG.js";import"./useHighlightSelectionDescription-bMNPNBBZ.js";import"./useUpdateEffect-DVcG7G3u.js";import"./useHasTabbableChild-Bh3e4XK9.js";import"./TextField-DtKlQFf3.js";import"./Form-BMyPeP3B.js";import"./useFormValidation-BrFQy5aA.js";import"./Input-CAfzXJk2.js";import"./useTextField-zhCHv51w.js";import"./check-B_S0S3VY.js";import"./Label-C9DvPbah.js";import"./useModal-j8uWYn4E.js";import"./useObserveElement-BrriYDGX.js";import"./chevron-down-U1dNK9nR.js";import"./Text-BO1MQlio.js";import"./FieldError-BI5lou7e.js";let s=typeof document<"u"&&window.visualViewport;function me(){let t=T(),[e,a]=o.useState(()=>t?{width:0,height:0}:w());return o.useEffect(()=>{let i=()=>{a(r=>{let n=w();return n.width===r.width&&n.height===r.height?r:n})};return s?s.addEventListener("resize",i):window.addEventListener("resize",i),()=>{s?s.removeEventListener("resize",i):window.removeEventListener("resize",i)}},[]),e}function w(){return{width:s&&(s==null?void 0:s.width)||window.innerWidth,height:s&&(s==null?void 0:s.height)||window.innerHeight}}function A(t,e,a){let{overlayProps:i,underlayProps:r}=le({...t,isOpen:e.isOpen,onClose:e.close},a);return J({isDisabled:!e.isOpen}),Q(),o.useEffect(()=>{if(e.isOpen&&a.current)return Y([a.current])},[e.isOpen,a]),{modalProps:E(i),underlayProps:r}}const ue=o.createContext(null),O=o.createContext(null),fe=o.forwardRef(function(e,a){if(o.useContext(O))return f.createElement(C,{...e,modalRef:a},e.children);let{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:c,defaultOpen:d,onOpenChange:p,children:m,isEntering:$,isExiting:U,UNSTABLE_portalContainer:F,shouldCloseOnInteractOutside:G,...X}=e;return f.createElement(K,{isDismissable:r,isKeyboardDismissDisabled:n,isOpen:c,defaultOpen:d,onOpenChange:p,isEntering:$,isExiting:U,UNSTABLE_portalContainer:F,shouldCloseOnInteractOutside:G},f.createElement(C,{...X,modalRef:a},m))});function pe(t,e){[t,e]=ae(t,e,ue);let a=o.useContext(_),i=k(t),r=t.isOpen!=null||t.defaultOpen!=null||!a?i:a,n=H(e),c=o.useRef(null),d=D(n,r.isOpen),p=D(c,r.isOpen),m=d||p||t.isExiting||!1,$=T();return!r.isOpen&&!m||$?null:f.createElement(he,{...t,state:r,isExiting:m,overlayRef:n,modalRef:c})}const K=o.forwardRef(pe);function he({UNSTABLE_portalContainer:t,...e}){let a=e.modalRef,{state:i}=e,{modalProps:r,underlayProps:n}=A(e,i,a),c=W(e.overlayRef)||e.isEntering||!1,d=z({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:c,isExiting:e.isExiting,state:i}}),p=me(),m={...d.style,"--visual-viewport-height":p.height+"px"};return f.createElement(I,{isExiting:e.isExiting,portalContainer:t},f.createElement("div",{...E(B(e),n),...d,style:m,ref:e.overlayRef,"data-entering":c||void 0,"data-exiting":e.isExiting||void 0},f.createElement(ie,{values:[[O,{modalProps:r,modalRef:a,isExiting:e.isExiting,isDismissable:e.isDismissable}],[_,i]]},d.children)))}function C(t){let{modalProps:e,modalRef:a,isExiting:i,isDismissable:r}=o.useContext(O),n=o.useContext(_),c=o.useMemo(()=>te(t.modalRef,a),[t.modalRef,a]),d=H(c),p=W(d),m=z({...t,defaultClassName:"react-aria-Modal",values:{isEntering:p,isExiting:i,state:n}});return f.createElement("div",{...E(B(t),e),...m,ref:d,"data-entering":p||void 0,"data-exiting":i||void 0},r&&f.createElement(re,{onDismiss:n.close}),m.children)}const be='"../theme/tokens.css"',ge="_modal_9odi3_4",ye="_overlay_9odi3_26",$e="_modalHeader_9odi3_47",xe="_modalBody_9odi3_55",u={tokens:be,"--font-family":'"Inter", sans-serif',"--layer-01":"light-dark(#f2f2f2, #262626)","--background":"light-dark(#ffffff, #171717)","--text-primary":"light-dark(#171717, #f2f2f2)","--z-index-modal":"1000",modal:ge,"modal-zoom":"_modal-zoom_9odi3_1",overlay:ye,"modal-fade":"_modal-fade_9odi3_1",modalHeader:$e,modalBody:xe},N=({title:t,children:e,...a})=>{const i=o.useRef(null),{dialogProps:r,titleProps:n}=ee(a,i);return l.jsxs("div",{...r,ref:i,className:u.modalBody,"aria-modal":!0,children:[t&&l.jsx("h2",{...n,className:v(u.modalHeading,n.className),children:t}),e]})},ve=({state:t,children:e,...a})=>{const i=o.useRef(null),{modalProps:r,underlayProps:n}=A(a,t,i);return l.jsx(I,{children:l.jsx("div",{...n,className:v(u.overlay,n.className),children:l.jsx("div",{...r,className:v(u.modal,r.className),ref:i,children:e})})})},j=({label:t,children:e,...a})=>{const i=k(a),{triggerProps:r,overlayProps:n}=ne({type:"dialog"},i);return l.jsxs(l.Fragment,{children:[l.jsx(h,{...r,children:t}),i.isOpen&&l.jsxs(ve,{...a,state:i,children:[l.jsx("div",{className:u.modalHeader,children:l.jsx(h,{onPress:i.close,variant:"tertiary",icon:L,iconPlacement:"right",children:"Stäng"})}),o.cloneElement(e(i.close),n)]})]})},y=({children:t,title:e,...a})=>l.jsx(Z,{...a,children:l.jsx(K,{...a,className:u.overlay,children:l.jsx(oe,{contain:!0,autoFocus:!0,restoreFocus:!0,children:l.jsxs(fe,{...a,className:u.modal,children:[l.jsx("div",{className:u.modalHeader,children:l.jsx(h,{slot:"close",variant:"tertiary",icon:L,iconPlacement:"right",children:"Stäng"})}),l.jsxs("div",{className:u.modalBody,tabIndex:-1,children:[e&&l.jsx(se,{level:2,children:e}),t]})]})})})});try{N.displayName="Dialog",N.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}try{j.displayName="ModalTrigger",j.__docgenInfo={description:"",displayName:"ModalTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}try{x.displayName="DialogTrigger",x.__docgenInfo={description:"A DialogTrigger opens a dialog when a trigger element is pressed.",displayName:"DialogTrigger",props:{isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}try{y.displayName="Modal",y.__docgenInfo={description:"",displayName:"Modal",props:{isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},title:{defaultValue:null,description:"An optional title for the dialog. If omitted, please provide an aria-label for accessibility.",name:"title",required:!1,type:{name:"ReactNode"}},role:{defaultValue:{value:"'dialog'"},description:"The accessibility role for the dialog.",name:"role",required:!1,type:{name:"enum",value:[{value:'"dialog"'},{value:'"alertdialog"'}]}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}}}}}catch{}const Ht={component:y,title:"Components/Modal",tags:["autodocs"],parameters:{layout:"centered"},render:t=>l.jsxs(x,{children:[l.jsx(h,{children:"Öppna"}),l.jsxs(y,{title:"Enter your name",...t,children:[l.jsx(ce,{autoFocus:!0,placeholder:"Select...",defaultSelectedKeys:["kiwi"],label:"Select fruits",selectionMode:"multiple",options:de,isClearable:!0,isSelectableAll:!1}),l.jsx(h,{slot:"close",children:"Submit"})]})]})},b={args:{isDismissable:!0}},g={};var R,S,V;b.parameters={...b.parameters,docs:{...(R=b.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    isDismissable: true
  }
}`,...(V=(S=b.parameters)==null?void 0:S.docs)==null?void 0:V.source}}};var q,P,M;g.parameters={...g.parameters,docs:{...(q=g.parameters)==null?void 0:q.docs,source:{originalSource:"{}",...(M=(P=g.parameters)==null?void 0:P.docs)==null?void 0:M.source}}};const zt=["Default","NotDismissable"];export{b as Default,g as NotDismissable,zt as __namedExportsOrder,Ht as default};
