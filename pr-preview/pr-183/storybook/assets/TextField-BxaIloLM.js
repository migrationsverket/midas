import{j as r}from"./jsx-runtime-CfatFE5O.js";import{r as f,R as x}from"./index-ClcD9ViR.js";import{a as N,b as S,c as D,d as W,e as k,f as M}from"./Form-Bv9Hrtjx.js";import{l as O,n as T,r as A,c as R,a as I,d as q,e as w,f as C,E as L,D as z,F as U,C as G}from"./useFocusable-CI7IKKVh.js";import{$ as J}from"./Hidden-Cj803rEv.js";import{a as K,b as Q,c as X}from"./Label-CyV7_vzg.js";import{a as Y,$ as H}from"./Text-B5xeh108.js";import{$ as Z}from"./useControlledState-CccRFgkZ.js";import{B as ee}from"./Button-BvTLClQx.js";import"./ButtonGroup-Duds0FV0.js";import{c as ae}from"./clsx-B-dksMZM.js";function te(e,a){let{inputElementType:n="input",isDisabled:t=!1,isRequired:i=!1,isReadOnly:s=!1,type:u="text",validationBehavior:o="aria"}=e,[d,b]=Z(e.value,e.defaultValue||"",e.onChange),{focusableProps:p}=O(e,a),v=N({...e,value:d}),{isInvalid:$,validationErrors:l,validationDetails:m}=v.displayValidation,{labelProps:h,fieldProps:P,descriptionProps:_,errorMessageProps:y}=K({...e,isInvalid:$,errorMessage:e.errorMessage||l}),g=T(e,{labelable:!0});const B={type:u,pattern:e.pattern};return S(a,d,b),D(e,v,a),f.useEffect(()=>{if(a.current instanceof A(a.current).HTMLTextAreaElement){let E=a.current;Object.defineProperty(E,"defaultValue",{get:()=>E.value,set:()=>{},configurable:!0})}},[a]),{labelProps:h,inputProps:R(g,n==="input"?B:void 0,{disabled:t,readOnly:s,required:i&&o==="native","aria-required":i&&o==="aria"||void 0,"aria-invalid":$||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:d,onChange:E=>b(E.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...p,...P}),descriptionProps:_,errorMessageProps:y,isInvalid:$,validationErrors:l,validationDetails:m}}const j=f.createContext({});let ne=e=>{let{onHoverStart:a,onHoverChange:n,onHoverEnd:t,...i}=e;return i};function ie(e,a){[e,a]=I(e,a,j);let{hoverProps:n,isHovered:t}=q(e),{isFocused:i,isFocusVisible:s,focusProps:u}=w({isTextInput:!0,autoFocus:e.autoFocus}),o=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",d=C({...e,values:{isHovered:t,isFocused:i,isFocusVisible:s,isDisabled:e.disabled||!1,isInvalid:o},defaultClassName:"react-aria-Input"});return x.createElement("input",{...R(ne(e),u,n),...d,ref:a,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":s||void 0,"data-invalid":o||void 0})}const se=J(ie),V=f.createContext({});let re=e=>{let{onHoverStart:a,onHoverChange:n,onHoverEnd:t,...i}=e;return i};function oe(e,a){[e,a]=I(e,a,V);let{hoverProps:n,isHovered:t}=q(e),{isFocused:i,isFocusVisible:s,focusProps:u}=w({isTextInput:!0,autoFocus:e.autoFocus}),o=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",d=C({...e,values:{isHovered:t,isFocused:i,isFocusVisible:s,isDisabled:e.disabled||!1,isInvalid:o},defaultClassName:"react-aria-TextArea"});return x.createElement("textarea",{...R(re(e),u,n),...d,ref:a,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":s||void 0,"data-invalid":o||void 0})}const Ge=f.forwardRef(oe),de=f.createContext(null);function le(e,a){[e,a]=I(e,a,de);let{validationBehavior:n}=L(W)||{};var t,i;let s=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:n)!==null&&i!==void 0?i:"native",u=f.useRef(null),[o,d]=z(),[b,p]=f.useState("input"),{labelProps:v,inputProps:$,descriptionProps:l,errorMessageProps:m,...h}=te({...U(e),inputElementType:b,label:d,validationBehavior:s},u),P=f.useCallback(g=>{u.current=g,g&&p(g instanceof HTMLTextAreaElement?"textarea":"input")},[]),_=C({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),y=T(e);return delete y.id,x.createElement("div",{...y,..._,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},x.createElement(G,{values:[[Q,{...v,ref:o}],[j,{...$,ref:P}],[V,{...$,ref:P}],[Y,{slots:{description:l,errorMessage:m}}],[k,h]]},_.children))}const ce=f.forwardRef(le),ue='"../../../theme/src/lib/tokens.css"',fe='"Inter", sans-serif',$e="#ffdfdf",be="#f2f2f2",pe="#e6e6e6",ve="#bfbfbf",xe="#000000",me="#e62323",he="500",ge="400",Pe="#1f1f1f",_e="0 0 0 2px #ffffff, 0 0 0 4px #000000",ye="_inputField_socrq_4",Ee="_inputWrapper_socrq_12",Fe="_label_socrq_30",Re="_text_socrq_36",Ie="_fieldError_socrq_42",Ce="_passwordText_socrq_66",Te="_count_socrq_79",qe="_countExceeded_socrq_87",we="_input_socrq_4",He="_wrap_socrq_130",je="_passwordButton_socrq_135",c={tokens:ue,display:fe,signalRed10:$e,gray10:be,gray20:pe,gray50:ve,black:xe,signalRed100:me,mediumWeight:he,regularWeight:ge,inputText:Pe,focus:_e,inputField:ye,inputWrapper:Ee,label:Fe,text:Re,fieldError:Ie,passwordText:Ce,count:Te,countExceeded:qe,input:we,wrap:He,passwordButton:je},Je=({label:e,description:a,errorMessage:n,validationType:t,validate:i,maxCharacters:s,showCounter:u,...o})=>{const[d,b]=x.useState(""),p=l=>{const m=l.target.value;b(m)},v=l=>t==="ssn"?Be.test(l)?null:"Felaktigt personnummer":t instanceof RegExp?new RegExp(t).test(l)?null:n==null?void 0:n.toString():s?s&&l.length>s?`Du har angett ${l.length-s} tecken för mycket. Fältet är begränsat till ${s} tecken.`:null:i?i(l):!0,$=()=>s?r.jsxs("span",{className:ae(c.count,d.length>s&&c.countExceeded),children:[d.length," / ",s]}):u?r.jsx("span",{className:c.count,children:d.length}):null;return r.jsx(ce,{className:c.inputField,validate:v,...o,children:r.jsxs(F,{label:e,description:a,errorMessage:n,children:[r.jsx($,{}),r.jsxs("div",{className:c.wrap,children:[r.jsx(se,{type:o.type,className:c.input,onChange:p,onBlur:p}),r.jsx(Ve,{type:o.type,input:d})]})]})})},Ve=({type:e,input:a})=>{const[n,t]=x.useState(!1);return e==="password"?r.jsxs(r.Fragment,{children:[n&&r.jsx(H,{slot:"description",className:c.passwordText,children:a}),r.jsx(ee,{variant:"tertiary",onPress:()=>t(!n),className:c.passwordButton,children:n?"Dölj":"Visa"})]}):null},F=({label:e,description:a,errorMessage:n,children:t})=>r.jsxs("div",{className:c.inputWrapper,children:[e&&r.jsx(X,{className:c.label,children:e}),a&&r.jsx(H,{slot:"description",className:c.text,children:a}),r.jsx(M,{className:c.fieldError,children:n}),t]}),Be=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$");try{F.displayName="InputWrapper",F.__docgenInfo={description:"",displayName:"InputWrapper",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}}}}}catch{}export{ce as $,F as I,Je as T,c as a,Ge as b,te as c,j as d,se as e};
