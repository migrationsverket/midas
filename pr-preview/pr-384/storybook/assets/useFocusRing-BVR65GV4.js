import{r as c}from"./index-BbAIUH2N.js";import{i as ne,j as re,g as oe}from"./utils-BYZtxgnE.js";const T=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},L=e=>e&&"window"in e&&e.window===e?e:T(e).defaultView||window;function ae(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ie(e){return ae(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let se=!1,ue=!1;function Ce(){return se}function _(){return ue}function V(e,n){if(!_())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:ie(t)?t=t.host:t=t.parentNode}return!1}const I=(e=document)=>{var n;if(!_())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function U(e){return _()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function j(e){if(ce())e.focus({preventScroll:!0});else{let n=de(e);e.focus(),le(n)}}let P=null;function ce(){if(P==null){P=!1;try{document.createElement("div").focus({get preventScroll(){return P=!0,!0}})}catch{}}return P}function de(e){let n=e.parentNode,t=[],r=document.scrollingElement||document.documentElement;for(;n instanceof HTMLElement&&n!==r;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),n=n.parentNode;return r instanceof HTMLElement&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),t}function le(e){for(let{element:n,scrollTop:t,scrollLeft:r}of e)n.scrollTop=t,n.scrollLeft=r}function k(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function O(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function g(e){let n=null;return()=>(n==null&&(n=e()),n)}const R=g(function(){return O(/^Mac/i)}),fe=g(function(){return O(/^iPhone/i)}),be=g(function(){return O(/^iPad/i)||R()&&navigator.maxTouchPoints>1}),$e=g(function(){return fe()||be()}),ke=g(function(){return R()||$e()}),Ae=g(function(){return k(/AppleWebKit/i)&&!pe()}),pe=g(function(){return k(/Chrome/i)}),q=g(function(){return k(/Android/i)}),De=g(function(){return k(/Firefox/i)});function z(){let e=c.useRef(new Map),n=c.useCallback((o,u,s,a)=>{let i=a!=null&&a.once?(...f)=>{e.current.delete(s),s(...f)}:s;e.current.set(s,{type:u,eventTarget:o,fn:i,options:a}),o.addEventListener(u,i,a)},[]),t=c.useCallback((o,u,s,a)=>{var i;let f=((i=e.current.get(s))===null||i===void 0?void 0:i.fn)||s;o.removeEventListener(u,f,a),e.current.delete(s)},[]),r=c.useCallback(()=>{e.current.forEach((o,u)=>{t(o.eventTarget,o.type,u,o.options)})},[t]);return c.useEffect(()=>r,[r]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:r}}function ve(e){return e.mozInputSource===0&&e.isTrusted?!0:q()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function We(e){return!q()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const N=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],me=N.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";N.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Ee=N.join(':not([hidden]):not([tabindex="-1"]),');function ge(e){return e.matches(me)}function Ie(e){return e.matches(Ee)}class Y{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function J(e){let n=c.useRef({isFocused:!1,observer:null});ne(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=re(r=>{e==null||e(r)});return c.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,u=s=>{n.current.isFocused=!1,o.disabled&&t(new Y("blur",s)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var s;(s=n.current.observer)===null||s===void 0||s.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let H=!1;function Be(e){for(;e&&!ge(e);)e=e.parentElement;let n=L(e),t=n.document.activeElement;if(!t||t===e)return;H=!0;let r=!1,o=l=>{(l.target===t||r)&&l.stopImmediatePropagation()},u=l=>{(l.target===t||r)&&(l.stopImmediatePropagation(),!e&&!r&&(r=!0,j(t),i()))},s=l=>{(l.target===e||r)&&l.stopImmediatePropagation()},a=l=>{(l.target===e||r)&&(l.stopImmediatePropagation(),r||(r=!0,j(t),i()))};n.addEventListener("blur",o,!0),n.addEventListener("focusout",u,!0),n.addEventListener("focusin",a,!0),n.addEventListener("focus",s,!0);let i=()=>{cancelAnimationFrame(f),n.removeEventListener("blur",o,!0),n.removeEventListener("focusout",u,!0),n.removeEventListener("focusin",a,!0),n.removeEventListener("focus",s,!0),H=!1,r=!1},f=requestAnimationFrame(i);return i}let E=null,x=new Set,F=new Map,w=!1,B=!1;const he={Tab:!0,Escape:!0};function A(e,n){for(let t of x)t(e,n)}function Le(e){return!(e.metaKey||!R()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function M(e){w=!0,Le(e)&&(E="keyboard",A("keyboard",e))}function $(e){E="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(w=!0,A("pointer",e))}function Q(e){ve(e)&&(w=!0,E="virtual")}function X(e){e.target===window||e.target===document||H||!e.isTrusted||(!w&&!B&&(E="virtual",A("virtual",e)),w=!1,B=!1)}function Z(){H||(w=!1,B=!0)}function S(e){if(typeof window>"u"||F.get(L(e)))return;const n=L(e),t=T(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){w=!0,r.apply(this,arguments)},t.addEventListener("keydown",M,!0),t.addEventListener("keyup",M,!0),t.addEventListener("click",Q,!0),n.addEventListener("focus",X,!0),n.addEventListener("blur",Z,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",$,!0),t.addEventListener("pointermove",$,!0),t.addEventListener("pointerup",$,!0)):(t.addEventListener("mousedown",$,!0),t.addEventListener("mousemove",$,!0),t.addEventListener("mouseup",$,!0)),n.addEventListener("beforeunload",()=>{ee(e)},{once:!0}),F.set(n,{focus:r})}const ee=(e,n)=>{const t=L(e),r=T(e);n&&r.removeEventListener("DOMContentLoaded",n),F.has(t)&&(t.HTMLElement.prototype.focus=F.get(t).focus,r.removeEventListener("keydown",M,!0),r.removeEventListener("keyup",M,!0),r.removeEventListener("click",Q,!0),t.removeEventListener("focus",X,!0),t.removeEventListener("blur",Z,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",$,!0),r.removeEventListener("pointermove",$,!0),r.removeEventListener("pointerup",$,!0)):(r.removeEventListener("mousedown",$,!0),r.removeEventListener("mousemove",$,!0),r.removeEventListener("mouseup",$,!0)),F.delete(t))};function Te(e){const n=T(e);let t;return n.readyState!=="loading"?S(e):(t=()=>{S(e)},n.addEventListener("DOMContentLoaded",t)),()=>ee(e,t)}typeof document<"u"&&Te();function te(){return E!=="pointer"}function Ge(){return E}function _e(e){E=e,A(e,null)}function Oe(){S();let[e,n]=c.useState(E);return c.useEffect(()=>{let t=()=>{n(E)};return x.add(t),()=>{x.delete(t)}},[]),oe()?null:e}const we=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ye(e,n,t){let r=T(t==null?void 0:t.target);const o=typeof window<"u"?L(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,u=typeof window<"u"?L(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?L(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?L(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!we.has(r.activeElement.type)||r.activeElement instanceof u||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof a&&!he[t.key])}function Fe(e,n,t){S(),c.useEffect(()=>{let r=(o,u)=>{ye(!!(t!=null&&t.isTextInput),o,u)&&e(te())};return x.add(r),()=>{x.delete(r)}},n)}function xe(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const u=c.useCallback(i=>{if(i.target===i.currentTarget)return r&&r(i),o&&o(!1),!0},[r,o]),s=J(u),a=c.useCallback(i=>{const f=T(i.target),l=f?I(f):I();i.target===i.currentTarget&&l===U(i.nativeEvent)&&(t&&t(i),o&&o(!0),s(i))},[o,t,s]);return{focusProps:{onFocus:!n&&(t||o||r)?a:void 0,onBlur:!n&&(r||o)?u:void 0}}}function Pe(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,u=c.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:a}=z(),i=c.useCallback(b=>{b.currentTarget.contains(b.target)&&u.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(u.current.isFocusWithin=!1,a(),t&&t(b),o&&o(!1))},[t,o,u,a]),f=J(i),l=c.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const h=T(b.target),p=I(h);if(!u.current.isFocusWithin&&p===U(b.nativeEvent)){r&&r(b),o&&o(!0),u.current.isFocusWithin=!0,f(b);let v=b.currentTarget;s(h,"focus",d=>{if(u.current.isFocusWithin&&!V(v,d.target)){let m=new Y("blur",new h.defaultView.FocusEvent("blur",{relatedTarget:d.target}));m.target=v,m.currentTarget=v,i(m)}},{capture:!0})}},[r,o,f,s,i]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:i}}}let C=!1,W=0;function G(){C=!0,setTimeout(()=>{C=!1},50)}function K(e){e.pointerType==="touch"&&G()}function He(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",K):document.addEventListener("touchend",G),W++,()=>{W--,!(W>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",K):document.removeEventListener("touchend",G))}}function Re(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[u,s]=c.useState(!1),a=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(He,[]);let{addGlobalListener:i,removeAllGlobalListeners:f}=z(),{hoverProps:l,triggerHoverEnd:b}=c.useMemo(()=>{let h=(d,m)=>{if(a.pointerType=m,o||m==="touch"||a.isHovered||!d.currentTarget.contains(d.target))return;a.isHovered=!0;let y=d.currentTarget;a.target=y,i(T(d.target),"pointerover",D=>{a.isHovered&&a.target&&!V(a.target,D.target)&&p(D,D.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:y,pointerType:m}),t&&t(!0),s(!0)},p=(d,m)=>{let y=a.target;a.pointerType="",a.target=null,!(m==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,f(),r&&r({type:"hoverend",target:y,pointerType:m}),t&&t(!1),s(!1))},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=d=>{C&&d.pointerType==="mouse"||h(d,d.pointerType)},v.onPointerLeave=d=>{!o&&d.currentTarget.contains(d.target)&&p(d,d.pointerType)}):(v.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=d=>{!a.ignoreEmulatedMouseEvents&&!C&&h(d,"mouse"),a.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=d=>{!o&&d.currentTarget.contains(d.target)&&p(d,"mouse")}),{hoverProps:v,triggerHoverEnd:p}},[n,t,r,o,a,i,f]);return c.useEffect(()=>{o&&b({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:l,isHovered:u}}function Ne(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=c.useRef({isFocused:!1,isFocusVisible:n||te()}),[u,s]=c.useState(!1),[a,i]=c.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=c.useCallback(()=>i(o.current.isFocused&&o.current.isFocusVisible),[]),l=c.useCallback(p=>{o.current.isFocused=p,s(p),f()},[f]);Fe(p=>{o.current.isFocusVisible=p,f()},[],{isTextInput:t});let{focusProps:b}=xe({isDisabled:r,onFocusChange:l}),{focusWithinProps:h}=Pe({isDisabled:!r,onFocusWithinChange:l});return{isFocused:u,isFocusVisible:a,focusProps:r?h:b}}export{Re as $,ke as A,Oe as B,Ce as C,Ne as a,L as b,Pe as c,_e as d,xe as e,_ as f,V as g,I as h,T as i,Ie as j,ge as k,U as l,q as m,pe as n,Ge as o,j as p,R as q,Ae as r,te as s,$e as t,De as u,be as v,z as w,We as x,Be as y,ve as z};
