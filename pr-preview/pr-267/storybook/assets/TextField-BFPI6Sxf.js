import{j as a}from"./jsx-runtime-DtgEGaVE.js";import{r as c,R as g}from"./index-BbAIUH2N.js";import{a as S,b as V,c as k}from"./Form-CdOY3XQC.js";import{$ as E,a as C,T as r,b as D}from"./TextField.module-C2s9jx-z.js";import{$ as _,a as A}from"./useField-DN-D1gXY.js";import{$ as O,a as F}from"./Text-DrzpM1Jb.js";import{$ as R,a as W,b as z,c as j,d as N,y as L,z as M,A as G,o as J,B as K}from"./useFocusable-BTV2lCc9.js";import{c as Q}from"./clsx-B-dksMZM.js";import{B as U}from"./Button-BLzfcKvT.js";const I=c.createContext({});let X=i=>{let{onHoverStart:e,onHoverChange:t,onHoverEnd:n,...d}=i;return d};const pe=c.forwardRef(function(e,t){[e,t]=R(e,t,I);let{hoverProps:n,isHovered:d}=W(e),{isFocused:s,isFocusVisible:p,focusProps:f}=z({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",u=j({...e,values:{isHovered:d,isFocused:s,isFocusVisible:p,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return g.createElement("textarea",{...N(X(e),f,n),...u,ref:t,"data-focused":s||void 0,"data-disabled":e.disabled||void 0,"data-hovered":d||void 0,"data-focus-visible":p||void 0,"data-invalid":l||void 0})}),Y=c.createContext(null),Z=c.forwardRef(function(e,t){[e,t]=R(e,t,Y);let{validationBehavior:n}=L(S)||{};var d,s;let p=(s=(d=e.validationBehavior)!==null&&d!==void 0?d:n)!==null&&s!==void 0?s:"native",f=c.useRef(null),[l,u]=R({},f,E),[$,b]=M(),[x,o]=c.useState("input"),{labelProps:m,inputProps:y,descriptionProps:B,errorMessageProps:H,...v}=C({...G(e),inputElementType:x,label:b,validationBehavior:p},u),T=c.useCallback(h=>{u.current=h,h&&o(h instanceof HTMLTextAreaElement?"textarea":"input")},[u]),w=j({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:v.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),P=J(e);return delete P.id,g.createElement("div",{...P,...w,ref:t,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":v.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},g.createElement(K,{values:[[_,{...m,ref:$}],[E,{...N(y,l),ref:T}],[I,{...y,ref:T}],[O,{slots:{description:B,errorMessage:H}}],[V,v]]},w.children))}),ee=({label:i,description:e,errorMessage:t,validationType:n,validate:d,maxCharacters:s,showCounter:p,...f})=>{const[l,u]=c.useState(""),$=o=>{const m=o.target.value;u(m)},b=o=>n==="ssn"?ae.test(o)?null:"Felaktigt personnummer":n==="dossnr"?se.test(o)?null:"Felaktigt dossiernummer":n instanceof RegExp?new RegExp(n).test(o)?null:t==null?void 0:t.toString():s?s&&o.length>s?`Du har angett ${o.length-s} tecken för mycket. Fältet är begränsat till ${s} tecken.`:null:d?d(o):!0,x=()=>s?a.jsxs("span",{className:Q(r.count,l.length>s&&r.countExceeded),children:[l.length," / ",s]}):p?a.jsx("span",{className:r.count,children:l.length}):null;return a.jsx(Z,{className:r.inputField,validate:b,...f,children:a.jsxs(q,{label:i,description:e,errorMessage:t,children:[a.jsx(x,{}),a.jsxs("div",{className:r.wrap,children:[a.jsx(D,{type:f.type,className:r.input,onChange:$,onBlur:$}),a.jsx(te,{type:f.type,input:l})]})]})})},te=({type:i,input:e})=>{const[t,n]=c.useState(!1);return i==="password"?a.jsxs(a.Fragment,{children:[t&&a.jsx(F,{slot:"description",className:r.passwordText,children:e}),a.jsx(U,{variant:"tertiary",onPress:()=>n(!t),className:r.passwordButton,children:t?"Dölj":"Visa"})]}):null},q=({label:i,description:e,errorMessage:t,children:n})=>a.jsxs("div",{className:r.inputWrapper,children:[i&&a.jsx(A,{className:r.label,children:i}),e&&a.jsx(F,{slot:"description",className:r.text,children:e}),a.jsx(k,{className:r.fieldError,children:t}),n]}),ae=new RegExp("^(?:(?:19|20)?\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4})?|\\d{4}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])(?:[-+ ]?\\d{4}))$"),se=new RegExp("\\d{1,2}[-+]?\\d{6}(/\\d{1,2})?$");ee.__docgenInfo={description:"",methods:[],displayName:"TextField",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:"Specify label displayed above the TextField"},description:{required:!1,tsType:{name:"string"},description:"Specify description displayed below the label"},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string) | undefined",elements:[{name:"string"},{name:"unknown"},{name:"undefined"}]},description:"Custom error messages"},validationType:{required:!1,tsType:{name:"union",raw:"'ssn' | 'dossnr' | RegExp",elements:[{name:"literal",value:"'ssn'"},{name:"literal",value:"'dossnr'"},{name:"RegExp"}]},description:"Enable validations or add your own regex"},maxCharacters:{required:!1,tsType:{name:"number"},description:"Set number of characters that are allowed before the TextField is put in an invalid state"},showCounter:{required:!1,tsType:{name:"boolean"},description:`Whether to show the character counter or not
@default
false`}},composes:["AriaTextFieldProps"]};q.__docgenInfo={description:"",methods:[],displayName:"InputWrapper"};export{Z as $,q as I,ee as T,pe as a};
