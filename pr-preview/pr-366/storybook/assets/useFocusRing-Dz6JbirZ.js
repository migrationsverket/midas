import{r as p,R as Ce}from"./index-BbAIUH2N.js";import{e as He,f as U,b as Oe,n as Qe,c as Ze}from"./utils-C4wbeGu1.js";import{r as et}from"./index-cpIEhwLo.js";const L=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},k=e=>e&&"window"in e&&e.window===e?e:L(e).defaultView||window;function tt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function nt(e){return tt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let rt=!1,it=!1;function Bt(){return rt}function ge(){return it}function T(e,t){if(!ge())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:nt(n)?n=n.host:n=n.parentNode}return!1}const z=(e=document)=>{var t;if(!ge())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function E(e){return ge()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Y(e){if(at())e.focus({preventScroll:!0});else{let t=ot(e);e.focus(),st(t)}}let Q=null;function at(){if(Q==null){Q=!1;try{document.createElement("div").focus({get preventScroll(){return Q=!0,!0}})}catch{}}return Q}function ot(e){let t=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==i;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function st(e){for(let{element:t,scrollTop:n,scrollLeft:i}of e)t.scrollTop=n,t.scrollLeft=i}function oe(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function $e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function A(e){let t=null;return()=>(t==null&&(t=e()),t)}const X=A(function(){return $e(/^Mac/i)}),ut=A(function(){return $e(/^iPhone/i)}),_e=A(function(){return $e(/^iPad/i)||X()&&navigator.maxTouchPoints>1}),Ee=A(function(){return ut()||_e()}),Ut=A(function(){return X()||Ee()}),lt=A(function(){return oe(/AppleWebKit/i)&&!ft()}),ft=A(function(){return oe(/Chrome/i)}),Ae=A(function(){return oe(/Android/i)}),ct=A(function(){return oe(/Firefox/i)}),Ie=p.createContext({isNative:!0,open:pt,useHref:e=>e});function Nt(e){let{children:t,navigate:n,useHref:i}=e,o=p.useMemo(()=>({isNative:!1,open:(l,f,u,c)=>{Ge(l,$=>{dt($,f)?n(u,c):D($,f)})},useHref:i||(l=>l)}),[n,i]);return Ce.createElement(Ie.Provider,{value:o},t)}function De(){return p.useContext(Ie)}function dt(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function D(e,t,n=!0){var i,o;let{metaKey:l,ctrlKey:f,altKey:u,shiftKey:c}=t;ct()&&(!((o=window.event)===null||o===void 0||(i=o.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(X()?l=!0:f=!0);let $=lt()&&X()&&!_e()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:l,ctrlKey:f,altKey:u,shiftKey:c}):new MouseEvent("click",{metaKey:l,ctrlKey:f,altKey:u,shiftKey:c,bubbles:!0,cancelable:!0});D.isOpening=n,Y(e),e.dispatchEvent($),D.isOpening=!1}D.isOpening=!1;function Ge(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function pt(e,t){Ge(e,n=>D(n,t))}function Vt(e){let t=De();var n;const i=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?i:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function Yt(e){let t=De();var n;const i=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?i:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let N=new Map,ce=new Set;function Pe(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let t=i=>{if(!e(i)||!i.target)return;let o=N.get(i.target);o||(o=new Set,N.set(i.target,o),i.target.addEventListener("transitioncancel",n,{once:!0})),o.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let o=N.get(i.target);if(o&&(o.delete(i.propertyName),o.size===0&&(i.target.removeEventListener("transitioncancel",n),N.delete(i.target)),N.size===0)){for(let l of ce)l();ce.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Pe():document.addEventListener("DOMContentLoaded",Pe));function Re(e){requestAnimationFrame(()=>{N.size===0?e():ce.add(e)})}function he(){let e=p.useRef(new Map),t=p.useCallback((o,l,f,u)=>{let c=u!=null&&u.once?(...$)=>{e.current.delete(f),f(...$)}:f;e.current.set(f,{type:l,eventTarget:o,fn:c,options:u}),o.addEventListener(l,c,u)},[]),n=p.useCallback((o,l,f,u)=>{var c;let $=((c=e.current.get(f))===null||c===void 0?void 0:c.fn)||f;o.removeEventListener(l,$,u),e.current.delete(f)},[]),i=p.useCallback(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return p.useEffect(()=>i,[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function bt(e,t){He(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function de(e){return e.mozInputSource===0&&e.isTrusted?!0:Ae()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function vt(e){return!Ae()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const me=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],gt=me.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";me.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $t=me.join(':not([hidden]):not([tabindex="-1"]),');function Et(e){return e.matches(gt)}function Xt(e){return e.matches($t)}let V="default",pe="",te=new WeakMap;function we(e){if(Ee()){if(V==="default"){const t=L(e);pe=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}V="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";te.set(e,e.style[t]),e.style[t]="none"}}function ue(e){if(Ee()){if(V!=="disabled")return;V="restoring",setTimeout(()=>{Re(()=>{if(V==="restoring"){const t=L(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=pe||""),pe="",V="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&te.has(e)){let t=te.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),te.delete(e)}}const We=Ce.createContext({register:()=>{}});We.displayName="PressResponderContext";class Be{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Ue(e){let t=p.useRef({isFocused:!1,observer:null});He(()=>{const i=t.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=U(i=>{e==null||e(i)});return p.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=i.target,l=f=>{t.current.isFocused=!1,o.disabled&&n(new Be("blur",f)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var f;(f=t.current.observer)===null||f===void 0||f.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let ne=!1;function Le(e){for(;e&&!Et(e);)e=e.parentElement;let t=k(e),n=t.document.activeElement;if(!n||n===e)return;ne=!0;let i=!1,o=v=>{(v.target===n||i)&&v.stopImmediatePropagation()},l=v=>{(v.target===n||i)&&(v.stopImmediatePropagation(),!e&&!i&&(i=!0,Y(n),c()))},f=v=>{(v.target===e||i)&&v.stopImmediatePropagation()},u=v=>{(v.target===e||i)&&(v.stopImmediatePropagation(),i||(i=!0,Y(n),c()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",l,!0),t.addEventListener("focusin",u,!0),t.addEventListener("focus",f,!0);let c=()=>{cancelAnimationFrame($),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",l,!0),t.removeEventListener("focusin",u,!0),t.removeEventListener("focus",f,!0),ne=!1,i=!1},$=requestAnimationFrame(c);return c}function ht(e,t){return t.get?t.get.call(e):t.value}function Ne(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function mt(e,t){var n=Ne(e,t,"get");return ht(e,n)}function yt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tt(e,t,n){yt(e,t),t.set(e,n)}function Pt(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Se(e,t,n){var i=Ne(e,t,"set");return Pt(e,i,n),n}function wt(e){let t=p.useContext(We);if(t){let{register:n,...i}=t;e=Oe(i,e),n()}return bt(t,e.ref),e}var Z=new WeakMap;class ee{continuePropagation(){Se(this,Z,!1)}get shouldStopPropagation(){return mt(this,Z)}constructor(t,n,i,o){Tt(this,Z,{writable:!0,value:void 0}),Se(this,Z,!0);var l;let f=(l=o==null?void 0:o.target)!==null&&l!==void 0?l:i.currentTarget;const u=f==null?void 0:f.getBoundingClientRect();let c,$=0,v,y=null;i.clientX!=null&&i.clientY!=null&&(v=i.clientX,y=i.clientY),u&&(v!=null&&y!=null?(c=v-u.left,$=y-u.top):(c=u.width/2,$=u.height/2)),this.type=t,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=c,this.y=$}}const xe=Symbol("linkClicked");function jt(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:l,isDisabled:f,isPressed:u,preventFocusOnPress:c,shouldCancelOnPointerExit:$,allowTextSelectionOnPress:v,ref:y,...C}=wt(e),[S,x]=p.useState(!1),g=p.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:P,removeAllGlobalListeners:H}=he(),F=U((r,d)=>{let w=g.current;if(f||w.didFirePressStart)return!1;let s=!0;if(w.isTriggeringEvent=!0,i){let m=new ee("pressstart",d,r);i(m),s=m.shouldStopPropagation}return n&&n(!0),w.isTriggeringEvent=!1,w.didFirePressStart=!0,x(!0),s}),O=U((r,d,w=!0)=>{let s=g.current;if(!s.didFirePressStart)return!1;s.didFirePressStart=!1,s.isTriggeringEvent=!0;let m=!0;if(o){let a=new ee("pressend",d,r);o(a),m=a.shouldStopPropagation}if(n&&n(!1),x(!1),t&&w&&!f){let a=new ee("press",d,r);t(a),m&&(m=a.shouldStopPropagation)}return s.isTriggeringEvent=!1,m}),R=U((r,d)=>{let w=g.current;if(f)return!1;if(l){w.isTriggeringEvent=!0;let s=new ee("pressup",d,r);return l(s),w.isTriggeringEvent=!1,s.shouldStopPropagation}return!0}),K=U(r=>{let d=g.current;if(d.isPressed&&d.target){d.didFirePressStart&&d.pointerType!=null&&O(B(d.target,r),d.pointerType,!1),d.isPressed=!1,d.isOverTarget=!1,d.activePointerId=null,d.pointerType=null,H(),v||ue(d.target);for(let w of d.disposables)w();d.disposables=[]}}),J=U(r=>{$&&K(r)}),Je=p.useMemo(()=>{let r=g.current,d={onKeyDown(s){if(le(s.nativeEvent,s.currentTarget)&&T(s.currentTarget,E(s.nativeEvent))){var m;Ke(E(s.nativeEvent),s.key)&&s.preventDefault();let a=!0;if(!r.isPressed&&!s.repeat){r.target=s.currentTarget,r.isPressed=!0,r.pointerType="keyboard",a=F(s,"keyboard");let b=s.currentTarget,h=W=>{le(W,b)&&!W.repeat&&T(b,E(W))&&r.target&&R(B(r.target,W),"keyboard")};P(L(s.currentTarget),"keyup",Qe(h,w),!0)}a&&s.stopPropagation(),s.metaKey&&X()&&((m=r.metaKeyEvents)===null||m===void 0||m.set(s.key,s.nativeEvent))}else s.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(s){if(!(s&&!T(s.currentTarget,E(s.nativeEvent)))&&s&&s.button===0&&!r.isTriggeringEvent&&!D.isOpening){let m=!0;if(f&&s.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||de(s.nativeEvent))){let a=F(s,"virtual"),b=R(s,"virtual"),h=O(s,"virtual");m=a&&b&&h}else if(r.isPressed&&r.pointerType!=="keyboard"){let a=r.pointerType||s.nativeEvent.pointerType||"virtual";m=O(B(s.currentTarget,s),a,!0),r.isOverTarget=!1,K(s)}r.ignoreEmulatedMouseEvents=!1,m&&s.stopPropagation()}}},w=s=>{var m;if(r.isPressed&&r.target&&le(s,r.target)){var a;Ke(E(s),s.key)&&s.preventDefault();let h=E(s);O(B(r.target,s),"keyboard",T(r.target,E(s))),H(),s.key!=="Enter"&&ye(r.target)&&T(r.target,h)&&!s[xe]&&(s[xe]=!0,D(r.target,s,!1)),r.isPressed=!1,(a=r.metaKeyEvents)===null||a===void 0||a.delete(s.key)}else if(s.key==="Meta"&&(!((m=r.metaKeyEvents)===null||m===void 0)&&m.size)){var b;let h=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let W of h.values())(b=r.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",W))}};if(typeof PointerEvent<"u"){d.onPointerDown=a=>{if(a.button!==0||!T(a.currentTarget,E(a.nativeEvent)))return;if(vt(a.nativeEvent)){r.pointerType="virtual";return}r.pointerType=a.pointerType;let b=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=a.pointerId,r.target=a.currentTarget,v||we(r.target),b=F(a,r.pointerType);let h=E(a.nativeEvent);"releasePointerCapture"in h&&h.releasePointerCapture(a.pointerId),P(L(a.currentTarget),"pointerup",s,!1),P(L(a.currentTarget),"pointercancel",m,!1)}b&&a.stopPropagation()},d.onMouseDown=a=>{if(T(a.currentTarget,E(a.nativeEvent))&&a.button===0){if(c){let b=Le(a.target);b&&r.disposables.push(b)}a.stopPropagation()}},d.onPointerUp=a=>{!T(a.currentTarget,E(a.nativeEvent))||r.pointerType==="virtual"||a.button===0&&R(a,r.pointerType||a.pointerType)},d.onPointerEnter=a=>{a.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,F(B(r.target,a),r.pointerType))},d.onPointerLeave=a=>{a.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,O(B(r.target,a),r.pointerType,!1),J(a))};let s=a=>{if(a.pointerId===r.activePointerId&&r.isPressed&&a.button===0&&r.target){if(T(r.target,E(a))&&r.pointerType!=null){let b=!1,h=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(b?K(a):(Y(r.target),r.target.click()))},80);P(a.currentTarget,"click",()=>b=!0,!0),r.disposables.push(()=>clearTimeout(h))}else K(a);r.isOverTarget=!1}},m=a=>{K(a)};d.onDragStart=a=>{T(a.currentTarget,E(a.nativeEvent))&&K(a)}}else{d.onMouseDown=a=>{if(a.button!==0||!T(a.currentTarget,E(a.nativeEvent)))return;if(r.ignoreEmulatedMouseEvents){a.stopPropagation();return}if(r.isPressed=!0,r.isOverTarget=!0,r.target=a.currentTarget,r.pointerType=de(a.nativeEvent)?"virtual":"mouse",et.flushSync(()=>F(a,r.pointerType))&&a.stopPropagation(),c){let h=Le(a.target);h&&r.disposables.push(h)}P(L(a.currentTarget),"mouseup",s,!1)},d.onMouseEnter=a=>{if(!T(a.currentTarget,E(a.nativeEvent)))return;let b=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!0,b=F(a,r.pointerType)),b&&a.stopPropagation()},d.onMouseLeave=a=>{if(!T(a.currentTarget,E(a.nativeEvent)))return;let b=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!1,b=O(a,r.pointerType,!1),J(a)),b&&a.stopPropagation()},d.onMouseUp=a=>{T(a.currentTarget,E(a.nativeEvent))&&!r.ignoreEmulatedMouseEvents&&a.button===0&&R(a,r.pointerType||"mouse")};let s=a=>{if(a.button===0){if(r.ignoreEmulatedMouseEvents){r.ignoreEmulatedMouseEvents=!1;return}r.target&&r.target.contains(a.target)&&r.pointerType!=null||K(a),r.isOverTarget=!1}};d.onTouchStart=a=>{if(!T(a.currentTarget,E(a.nativeEvent)))return;let b=Lt(a.nativeEvent);if(!b)return;r.activePointerId=b.identifier,r.ignoreEmulatedMouseEvents=!0,r.isOverTarget=!0,r.isPressed=!0,r.target=a.currentTarget,r.pointerType="touch",v||we(r.target),F(I(r.target,a),r.pointerType)&&a.stopPropagation(),P(k(a.currentTarget),"scroll",m,!0)},d.onTouchMove=a=>{if(!T(a.currentTarget,E(a.nativeEvent)))return;if(!r.isPressed){a.stopPropagation();return}let b=Fe(a.nativeEvent,r.activePointerId),h=!0;b&&Me(b,a.currentTarget)?!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,h=F(I(r.target,a),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,h=O(I(r.target,a),r.pointerType,!1),J(I(r.target,a))),h&&a.stopPropagation()},d.onTouchEnd=a=>{if(!T(a.currentTarget,E(a.nativeEvent)))return;if(!r.isPressed){a.stopPropagation();return}let b=Fe(a.nativeEvent,r.activePointerId),h=!0;b&&Me(b,a.currentTarget)&&r.pointerType!=null?(R(I(r.target,a),r.pointerType),h=O(I(r.target,a),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(h=O(I(r.target,a),r.pointerType,!1)),h&&a.stopPropagation(),r.isPressed=!1,r.activePointerId=null,r.isOverTarget=!1,r.ignoreEmulatedMouseEvents=!0,r.target&&!v&&ue(r.target),H()},d.onTouchCancel=a=>{T(a.currentTarget,E(a.nativeEvent))&&(a.stopPropagation(),r.isPressed&&K(I(r.target,a)))};let m=a=>{r.isPressed&&T(E(a),r.target)&&K({currentTarget:r.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};d.onDragStart=a=>{T(a.currentTarget,E(a.nativeEvent))&&K(a)}}return d},[P,f,c,H,v,K,J,O,F,R]);return p.useEffect(()=>{let r=g.current;return()=>{var d;v||ue((d=r.target)!==null&&d!==void 0?d:void 0);for(let w of r.disposables)w();r.disposables=[]}},[v]),{isPressed:u||S,pressProps:Oe(C,Je)}}function ye(e){return e.tagName==="A"&&e.hasAttribute("href")}function le(e,t){const{key:n,code:i}=e,o=t,l=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(o instanceof k(o).HTMLInputElement&&!Ve(o,n)||o instanceof k(o).HTMLTextAreaElement||o.isContentEditable)&&!((l==="link"||!l&&ye(o))&&n!=="Enter")}function Lt(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Fe(e,t){const n=e.changedTouches;for(let i=0;i<n.length;i++){const o=n[i];if(o.identifier===t)return o}return null}function I(e,t){let n=0,i=0;return t.targetTouches&&t.targetTouches.length===1&&(n=t.targetTouches[0].clientX,i=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:i}}function B(e,t){let n=t.clientX,i=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:i}}function St(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function xt(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Me(e,t){let n=t.getBoundingClientRect(),i=St(e);return xt(n,i)}function Ft(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!ye(e)}function Ke(e,t){return e instanceof HTMLInputElement?!Ve(e,t):Ft(e)}const Mt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ve(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Mt.has(e.type)}let _=null,q=new Set,j=new Map,G=!1,be=!1;const Kt={Tab:!0,Escape:!0};function se(e,t){for(let n of q)n(e,t)}function kt(e){return!(e.metaKey||!X()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function re(e){G=!0,kt(e)&&(_="keyboard",se("keyboard",e))}function M(e){_="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(G=!0,se("pointer",e))}function Ye(e){de(e)&&(G=!0,_="virtual")}function Xe(e){e.target===window||e.target===document||ne||!e.isTrusted||(!G&&!be&&(_="virtual",se("virtual",e)),G=!1,be=!1)}function je(){ne||(G=!1,be=!0)}function ie(e){if(typeof window>"u"||j.get(k(e)))return;const t=k(e),n=L(e);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){G=!0,i.apply(this,arguments)},n.addEventListener("keydown",re,!0),n.addEventListener("keyup",re,!0),n.addEventListener("click",Ye,!0),t.addEventListener("focus",Xe,!0),t.addEventListener("blur",je,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",M,!0),n.addEventListener("pointermove",M,!0),n.addEventListener("pointerup",M,!0)):(n.addEventListener("mousedown",M,!0),n.addEventListener("mousemove",M,!0),n.addEventListener("mouseup",M,!0)),t.addEventListener("beforeunload",()=>{ze(e)},{once:!0}),j.set(t,{focus:i})}const ze=(e,t)=>{const n=k(e),i=L(e);t&&i.removeEventListener("DOMContentLoaded",t),j.has(n)&&(n.HTMLElement.prototype.focus=j.get(n).focus,i.removeEventListener("keydown",re,!0),i.removeEventListener("keyup",re,!0),i.removeEventListener("click",Ye,!0),n.removeEventListener("focus",Xe,!0),n.removeEventListener("blur",je,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",M,!0),i.removeEventListener("pointermove",M,!0),i.removeEventListener("pointerup",M,!0)):(i.removeEventListener("mousedown",M,!0),i.removeEventListener("mousemove",M,!0),i.removeEventListener("mouseup",M,!0)),j.delete(n))};function Ct(e){const t=L(e);let n;return t.readyState!=="loading"?ie(e):(n=()=>{ie(e)},t.addEventListener("DOMContentLoaded",n)),()=>ze(e,n)}typeof document<"u"&&Ct();function Te(){return _!=="pointer"}function Ht(){return _}function zt(e){_=e,se(e,null)}function qt(){ie();let[e,t]=p.useState(_);return p.useEffect(()=>{let n=()=>{t(_)};return q.add(n),()=>{q.delete(n)}},[]),Ze()?null:e}const Ot=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function _t(e,t,n){let i=L(n==null?void 0:n.target);const o=typeof window<"u"?k(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?k(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,f=typeof window<"u"?k(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?k(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||i.activeElement instanceof o&&!Ot.has(i.activeElement.type)||i.activeElement instanceof l||i.activeElement instanceof f&&i.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!Kt[n.key])}function Jt(e={}){let{isTextInput:t,autoFocus:n}=e,[i,o]=p.useState(n||Te());return qe(l=>{o(l)},[t],{isTextInput:t}),{isFocusVisible:i}}function qe(e,t,n){ie(),p.useEffect(()=>{let i=(o,l)=>{_t(!!(n!=null&&n.isTextInput),o,l)&&e(Te())};return q.add(i),()=>{q.delete(i)}},t)}function Qt(e){const t=L(e),n=z(t);if(Ht()==="virtual"){let i=n;Re(()=>{z(t)===i&&e.isConnected&&Y(e)})}else Y(e)}function At(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:o}=e;const l=p.useCallback(c=>{if(c.target===c.currentTarget)return i&&i(c),o&&o(!1),!0},[i,o]),f=Ue(l),u=p.useCallback(c=>{const $=L(c.target),v=$?z($):z();c.target===c.currentTarget&&v===E(c.nativeEvent)&&(n&&n(c),o&&o(!0),f(c))},[o,n,f]);return{focusProps:{onFocus:!t&&(n||o||i)?u:void 0,onBlur:!t&&(i||o)?l:void 0}}}function It(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:o}=e,l=p.useRef({isFocusWithin:!1}),{addGlobalListener:f,removeAllGlobalListeners:u}=he(),c=p.useCallback(y=>{y.currentTarget.contains(y.target)&&l.current.isFocusWithin&&!y.currentTarget.contains(y.relatedTarget)&&(l.current.isFocusWithin=!1,u(),n&&n(y),o&&o(!1))},[n,o,l,u]),$=Ue(c),v=p.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const C=L(y.target),S=z(C);if(!l.current.isFocusWithin&&S===E(y.nativeEvent)){i&&i(y),o&&o(!0),l.current.isFocusWithin=!0,$(y);let x=y.currentTarget;f(C,"focus",g=>{if(l.current.isFocusWithin&&!T(x,g.target)){let P=new Be("blur",new C.defaultView.FocusEvent("blur",{relatedTarget:g.target}));P.target=x,P.currentTarget=x,c(P)}},{capture:!0})}},[i,o,$,f,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:c}}}let ae=!1,fe=0;function ve(){ae=!0,setTimeout(()=>{ae=!1},50)}function ke(e){e.pointerType==="touch"&&ve()}function Dt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ke):document.addEventListener("touchend",ve),fe++,()=>{fe--,!(fe>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ke):document.removeEventListener("touchend",ve))}}function Zt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:i,isDisabled:o}=e,[l,f]=p.useState(!1),u=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(Dt,[]);let{addGlobalListener:c,removeAllGlobalListeners:$}=he(),{hoverProps:v,triggerHoverEnd:y}=p.useMemo(()=>{let C=(g,P)=>{if(u.pointerType=P,o||P==="touch"||u.isHovered||!g.currentTarget.contains(g.target))return;u.isHovered=!0;let H=g.currentTarget;u.target=H,c(L(g.target),"pointerover",F=>{u.isHovered&&u.target&&!T(u.target,F.target)&&S(F,F.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:H,pointerType:P}),n&&n(!0),f(!0)},S=(g,P)=>{let H=u.target;u.pointerType="",u.target=null,!(P==="touch"||!u.isHovered||!H)&&(u.isHovered=!1,$(),i&&i({type:"hoverend",target:H,pointerType:P}),n&&n(!1),f(!1))},x={};return typeof PointerEvent<"u"?(x.onPointerEnter=g=>{ae&&g.pointerType==="mouse"||C(g,g.pointerType)},x.onPointerLeave=g=>{!o&&g.currentTarget.contains(g.target)&&S(g,g.pointerType)}):(x.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},x.onMouseEnter=g=>{!u.ignoreEmulatedMouseEvents&&!ae&&C(g,"mouse"),u.ignoreEmulatedMouseEvents=!1},x.onMouseLeave=g=>{!o&&g.currentTarget.contains(g.target)&&S(g,"mouse")}),{hoverProps:x,triggerHoverEnd:S}},[t,n,i,o,u,c,$]);return p.useEffect(()=>{o&&y({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:v,isHovered:l}}function en(e={}){let{autoFocus:t=!1,isTextInput:n,within:i}=e,o=p.useRef({isFocused:!1,isFocusVisible:t||Te()}),[l,f]=p.useState(!1),[u,c]=p.useState(()=>o.current.isFocused&&o.current.isFocusVisible),$=p.useCallback(()=>c(o.current.isFocused&&o.current.isFocusVisible),[]),v=p.useCallback(S=>{o.current.isFocused=S,f(S),$()},[$]);qe(S=>{o.current.isFocusVisible=S,$()},[],{isTextInput:n});let{focusProps:y}=At({isDisabled:i,onFocusChange:v}),{focusWithinProps:C}=It({isDisabled:!i,onFocusWithinChange:v});return{isFocused:l,isFocusVisible:u,focusProps:i?C:y}}export{Zt as $,Ee as A,he as B,Y as C,Ut as D,D as E,qt as F,Jt as G,Vt as H,Bt as I,_e as J,Tt as _,en as a,k as b,It as c,We as d,bt as e,jt as f,De as g,Yt as h,dt as i,Nt as j,zt as k,At as l,Qt as m,ge as n,T as o,z as p,L as q,Xt as r,Et as s,E as t,Ae as u,ft as v,Ht as w,X as x,lt as y,Te as z};
