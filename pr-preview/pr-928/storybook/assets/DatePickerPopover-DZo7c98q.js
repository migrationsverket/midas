import{d as ne,b as re,$ as Ae}from"./Button-DwYUQnyK.js";import{c as Xe,d as He}from"./CalendarHeader-DBMUVF_j.js";import{e as z,b as J,$ as ye,h as Ve,i as Pe,j as De,a as xe,k as Oe}from"./utils-y7VQpXmV.js";import{b as Re,c as Fe,d as Ce,e as Je,f as _e,g as Qe,h as G,i as q,j as Ye,k as Me,l as ea}from"./DateInput-jYX3xFv1.js";import{h as Ie,i as Te,j as ke,a as aa,k as la}from"./Dialog-C2kRLA1K.js";import{$ as Be}from"./FieldError-DsFnT5cH.js";import{a as Ze}from"./Form-CrU0CZmU.js";import{$ as oe,a as ia}from"./Group-Dz3qv3v1.js";import{a as se}from"./Text-LE0QZyiT.js";import{d as Q,e as we,a as Se}from"./useFocusRing-YAhHe-vS.js";import{$ as Ee}from"./useResizeObserver-BdtodvEi.js";import{b as pe,r as o,k as ie,n as te,e as A,j as X}from"./iframe-5OPxOFOo.js";import{$ as H}from"./useDateFormatter-F3_px5Uh.js";import{e as de,f as ve,d as me,a as We}from"./useFormValidation-Bc1me9n6.js";import{b as Ne}from"./OverlayArrow-CB3yFPwQ.js";import{$ as Ue}from"./useControlledState-C3eWgmLl.js";import{d as je}from"./SelectionIndicator-org_szYd.js";import{$ as Ke}from"./useDescription-BnvkbMBx.js";import{$ as Le}from"./useField-B5Gn1WPy.js";import{$ as qe}from"./useLocalizedStringFormatter-CJrXU8gl.js";import{c as $e}from"./clsx-B-dksMZM.js";import{c as ta}from"./createLucideIcon-DTp8xoi7.js";function da(e){return e&&e.__esModule?e.default:e}function na(e,a,t){let $=z(),f=z(),h=z(),m=qe(da(Ce),"@react-aria/datepicker"),{isInvalid:i,validationErrors:s,validationDetails:l}=a.displayValidation,{labelProps:O,fieldProps:R,descriptionProps:g,errorMessageProps:M}=Le({...e,labelElementType:"span",isInvalid:i,errorMessage:e.errorMessage||s}),F=Re(a,t),I=R["aria-labelledby"]||R.id,{locale:C}=pe(),c=a.formatValue(C,{month:"long"}),T=c?m.format("selectedDateDescription",{date:c}):"",d=Ke(T),_=[d["aria-describedby"],R["aria-describedby"]].filter(Boolean).join(" ")||void 0,w=Q(e),k=o.useMemo(()=>je(t),[t]),P=o.useRef(!1),{focusWithinProps:Z}=we({...e,isDisabled:a.isOpen,onBlurWithin:b=>{let y=document.getElementById(f);if(!y?.contains(b.relatedTarget)){var D,B;P.current=!1,(D=e.onBlur)===null||D===void 0||D.call(e,b),(B=e.onFocusChange)===null||B===void 0||B.call(e,!1)}},onFocusWithin:b=>{if(!P.current){var y,D;P.current=!0,(y=e.onFocus)===null||y===void 0||y.call(e,b),(D=e.onFocusChange)===null||D===void 0||D.call(e,!0)}}});return{groupProps:J(w,F,R,d,Z,{role:"group","aria-disabled":e.isDisabled||null,"aria-labelledby":I,"aria-describedby":_,onKeyDown(b){a.isOpen||e.onKeyDown&&e.onKeyDown(b)},onKeyUp(b){a.isOpen||e.onKeyUp&&e.onKeyUp(b)}}),labelProps:{...O,onClick:()=>{k.focusFirst()}},fieldProps:{...R,id:h,[Fe]:"presentation","aria-describedby":_,value:a.value,defaultValue:a.defaultValue,onChange:a.setValue,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,granularity:e.granularity,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior,[de]:a,autoFocus:e.autoFocus,name:e.name,form:e.form},descriptionProps:g,errorMessageProps:M,buttonProps:{...d,id:$,"aria-haspopup":"dialog","aria-label":m.format("calendar"),"aria-labelledby":`${$} ${I}`,"aria-describedby":_,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:f,"aria-labelledby":`${$} ${I}`},calendarProps:{autoFocus:!0,value:a.dateValue,onChange:a.setDateValue,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,defaultFocusedValue:a.dateValue?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" "),firstDayOfWeek:e.firstDayOfWeek,pageBehavior:e.pageBehavior},isInvalid:i,validationErrors:s,validationDetails:l}}function ra(e){return e&&e.__esModule?e.default:e}function oa(e,a,t){var $,f,h,m,i;let s=qe(ra(Ce),"@react-aria/datepicker"),{isInvalid:l,validationErrors:O,validationDetails:R}=a.displayValidation,{labelProps:g,fieldProps:M,descriptionProps:F,errorMessageProps:I}=Le({...e,labelElementType:"span",isInvalid:l,errorMessage:e.errorMessage||O}),C=M["aria-labelledby"]||M.id,{locale:c}=pe(),T=a.formatValue(c,{month:"long"}),d=T?s.format("selectedRangeDescription",{startDate:T.start,endDate:T.end}):"",_=Ke(d),w={"aria-label":s.format("startDate"),"aria-labelledby":C},k={"aria-label":s.format("endDate"),"aria-labelledby":C},P=z(),Z=z(),b=Re(a,t),y=[_["aria-describedby"],M["aria-describedby"]].filter(Boolean).join(" ")||void 0,D=o.useMemo(()=>je(t,{accept:n=>n.id!==P}),[t,P]),B={[Je]:D,[Fe]:"presentation","aria-describedby":y,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,granularity:e.granularity,shouldForceLeadingZeros:e.shouldForceLeadingZeros,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior},V=Q(e),x=o.useRef(!1),{focusWithinProps:p}=we({...e,isDisabled:a.isOpen,onBlurWithin:n=>{let v=document.getElementById(Z);if(!v?.contains(n.relatedTarget)){var S,L;x.current=!1,(S=e.onBlur)===null||S===void 0||S.call(e,n),(L=e.onFocusChange)===null||L===void 0||L.call(e,!1)}},onFocusWithin:n=>{if(!x.current){var v,S;x.current=!0,(v=e.onFocus)===null||v===void 0||v.call(e,n),(S=e.onFocusChange)===null||S===void 0||S.call(e,!0)}}}),W=o.useRef(ve),K=o.useRef(ve);var r,u;return{groupProps:J(V,b,M,_,p,{role:"group","aria-disabled":e.isDisabled||null,"aria-describedby":y,onKeyDown(n){a.isOpen||e.onKeyDown&&e.onKeyDown(n)},onKeyUp(n){a.isOpen||e.onKeyUp&&e.onKeyUp(n)}}),labelProps:{...g,onClick:()=>{D.focusFirst()}},buttonProps:{..._,id:P,"aria-haspopup":"dialog","aria-label":s.format("calendar"),"aria-labelledby":`${P} ${C}`,"aria-describedby":y,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:Z,"aria-labelledby":`${P} ${C}`},startFieldProps:{...w,...B,value:(r=($=a.value)===null||$===void 0?void 0:$.start)!==null&&r!==void 0?r:null,defaultValue:(f=a.defaultValue)===null||f===void 0?void 0:f.start,onChange:n=>a.setDateTime("start",n),autoFocus:e.autoFocus,name:e.startName,form:e.form,[de]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){W.current=n,a.updateValidation(me(n,K.current))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},endFieldProps:{...k,...B,value:(u=(h=a.value)===null||h===void 0?void 0:h.end)!==null&&u!==void 0?u:null,defaultValue:(m=a.defaultValue)===null||m===void 0?void 0:m.end,onChange:n=>a.setDateTime("end",n),name:e.endName,form:e.form,[de]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(n){K.current=n,a.updateValidation(me(W.current,n))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},descriptionProps:F,errorMessageProps:I,calendarProps:{autoFocus:!0,value:!((i=a.dateRange)===null||i===void 0)&&i.start&&a.dateRange.end?a.dateRange:null,onChange:a.setDateRange,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,allowsNonContiguousRanges:e.allowsNonContiguousRanges,defaultFocusedValue:a.dateRange?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" "),firstDayOfWeek:e.firstDayOfWeek,pageBehavior:e.pageBehavior},isInvalid:l,validationErrors:O,validationDetails:R}}function sa(e){let a=Ne(e),[t,$]=Ue(e.value,e.defaultValue||null,e.onChange),[f]=o.useState(t),h=t||e.placeholderValue||null,[m,i]=_e(h,e.granularity),s=t!=null?t.toDate(i??"UTC"):null,l=m==="hour"||m==="minute"||m==="second";var O;let R=(O=e.shouldCloseOnSelect)!==null&&O!==void 0?O:!0,[g,M]=o.useState(null),[F,I]=o.useState(null);if(t&&(g=t,"hour"in t&&(F=t)),h&&!(m in h))throw new Error("Invalid granularity "+m+" for value "+h.toString());let C=t?.calendar.identifier==="gregory"&&t.era==="BC",c=o.useMemo(()=>({granularity:m,timeZone:i,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:C}),[m,e.hourCycle,e.shouldForceLeadingZeros,i,e.hideTimeZone,C]),{minValue:T,maxValue:d,isDateUnavailable:_}=e,w=o.useMemo(()=>Qe(t,T,d,_,c),[t,T,d,_,c]),k=We({...e,value:t,builtinValidation:w}),P=k.displayValidation.isInvalid,Z=e.validationState||(P?"invalid":null),b=(V,x)=>{$("timeZone"in x?x.set(te(V)):ie(V,x)),M(null),I(null),k.commitValidation()},y=V=>{let x=typeof R=="function"?R():R;l?F||x?b(V,F||q(e.defaultValue||e.placeholderValue)):M(V):($(V),k.commitValidation()),x&&a.setOpen(!1)},D=V=>{g&&V?b(g,V):I(V)};var B;return{...k,value:t,defaultValue:(B=e.defaultValue)!==null&&B!==void 0?B:f,setValue:$,dateValue:g,timeValue:F,setDateValue:y,setTimeValue:D,granularity:m,hasTime:l,...a,setOpen(V){!V&&!t&&g&&l&&b(g,F||q(e.defaultValue||e.placeholderValue)),a.setOpen(V)},validationState:Z,isInvalid:P,formatValue(V,x){if(!s)return"";let p=G(x,c);return new H(V,p).format(s)},getDateFormatter(V,x){let p={...c,...x},W=G({},p);return new H(V,W)}}}function ua(e){var a,t;let $=Ne(e),[f,h]=Ue(e.value,e.defaultValue||null,e.onChange),[m]=o.useState(f),[i,s]=o.useState(()=>f||{start:null,end:null});f==null&&i.start&&i.end&&(i={start:null,end:null},s(i));let l=f||i,O=r=>{l=r||{start:null,end:null},s(l),U(l)?h(l):h(null)},R=l?.start||l?.end||e.placeholderValue||null,[g,M]=_e(R,e.granularity),F=g==="hour"||g==="minute"||g==="second";var I;let C=(I=e.shouldCloseOnSelect)!==null&&I!==void 0?I:!0,[c,T]=o.useState(null),[d,_]=o.useState(null);l&&U(l)&&(c=l,"hour"in l.start&&(d=l));let w=(r,u)=>{O({start:"timeZone"in u.start?u.start.set(te(r.start)):ie(r.start,u.start),end:"timeZone"in u.end?u.end.set(te(r.end)):ie(r.end,u.end)}),T(null),_(null),x.commitValidation()},k=r=>{let u=typeof C=="function"?C():C;F?U(r)&&(u||d?.start&&d?.end)?w(r,{start:d?.start||q(e.placeholderValue),end:d?.end||q(e.placeholderValue)}):T(r):U(r)?(O(r),x.commitValidation()):T(r),u&&$.setOpen(!1)},P=r=>{U(c)&&U(r)?w(c,r):_(r)},Z=(l==null||(a=l.start)===null||a===void 0?void 0:a.calendar.identifier)==="gregory"&&l.start.era==="BC"||(l==null||(t=l.end)===null||t===void 0?void 0:t.calendar.identifier)==="gregory"&&l.end.era==="BC",b=o.useMemo(()=>({granularity:g,timeZone:M,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:Z}),[g,e.hourCycle,e.shouldForceLeadingZeros,M,e.hideTimeZone,Z]),{minValue:y,maxValue:D,isDateUnavailable:B}=e,V=o.useMemo(()=>Ye(l,y,D,B,b),[l,y,D,B,b]),x=We({...e,value:f,name:o.useMemo(()=>[e.startName,e.endName].filter(r=>r!=null),[e.startName,e.endName]),builtinValidation:V}),p=x.displayValidation.isInvalid,W=e.validationState||(p?"invalid":null);var K;return{...x,value:l,defaultValue:(K=e.defaultValue)!==null&&K!==void 0?K:m,setValue:O,dateRange:c,timeRange:d,granularity:g,hasTime:F,setDate(r,u){var n,v;k(r==="start"?{start:u,end:(n=c?.end)!==null&&n!==void 0?n:null}:{start:(v=c?.start)!==null&&v!==void 0?v:null,end:u})},setTime(r,u){var n,v;P(r==="start"?{start:u,end:(n=d?.end)!==null&&n!==void 0?n:null}:{start:(v=d?.start)!==null&&v!==void 0?v:null,end:u})},setDateTime(r,u){var n,v;O(r==="start"?{start:u,end:(n=l?.end)!==null&&n!==void 0?n:null}:{start:(v=l?.start)!==null&&v!==void 0?v:null,end:u})},setDateRange:k,setTimeRange:P,...$,setOpen(r){!r&&!(l?.start&&l?.end)&&U(c)&&F&&w(c,{start:d?.start||q(e.placeholderValue),end:d?.end||q(e.placeholderValue)}),$.setOpen(r)},validationState:W,isInvalid:p,formatValue(r,u){if(!l||!l.start||!l.end)return null;let n="timeZone"in l.start?l.start.timeZone:void 0,v=e.granularity||(l.start&&"minute"in l.start?"minute":"day"),S="timeZone"in l.end?l.end.timeZone:void 0,L=e.granularity||(l.end&&"minute"in l.end?"minute":"day"),Ge=G(u,{granularity:v,timeZone:n,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,showEra:l.start.calendar.identifier==="gregory"&&l.start.era==="BC"||l.end.calendar.identifier==="gregory"&&l.end.era==="BC"}),ue=l.start.toDate(n||"UTC"),ce=l.end.toDate(S||"UTC"),Y=new H(r,Ge),ee;if(n===S&&v===L&&l.start.compare(l.end)!==0){try{let N=Y.formatRangeToParts(ue,ce),ae=-1;for(let E=0;E<N.length;E++){let le=N[E];if(le.source==="shared"&&le.type==="literal")ae=E;else if(le.source==="endRange")break}let fe="",be="";for(let E=0;E<N.length;E++)E<ae?fe+=N[E].value:E>ae&&(be+=N[E].value);return{start:fe,end:be}}catch{}ee=Y}else{let N=G(u,{granularity:L,timeZone:S,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle});ee=new H(r,N)}return{start:Y.format(ue),end:ee.format(ce)}},getDateFormatter(r,u){let n={...b,...u},v=G({},n);return new H(r,v)}}}function U(e){return e?.start!=null&&e.end!=null}const ca=o.createContext(null),fa=o.createContext(null),ba=o.createContext(null),va=o.createContext(null),ze=[oe,ne,re,se],qa=o.forwardRef(function(a,t){[a,t]=ye(a,t,ca);let{validationBehavior:$}=Ve(Ze)||{};var f,h;let m=(h=(f=a.validationBehavior)!==null&&f!==void 0?f:$)!==null&&h!==void 0?h:"native",i=sa({...a,validationBehavior:m}),s=o.useRef(null),[l,O]=Pe(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:R,labelProps:g,fieldProps:M,buttonProps:F,dialogProps:I,calendarProps:C,descriptionProps:c,errorMessageProps:T,...d}=na({...De(a),label:O,validationBehavior:m},i,s),[_,w]=o.useState(null),k=o.useCallback(()=>{s.current&&w(s.current.offsetWidth+"px")},[]);Ee({ref:s,onResize:k});let{focusProps:P,isFocused:Z,isFocusVisible:b}=Se({within:!0}),y=xe({...a,values:{state:i,isFocusWithin:Z,isFocusVisible:b,isDisabled:a.isDisabled||!1,isInvalid:i.isInvalid,isOpen:i.isOpen,isReadOnly:a.isReadOnly||!1},defaultClassName:"react-aria-DatePicker"}),D=Q(a,{global:!0});return delete D.id,A.createElement(Oe,{values:[[ba,i],[oe,{...R,ref:s,isInvalid:i.isInvalid}],[Me,M],[ne,{...F,isPressed:i.isOpen}],[re,{...g,ref:l,elementType:"span"}],[He,C],[Ie,i],[Te,{trigger:"DatePicker",triggerRef:s,placement:"bottom start",style:{"--trigger-width":_},clearContexts:ze}],[ke,I],[se,{slots:{description:c,errorMessage:T}}],[Be,d]]},A.createElement("div",{...J(D,y,P),ref:t,slot:a.slot||void 0,"data-focus-within":Z||void 0,"data-invalid":i.isInvalid||void 0,"data-focus-visible":b||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-open":i.isOpen||void 0}),A.createElement(ea,{autoComplete:a.autoComplete,name:a.name,isDisabled:a.isDisabled,state:i}))}),za=o.forwardRef(function(a,t){[a,t]=ye(a,t,fa);let{validationBehavior:$}=Ve(Ze)||{};var f,h;let m=(h=(f=a.validationBehavior)!==null&&f!==void 0?f:$)!==null&&h!==void 0?h:"native",i=ua({...a,validationBehavior:m}),s=o.useRef(null),[l,O]=Pe(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:R,labelProps:g,startFieldProps:M,endFieldProps:F,buttonProps:I,dialogProps:C,calendarProps:c,descriptionProps:T,errorMessageProps:d,..._}=oa({...De(a),label:O,validationBehavior:m},i,s),[w,k]=o.useState(null),P=o.useCallback(()=>{s.current&&k(s.current.offsetWidth+"px")},[]);Ee({ref:s,onResize:P});let{focusProps:Z,isFocused:b,isFocusVisible:y}=Se({within:!0}),D=xe({...a,values:{state:i,isFocusWithin:b,isFocusVisible:y,isDisabled:a.isDisabled||!1,isInvalid:i.isInvalid,isOpen:i.isOpen,isReadOnly:a.isReadOnly||!1},defaultClassName:"react-aria-DateRangePicker"}),B=Q(a,{global:!0});return delete B.id,A.createElement(Oe,{values:[[va,i],[oe,{...R,ref:s,isInvalid:i.isInvalid}],[ne,{...I,isPressed:i.isOpen}],[re,{...g,ref:l,elementType:"span"}],[Xe,c],[Ie,i],[Te,{trigger:"DateRangePicker",triggerRef:s,placement:"bottom start",style:{"--trigger-width":w},clearContexts:ze}],[ke,C],[Me,{slots:{start:M,end:F}}],[se,{slots:{description:T,errorMessage:d}}],[Be,_]]},A.createElement("div",{...J(B,D,Z),ref:t,slot:a.slot||void 0,"data-focus-within":b||void 0,"data-invalid":i.isInvalid||void 0,"data-focus-visible":y||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-open":i.isOpen||void 0}))});const ma=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$a=ta("calendar-days",ma),ha="_datePicker_175bg_1",ga="_inputField_175bg_8",ya="_medium_175bg_24",Va="_readOnly_175bg_42",Pa="_calendarButton_175bg_60",Da="_dialog_175bg_108",j={datePicker:ha,inputField:ga,medium:ya,readOnly:Va,calendarButton:Pa,dialog:Da},he=({children:e,isDisabled:a,isInvalid:t,isReadOnly:$,size:f="large"})=>X.jsxs(ia,{className:$e(j.inputField,{[j.medium]:f==="medium",[j.readOnly]:$}),children:[e,X.jsx(Ae,{className:$e(j.calendarButton,{[j.medium]:f==="medium",[j.readOnly]:$}),"data-invalid":t||void 0,isDisabled:a,children:X.jsx($a,{"aria-hidden":!0,size:20})})]});try{he.displayName="DatePickerInputField",he.__docgenInfo={description:"",displayName:"DatePickerInputField",props:{isDisabled:{defaultValue:null,description:"Whether the input is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"large"},description:"Component size (large: height 48px, medium: height 40px)",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}},isReadOnly:{defaultValue:null,description:"Whether the input can be selected but not changed by the user.",name:"isReadOnly",required:!1,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"Whether the input value is invalid.",name:"isInvalid",required:!1,type:{name:"boolean"}}}}}catch{}const ge=({children:e})=>X.jsx(aa,{children:X.jsx(la,{className:j.dialog,children:e})});try{ge.displayName="DatePickerPopover",ge.__docgenInfo={description:"",displayName:"DatePickerPopover",props:{}}}catch{}export{qa as $,he as D,ge as a,za as b,j as s};
