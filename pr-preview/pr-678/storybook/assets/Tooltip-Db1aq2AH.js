import{j as x}from"./jsx-runtime-BYYWji4R.js";import{c as I}from"./clsx-B-dksMZM.js";import{d as A,$ as B,a as L,e as j,b as H,f as M,c as U}from"./OverlayArrow-BZcOvAjo.js";import{j as F,b as E,k,i as z,$ as K,d as Y,a as G}from"./utils-BLyg3OOq.js";import{c as J,$ as q,b as Q,r as X,z as Z,A as ee}from"./useFocusRing-eGNMqT99.js";import{R as d,r as o}from"./index-ClcD9ViR.js";import{$ as te}from"./index-DQEgcCId.js";const w=d.createContext(null);function ae(e){let{children:a}=e,t=o.useContext(w),[n,i]=o.useState(0),s=o.useMemo(()=>({parent:t,modalCount:n,addModal(){i(l=>l+1),t&&t.addModal()},removeModal(){i(l=>l-1),t&&t.removeModal()}}),[t,n]);return d.createElement(w.Provider,{value:s},a)}function re(){let e=o.useContext(w);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function le(e){let{modalProviderProps:a}=re();return d.createElement("div",{"data-overlay-container":!0,...e,...a})}function ne(e){return d.createElement(ae,null,d.createElement(le,e))}function oe(e){let a=F(),{portalContainer:t=a?null:document.body,...n}=e,{getContainer:i}=A();if(!e.portalContainer&&i&&(t=i()),d.useEffect(()=>{if(t!=null&&t.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let s=d.createElement(ne,n);return te.createPortal(s,t)}function ie(e,a){let t=J(e,{labelable:!0}),{hoverProps:n}=q({onHoverStart:()=>a==null?void 0:a.open(!0),onHoverEnd:()=>a==null?void 0:a.close()});return{tooltipProps:E(t,n,{role:"tooltip"})}}function se(e,a,t){let{isDisabled:n,trigger:i}=e,s=k(),l=o.useRef(!1),r=o.useRef(!1),f=()=>{(l.current||r.current)&&a.open(r.current)},u=g=>{!l.current&&!r.current&&a.close(g)};o.useEffect(()=>{let g=P=>{t&&t.current&&P.key==="Escape"&&(P.stopPropagation(),a.close(!0))};if(a.isOpen)return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[t,a]);let h=()=>{i!=="focus"&&(X()==="pointer"?l.current=!0:l.current=!1,f())},$=()=>{i!=="focus"&&(r.current=!1,l.current=!1,u())},v=()=>{r.current=!1,l.current=!1,u(!0)},T=()=>{Z()&&(r.current=!0,f())},c=()=>{r.current=!1,l.current=!1,u(!0)},{hoverProps:N}=q({isDisabled:n,onHoverStart:h,onHoverEnd:$}),{focusableProps:W}=Q({isDisabled:n,onFocus:T,onBlur:c},t);return{triggerProps:{"aria-describedby":a.isOpen?s:void 0,...E(W,N,{onPointerDown:v,onKeyDown:v,tabIndex:void 0})},tooltipProps:{id:s}}}const de=1500,C=500;let m={},ue=0,y=!1,p=null,b=null;function R(e={}){let{delay:a=de,closeDelay:t=C}=e,{isOpen:n,open:i,close:s}=B(e),l=o.useMemo(()=>`${++ue}`,[]),r=o.useRef(null),f=o.useRef(s),u=()=>{m[l]=v},h=()=>{for(let c in m)c!==l&&(m[c](!0),delete m[c])},$=()=>{r.current&&clearTimeout(r.current),r.current=null,h(),u(),y=!0,i(),p&&(clearTimeout(p),p=null),b&&(clearTimeout(b),b=null)},v=c=>{c||t<=0?(r.current&&clearTimeout(r.current),r.current=null,f.current()):r.current||(r.current=setTimeout(()=>{r.current=null,f.current()},t)),p&&(clearTimeout(p),p=null),y&&(b&&clearTimeout(b),b=setTimeout(()=>{delete m[l],b=null,y=!1},Math.max(C,t)))},T=()=>{h(),u(),!n&&!p&&!y?p=setTimeout(()=>{p=null,y=!0,$()},a):n||$()};return o.useEffect(()=>{f.current=s},[s]),o.useEffect(()=>()=>{r.current&&clearTimeout(r.current),m[l]&&delete m[l]},[l]),{isOpen:n,open:c=>{!c&&a>0&&!r.current?T():$()},close:v}}const O=o.createContext(null),D=o.createContext(null);function ce(e){let a=R(e),t=o.useRef(null),{triggerProps:n,tooltipProps:i}=se(e,a,t);return d.createElement(z,{values:[[O,a],[D,{...i,triggerRef:t}]]},d.createElement(ee,{...n,ref:t},e.children))}const fe=o.forwardRef(function({UNSTABLE_portalContainer:a,...t},n){[t,n]=K(t,n,D);let i=o.useContext(O),s=R(t),l=t.isOpen!=null||t.defaultOpen!=null||!i?s:i,r=L(n,l.isOpen)||t.isExiting||!1;return!l.isOpen&&!r?null:d.createElement(oe,{portalContainer:a},d.createElement(pe,{...t,tooltipRef:n,isExiting:r}))});function pe(e){let a=o.useContext(O),t=o.useRef(null),[n,i]=o.useState(0);Y(()=>{t.current&&a.isOpen&&i(t.current.getBoundingClientRect().width)},[a.isOpen,t]);let{overlayProps:s,arrowProps:l,placement:r}=j({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,offset:e.offset,crossOffset:e.crossOffset,isOpen:a.isOpen,arrowSize:n,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,onClose:()=>a.close(!0)}),f=H(e.tooltipRef,!!r)||e.isEntering||!1,u=G({...e,defaultClassName:"react-aria-Tooltip",values:{placement:r,isEntering:f,isExiting:e.isExiting,state:a}});e=E(e,s);let{tooltipProps:h}=ie(e,a);return d.createElement("div",{...h,ref:e.tooltipRef,...u,style:{...s.style,...u.style},"data-placement":r??void 0,"data-entering":f||void 0,"data-exiting":e.isExiting||void 0},d.createElement(M.Provider,{value:{...l,placement:r,ref:t}},u.children))}const me="_tooltip_1l8u8_4",be="_arrow_1l8u8_17",S={tooltip:me,arrow:be};function V({children:e,className:a,...t}){return x.jsxs(fe,{className:I(S.tooltip,a),...t,children:[x.jsx(U,{className:S.arrow,children:x.jsx("svg",{width:8,height:8,viewBox:"0 0 8 8",children:x.jsx("path",{d:"M0 0 L4 4 L8 0"})})}),e]})}function _({children:e,delay:a=0,...t}){return x.jsx(ce,{delay:a,...t,children:e})}try{V.displayName="Tooltip",V.__docgenInfo={description:"",displayName:"Tooltip",props:{className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: TooltipRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: TooltipRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},"aria-describedby":{defaultValue:null,description:"Identifies the element (or elements) that describes the object.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"Identifies the element (or elements) that provide a detailed, extended description for the object.",name:"aria-details",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"Defines a string value that labels the current element.",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"Identifies the element (or elements) that labels the current element.",name:"aria-labelledby",required:!1,type:{name:"string"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},placement:{defaultValue:{value:"'top'"},description:"The placement of the tooltip with respect to the trigger.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end"'},{value:'"end top"'},{value:'"end bottom"'}]}},containerPadding:{defaultValue:{value:"12"},description:`The placement padding that should be applied between the element and its
surrounding container.`,name:"containerPadding",required:!1,type:{name:"number"}},offset:{defaultValue:{value:"0"},description:`The additional offset applied along the main axis between the element and its
anchor element.`,name:"offset",required:!1,type:{name:"number"}},crossOffset:{defaultValue:{value:"0"},description:`The additional offset applied along the cross axis between the element and its
anchor element.`,name:"crossOffset",required:!1,type:{name:"number"}},shouldFlip:{defaultValue:{value:"true"},description:`Whether the element should flip its orientation (e.g. top to bottom or left to right) when
there is insufficient room for it to render completely.`,name:"shouldFlip",required:!1,type:{name:"boolean"}},triggerRef:{defaultValue:null,description:`The ref for the element which the tooltip positions itself with respect to.

When used within a TooltipTrigger this is set automatically. It is only required when used standalone.`,name:"triggerRef",required:!1,type:{name:"RefObject<Element>"}},arrowBoundaryOffset:{defaultValue:{value:"0"},description:"The minimum distance the arrow's edge should be from the edge of the overlay element.",name:"arrowBoundaryOffset",required:!1,type:{name:"number"}},isEntering:{defaultValue:null,description:"Whether the tooltip is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the tooltip is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:`The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.
@deprecated - Use a parent UNSAFE_PortalProvider to set your portal container instead.`,name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}}}}}catch{}try{_.displayName="TooltipTrigger",_.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{isDisabled:{defaultValue:null,description:"Whether the tooltip should be disabled, independent from the trigger.",name:"isDisabled",required:!1,type:{name:"boolean"}},delay:{defaultValue:{value:"0"},description:"The delay time for the tooltip to show up. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Immediate-or-delayed-appearance).",name:"delay",required:!1,type:{name:"number"}},closeDelay:{defaultValue:{value:"500"},description:"The delay time for the tooltip to close. [See guidelines](https://spectrum.adobe.com/page/tooltip/#Warmup-and-cooldown).",name:"closeDelay",required:!1,type:{name:"number"}},trigger:{defaultValue:null,description:"By default, opens for both focus and hover. Can be made to open only for focus.",name:"trigger",required:!1,type:{name:'"focus"'}},isOpen:{defaultValue:null,description:"Whether the element is rendered.",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Handler that is called when the overlay's open state changes.",name:"onOpenChange",required:!1,type:{name:"(isOpen: boolean) => void"}}}}}catch{}export{_ as T,V as a,S as s};
