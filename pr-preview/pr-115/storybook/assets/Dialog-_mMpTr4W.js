import{v as re,t as it,N as at,j as F,a as st,P as ct,B as Q,b as me,$ as dt,E as ft,u as ne,n as oe,c as be,Q as ut,R as pt,f as $t,z as mt,S as bt}from"./useFocusable-oEo1n-jK.js";import{r as m,R as C}from"./index-BwDkhjyp.js";import{a as vt}from"./RSPContexts-DD7oPhfd.js";import{b as gt}from"./Hidden-CeomKQRv.js";import{a as ht,$ as xt}from"./useControlledState-CktEcWfI.js";import{$ as Et}from"./context-CTzaVcmG.js";import{c as wt,b as Ct}from"./FocusScope-B0iEahOm.js";import{a as ve}from"./useCollator-CmOnbdDs.js";import{$ as Pt}from"./useLocalizedStringFormatter-Cah0Scr7.js";import{a as yt}from"./VisuallyHidden-BgAYQwv3.js";import{a as Rt}from"./PressResponder-BOK4ApId.js";import{f as Lt}from"./index-Drt3gf4w.js";function Tt(){return typeof window.ResizeObserver<"u"}function le(e){const{ref:t,box:r,onResize:o}=e;m.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(Tt()){const i=new window.ResizeObserver(c=>{c.length&&o()});return i.observe(n,{box:r}),()=>{n&&i.unobserve(n)}}else return window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}},[o,t,r])}function ee(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function Ot(e){let{ref:t,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:n}=e,i=m.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=re(s=>{r&&Y(s,t)&&(n&&n(s),i.current.isPointerDown=!0)}),l=re(s=>{r&&r(s)});m.useEffect(()=>{let s=i.current;if(o)return;const d=t.current,a=it(d);if(typeof PointerEvent<"u"){let p=u=>{s.isPointerDown&&Y(u,t)&&l(u),s.isPointerDown=!1};return a.addEventListener("pointerdown",c,!0),a.addEventListener("pointerup",p,!0),()=>{a.removeEventListener("pointerdown",c,!0),a.removeEventListener("pointerup",p,!0)}}else{let p=$=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&Y($,t)&&l($),s.isPointerDown=!1},u=$=>{s.ignoreEmulatedMouseEvents=!0,s.isPointerDown&&Y($,t)&&l($),s.isPointerDown=!1};return a.addEventListener("mousedown",c,!0),a.addEventListener("mouseup",p,!0),a.addEventListener("touchstart",c,!0),a.addEventListener("touchend",u,!0),()=>{a.removeEventListener("mousedown",c,!0),a.removeEventListener("mouseup",p,!0),a.removeEventListener("touchstart",c,!0),a.removeEventListener("touchend",u,!0)}}},[t,o,c,l])}function Y(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const S={top:"top",bottom:"top",left:"left",right:"left"},Z={top:"bottom",bottom:"top",left:"right",right:"left"},St={top:"left",left:"top"},te={top:"height",left:"width"},ge={width:"totalWidth",height:"totalHeight"},V={};let y=typeof document<"u"&&window.visualViewport;function ie(e){let t=0,r=0,o=0,n=0,i=0,c=0,l={},s=(y==null?void 0:y.scale)>1;if(e.tagName==="BODY"){let p=document.documentElement;o=p.clientWidth,n=p.clientHeight;var d;t=(d=y==null?void 0:y.width)!==null&&d!==void 0?d:o;var a;r=(a=y==null?void 0:y.height)!==null&&a!==void 0?a:n,l.top=p.scrollTop||e.scrollTop,l.left=p.scrollLeft||e.scrollLeft,y&&(i=y.offsetTop,c=y.offsetLeft)}else({width:t,height:r,top:i,left:c}=W(e)),l.top=e.scrollTop,l.left=e.scrollLeft,o=t,n=r;return at()&&(e.tagName==="BODY"||e.tagName==="HTML")&&s&&(l.top=0,l.left=0,i=y.pageTop,c=y.pageLeft),{width:t,height:r,totalWidth:o,totalHeight:n,scroll:l,top:i,left:c}}function It(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function ae(e,t,r,o,n,i,c){let l=n.scroll[e],s=o[te[e]],d=o.scroll[S[e]]+i,a=s+o.scroll[S[e]]-i,p=t-l+c[e]-o[S[e]],u=t-l+r+c[e]-o[S[e]];return p<d?d-p:u>a?Math.max(a-u,d-p):0}function Dt(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function se(e){if(V[e])return V[e];let[t,r]=e.split(" "),o=S[t]||"right",n=St[o];S[r]||(r="center");let i=te[o],c=te[n];return V[e]={placement:t,crossPlacement:r,axis:o,crossAxis:n,size:i,crossSize:c},V[e]}function q(e,t,r,o,n,i,c,l,s,d){let{placement:a,crossPlacement:p,axis:u,crossAxis:$,size:f,crossSize:g}=o,b={};b[$]=e[$],p==="center"?b[$]+=(e[g]-r[g])/2:p!==$&&(b[$]+=e[g]-r[g]),b[$]+=i;const R=e[$]-r[g]+s+d,v=e[$]+e[g]-s-d;if(b[$]=ee(b[$],R,v),a===u){const P=l?c[f]:t[ge[f]];b[Z[u]]=Math.floor(P-e[u]+n)}else b[u]=Math.floor(e[u]+e[f]+n);return b}function Mt(e,t,r,o,n,i,c,l){const s=o?r.height:t[ge.height];let d=e.top!=null?r.top+e.top:r.top+(s-e.bottom-c),a=l!=="top"?Math.max(0,t.height+t.top+t.scroll.top-d-(n.top+n.bottom+i)):Math.max(0,d+c-(t.top+t.scroll.top)-(n.top+n.bottom+i));return Math.min(t.height-i*2,a)}function ce(e,t,r,o,n,i){let{placement:c,axis:l,size:s}=i;return c===l?Math.max(0,r[l]-e[l]-e.scroll[l]+t[l]-o[l]-o[Z[l]]-n):Math.max(0,e[s]+e[l]+e.scroll[l]-t[l]-r[l]-r[s]-o[l]-o[Z[l]]-n)}function Ht(e,t,r,o,n,i,c,l,s,d,a,p,u,$,f,g){let b=se(e),{size:R,crossAxis:v,crossSize:P,placement:k,crossPlacement:T}=b,h=q(t,l,r,b,a,p,d,u,f,g),z=a,M=ce(l,d,t,n,i+a,b);if(c&&o[R]>M){let X=se(`${Z[k]} ${T}`),lt=q(t,l,r,X,a,p,d,u,f,g);ce(l,d,t,n,i+a,X)>M&&(b=X,h=lt,z=a)}let E="bottom";b.axis==="top"?b.placement==="top"?E="top":b.placement==="bottom"&&(E="bottom"):b.crossAxis==="top"&&(b.crossPlacement==="top"?E="bottom":b.crossPlacement==="bottom"&&(E="top"));let w=ae(v,h[v],r[P],l,s,i,d);h[v]+=w;let O=Mt(h,l,d,u,n,i,r.height,E);$&&$<O&&(O=$),r.height=Math.min(r.height,O),h=q(t,l,r,b,z,p,d,u,f,g),w=ae(v,h[v],r[P],l,s,i,d),h[v]+=w;let H={},N=t[v]+.5*t[P]-h[v]-n[S[v]];const I=f/2+g,A=S[v]==="left"?n.left+n.right:n.top+n.bottom,_=r[P]-A-f/2-g,ot=t[v]+f/2-(h[v]+n[S[v]]),rt=t[v]+t[P]-f/2-(h[v]+n[S[v]]),nt=ee(N,ot,rt);return H[v]=ee(nt,I,_),{position:h,maxHeight:O,arrowOffsetLeft:H.left,arrowOffsetTop:H.top,placement:b.placement}}function Nt(e){let{placement:t,targetNode:r,overlayNode:o,scrollNode:n,padding:i,shouldFlip:c,boundaryElement:l,offset:s,crossOffset:d,maxHeight:a,arrowSize:p=0,arrowBoundaryOffset:u=0}=e,$=o instanceof HTMLElement?At(o):document.documentElement,f=$===document.documentElement;const g=window.getComputedStyle($).position;let b=!!g&&g!=="static",R=f?W(r):de(r,$);if(!f){let{marginTop:M,marginLeft:E}=window.getComputedStyle(r);R.top+=parseInt(M,10)||0,R.left+=parseInt(E,10)||0}let v=W(o),P=Dt(o);v.width+=P.left+P.right,v.height+=P.top+P.bottom;let k=It(n),T=ie(l),h=ie($),z=l.tagName==="BODY"?W($):de($,l);return $.tagName==="HTML"&&l.tagName==="BODY"&&(h.scroll.top=0,h.scroll.left=0),Ht(t,R,v,k,P,i,c,T,h,z,s,d,b,a,p,u)}function W(e){let{top:t,left:r,width:o,height:n}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:c,clientTop:l,clientLeft:s}=document.documentElement;return{top:t+i-l,left:r+c-s,width:o,height:n}}function de(e,t){let r=window.getComputedStyle(e),o;if(r.position==="fixed"){let{top:n,left:i,width:c,height:l}=e.getBoundingClientRect();o={top:n,left:i,width:c,height:l}}else{o=W(e);let n=W(t),i=window.getComputedStyle(t);n.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,n.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,o.top-=n.top,o.left-=n.left}return o.top-=parseInt(r.marginTop,10)||0,o.left-=parseInt(r.marginLeft,10)||0,o}function At(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!fe(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!fe(t);)t=t.parentElement;return t||document.documentElement}function fe(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Ft=new WeakMap;function kt(e){let{triggerRef:t,isOpen:r,onClose:o}=e;m.useEffect(()=>{if(!r||o===null)return;let n=i=>{let c=i.target;if(!t.current||c instanceof Node&&!c.contains(t.current)||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)return;let l=o||Ft.get(t.current);l&&l()};return window.addEventListener("scroll",n,!0),()=>{window.removeEventListener("scroll",n,!0)}},[r,o,t])}let x=typeof document<"u"&&window.visualViewport;function zt(e){let{direction:t}=Et(),{arrowSize:r=0,targetRef:o,overlayRef:n,scrollRef:i=n,placement:c="bottom",containerPadding:l=12,shouldFlip:s=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:a=0,crossOffset:p=0,shouldUpdatePosition:u=!0,isOpen:$=!0,onClose:f,maxHeight:g,arrowBoundaryOffset:b=0}=e,[R,v]=m.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),P=[u,c,n.current,o.current,i.current,l,s,d,a,p,$,t,g,b,r],k=m.useRef(x==null?void 0:x.scale);m.useEffect(()=>{$&&(k.current=x==null?void 0:x.scale)},[$]);let T=m.useCallback(()=>{if(u===!1||!$||!n.current||!o.current||!d||(x==null?void 0:x.scale)!==k.current)return;let E=null;if(i.current&&i.current.contains(document.activeElement)){let I=document.activeElement.getBoundingClientRect(),A=i.current.getBoundingClientRect();E={type:"top",offset:I.top-A.top},E.offset>A.height/2&&(E.type="bottom",E.offset=I.bottom-A.bottom)}let w=n.current;if(!g&&n.current){var O;w.style.top="0px",w.style.bottom="";var H;w.style.maxHeight=((H=(O=window.visualViewport)===null||O===void 0?void 0:O.height)!==null&&H!==void 0?H:window.innerHeight)+"px"}let N=Nt({placement:Wt(c,t),overlayNode:n.current,targetNode:o.current,scrollNode:i.current||n.current,padding:l,shouldFlip:s,boundaryElement:d,offset:a,crossOffset:p,maxHeight:g,arrowSize:r,arrowBoundaryOffset:b});if(w.style.top="",w.style.bottom="",w.style.left="",w.style.right="",Object.keys(N.position).forEach(I=>w.style[I]=N.position[I]+"px"),w.style.maxHeight=N.maxHeight!=null?N.maxHeight+"px":void 0,E){let I=document.activeElement.getBoundingClientRect(),A=i.current.getBoundingClientRect(),_=I[E.type]-A[E.type];i.current.scrollTop+=_-E.offset}v(N)},P);F(T,P),Bt(T),le({ref:n,onResize:T}),le({ref:o,onResize:T});let h=m.useRef(!1);F(()=>{let E,w=()=>{h.current=!0,clearTimeout(E),E=setTimeout(()=>{h.current=!1},500),T()},O=()=>{h.current&&w()};return x==null||x.addEventListener("resize",w),x==null||x.addEventListener("scroll",O),()=>{x==null||x.removeEventListener("resize",w),x==null||x.removeEventListener("scroll",O)}},[T]);let z=m.useCallback(()=>{h.current||f()},[f,h]);kt({triggerRef:o,isOpen:$,onClose:f&&z});var M;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...R.position,maxHeight:(M=R.maxHeight)!==null&&M!==void 0?M:"100vh"}},placement:R.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:R.arrowOffsetLeft,top:R.arrowOffsetTop}},updatePosition:T}}function Bt(e){F(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function Wt(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const D=[];function Kt(e,t){let{onClose:r,shouldCloseOnBlur:o,isOpen:n,isDismissable:i=!1,isKeyboardDismissDisabled:c=!1,shouldCloseOnInteractOutside:l}=e;m.useEffect(()=>(n&&D.push(t),()=>{let f=D.indexOf(t);f>=0&&D.splice(f,1)}),[n,t]);let s=()=>{D[D.length-1]===t&&r&&r()},d=f=>{(!l||l(f.target))&&D[D.length-1]===t&&(f.stopPropagation(),f.preventDefault())},a=f=>{(!l||l(f.target))&&(D[D.length-1]===t&&(f.stopPropagation(),f.preventDefault()),s())},p=f=>{f.key==="Escape"&&!c&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),s())};Ot({ref:t,onInteractOutside:i&&n?a:null,onInteractOutsideStart:d});let{focusWithinProps:u}=st({isDisabled:!o,onBlurWithin:f=>{!f.relatedTarget||wt(f.relatedTarget)||(!l||l(f.relatedTarget))&&r()}}),$=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:p,...u},underlayProps:{onPointerDown:$}}}const G=typeof document<"u"&&window.visualViewport,Ut=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let j=0,J;function Yt(e={}){let{isDisabled:t}=e;F(()=>{if(!t)return j++,j===1&&(ct()?J=jt():J=Vt()),()=>{j--,j===0&&J()}},[t])}function Vt(){return Q(B(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),B(document.documentElement,"overflow","hidden"))}function jt(){let e,t,r=d=>{e=ve(d.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=B(e,"overscrollBehavior","contain"))},o=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&d.preventDefault()},n=d=>{let a=d.target;pe(a)&&a!==document.activeElement&&(d.preventDefault(),l(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},i=d=>{let a=d.target;pe(a)&&(l(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",G&&(G.height<window.innerHeight?requestAnimationFrame(()=>{ue(a)}):G.addEventListener("resize",()=>ue(a),{once:!0}))}))},c=null,l=()=>{if(c)return;let d=()=>{window.scrollTo(0,0)},a=window.pageXOffset,p=window.pageYOffset;c=Q(K(window,"scroll",d),B(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),B(document.documentElement,"overflow","hidden"),B(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(a,p)}),window.scrollTo(0,0)},s=Q(K(document,"touchstart",r,{passive:!1,capture:!0}),K(document,"touchmove",o,{passive:!1,capture:!0}),K(document,"touchend",n,{passive:!1,capture:!0}),K(document,"focus",i,!0));return()=>{t==null||t(),c==null||c(),s()}}function B(e,t,r){let o=e.style[t];return e.style[t]=r,()=>{e.style[t]=o}}function K(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}function ue(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=ve(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let o=r.getBoundingClientRect().top,n=e.getBoundingClientRect().top;n>o+e.clientHeight&&(r.scrollTop+=n-o)}e=r.parentElement}}function pe(e){return e instanceof HTMLInputElement&&!Ut.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var he={};he={dismiss:"تجاهل"};var xe={};xe={dismiss:"Отхвърляне"};var Ee={};Ee={dismiss:"Odstranit"};var we={};we={dismiss:"Luk"};var Ce={};Ce={dismiss:"Schließen"};var Pe={};Pe={dismiss:"Απόρριψη"};var ye={};ye={dismiss:"Dismiss"};var Re={};Re={dismiss:"Descartar"};var Le={};Le={dismiss:"Lõpeta"};var Te={};Te={dismiss:"Hylkää"};var Oe={};Oe={dismiss:"Rejeter"};var Se={};Se={dismiss:"התעלם"};var Ie={};Ie={dismiss:"Odbaci"};var De={};De={dismiss:"Elutasítás"};var Me={};Me={dismiss:"Ignora"};var He={};He={dismiss:"閉じる"};var Ne={};Ne={dismiss:"무시"};var Ae={};Ae={dismiss:"Atmesti"};var Fe={};Fe={dismiss:"Nerādīt"};var ke={};ke={dismiss:"Lukk"};var ze={};ze={dismiss:"Negeren"};var Be={};Be={dismiss:"Zignoruj"};var We={};We={dismiss:"Descartar"};var Ke={};Ke={dismiss:"Dispensar"};var Ue={};Ue={dismiss:"Revocare"};var Ye={};Ye={dismiss:"Пропустить"};var Ve={};Ve={dismiss:"Zrušiť"};var je={};je={dismiss:"Opusti"};var Ze={};Ze={dismiss:"Odbaci"};var _e={};_e={dismiss:"Avvisa"};var Xe={};Xe={dismiss:"Kapat"};var qe={};qe={dismiss:"Скасувати"};var Ge={};Ge={dismiss:"取消"};var Je={};Je={dismiss:"關閉"};var Qe={};Qe={"ar-AE":he,"bg-BG":xe,"cs-CZ":Ee,"da-DK":we,"de-DE":Ce,"el-GR":Pe,"en-US":ye,"es-ES":Re,"et-EE":Le,"fi-FI":Te,"fr-FR":Oe,"he-IL":Se,"hr-HR":Ie,"hu-HU":De,"it-IT":Me,"ja-JP":He,"ko-KR":Ne,"lt-LT":Ae,"lv-LV":Fe,"nb-NO":ke,"nl-NL":ze,"pl-PL":Be,"pt-BR":We,"pt-PT":Ke,"ro-RO":Ue,"ru-RU":Ye,"sk-SK":Ve,"sl-SI":je,"sr-SP":Ze,"sv-SE":_e,"tr-TR":Xe,"uk-UA":qe,"zh-CN":Ge,"zh-TW":Je};function Zt(e){return e&&e.__esModule?e.default:e}function $e(e){let{onDismiss:t,...r}=e,o=Pt(Zt(Qe),"@react-aria/overlays"),n=ht(r,o.format("dismiss")),i=()=>{t&&t()};return C.createElement(yt,null,C.createElement("button",{...n,tabIndex:-1,onClick:i,style:{width:1,height:1}}))}let U=new WeakMap,L=[];function _t(e,t=document.body){let r=new Set(e),o=new Set,n=s=>{for(let u of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(u);let d=u=>{if(r.has(u)||o.has(u.parentElement)&&u.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let $ of r)if(u.contains($))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(s);if(p===NodeFilter.FILTER_ACCEPT&&i(s),p!==NodeFilter.FILTER_REJECT){let u=a.nextNode();for(;u!=null;)i(u),u=a.nextNode()}},i=s=>{var d;let a=(d=U.get(s))!==null&&d!==void 0?d:0;s.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&s.setAttribute("aria-hidden","true"),o.add(s),U.set(s,a+1))};L.length&&L[L.length-1].disconnect(),n(t);let c=new MutationObserver(s=>{for(let d of s)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...r,...o].some(a=>a.contains(d.target))){for(let a of d.removedNodes)a instanceof Element&&(r.delete(a),o.delete(a));for(let a of d.addedNodes)(a instanceof HTMLElement||a instanceof SVGElement)&&(a.dataset.liveAnnouncer==="true"||a.dataset.reactAriaTopLayer==="true")?r.add(a):a instanceof Element&&n(a)}});c.observe(t,{childList:!0,subtree:!0});let l={observe(){c.observe(t,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return L.push(l),()=>{c.disconnect();for(let s of o){let d=U.get(s);d===1?(s.removeAttribute("aria-hidden"),U.delete(s)):U.set(s,d-1)}l===L[L.length-1]?(L.pop(),L.length&&L[L.length-1].observe()):L.splice(L.indexOf(l),1)}}function Xt(e,t){let{triggerRef:r,popoverRef:o,isNonModal:n,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:c,...l}=e,{overlayProps:s,underlayProps:d}=Kt({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!n,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:c},o),{overlayProps:a,arrowProps:p,placement:u}=zt({...l,targetRef:r,overlayRef:o,isOpen:t.isOpen,onClose:n?t.close:null});return Yt({isDisabled:n||!t.isOpen}),F(()=>{if(t.isOpen&&!n&&o.current)return _t([o.current])},[n,t.isOpen,o]),{popoverProps:me(s,a),arrowProps:p,underlayProps:d,placement:u}}const qt=m.createContext({});function Gt(){var e;return(e=m.useContext(qt))!==null&&e!==void 0?e:{}}const et=C.createContext(null);function Jt(e){let t=dt(),{portalContainer:r=t?null:document.body,isExiting:o}=e,[n,i]=m.useState(!1),c=m.useMemo(()=>({contain:n,setContain:i}),[n,i]),{getContainer:l}=Gt();if(!e.portalContainer&&l&&(r=l()),!r)return null;let s=e.children;return e.disableFocusManagement||(s=C.createElement(Ct,{restoreFocus:!0,contain:n&&!o},s)),s=C.createElement(et.Provider,{value:c},C.createElement(Rt,null,s)),Lt.createPortal(s,r)}function Qt(){let e=m.useContext(et),t=e==null?void 0:e.setContain;F(()=>{t==null||t(!0)},[t])}function eo(e,t){let{role:r="dialog"}=e,o=ft();o=e["aria-label"]?void 0:o;let n=m.useRef(!1);return m.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){ne(t.current);let i=setTimeout(()=>{document.activeElement===t.current&&(n.current=!0,t.current&&(t.current.blur(),ne(t.current)),n.current=!1)},500);return()=>{clearTimeout(i)}}},[t]),Qt(),{dialogProps:{...oe(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||o,onBlur:i=>{n.current&&i.stopPropagation()}},titleProps:{id:o}}}function to(e){let[t,r]=xt(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const o=m.useCallback(()=>{r(!0)},[r]),n=m.useCallback(()=>{r(!1)},[r]),i=m.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:o,close:n,toggle:i}}const oo=m.createContext({placement:"bottom"}),ro=m.createContext(null);function no(e,t){[e,t]=be(e,t,ro);let r=m.useContext(tt),o=to(e),n=e.isOpen!=null||e.defaultOpen!=null||!r?o:r,i=ut(t,n.isOpen)||e.isExiting||!1;if(gt()){let l=e.children;return typeof l=="function"&&(l=l({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),C.createElement(C.Fragment,null,l)}return n&&!n.isOpen&&!i?null:C.createElement(lo,{...e,triggerRef:e.triggerRef,state:n,popoverRef:t,isExiting:i})}const wo=m.forwardRef(no);function lo({state:e,isExiting:t,UNSTABLE_portalContainer:r,...o}){let n=m.useRef(null),[i,c]=m.useState(0);F(()=>{n.current&&e.isOpen&&c(n.current.getBoundingClientRect().width)},[e.isOpen,n]);var l;let{popoverProps:s,underlayProps:d,arrowProps:a,placement:p}=Xt({...o,offset:(l=o.offset)!==null&&l!==void 0?l:8,arrowSize:i},e),u=o.popoverRef,$=pt(u,!!p)||o.isEntering||!1,f=$t({...o,defaultClassName:"react-aria-Popover",values:{trigger:o.trigger||null,placement:p,isEntering:$,isExiting:t}}),g={...s.style,...f.style};return C.createElement(Jt,{isExiting:t,portalContainer:r},!o.isNonModal&&e.isOpen&&C.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),C.createElement("div",{...me(oe(o),s),...f,ref:u,slot:o.slot||void 0,style:g,"data-trigger":o.trigger,"data-placement":p,"data-entering":$||void 0,"data-exiting":t||void 0},!o.isNonModal&&C.createElement($e,{onDismiss:e.close}),C.createElement(oo.Provider,{value:{...a,placement:p,ref:n}},f.children),C.createElement($e,{onDismiss:e.close})))}const io=m.createContext(null),tt=m.createContext(null);function ao(e,t){let r=e["aria-labelledby"];[e,t]=be(e,t,io);let{dialogProps:o,titleProps:n}=eo({...e,"aria-labelledby":r},t),i=m.useContext(tt),c=e.children;typeof c=="function"&&(c=c({close:(i==null?void 0:i.close)||(()=>{})})),!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));var l;return C.createElement("section",{...oe(e),...o,ref:t,slot:e.slot||void 0,style:e.style,className:(l=e.className)!==null&&l!==void 0?l:"react-aria-Dialog"},C.createElement(mt,{values:[[vt,{slots:{[bt]:{},title:{...n,level:2}}}]]},c))}const Co=m.forwardRef(ao);export{to as $,le as a,tt as b,ro as c,wo as d,_t as e,Ft as f,io as g,Co as h};
