import{r as g,R as we}from"./index-BbAIUH2N.js";import{d as Le,f as G,b as Se,n as Ne,c as Ye}from"./utils-DdXLQA3f.js";const m=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},x=e=>e&&"window"in e&&e.window===e?e:m(e).defaultView||window,Ve=new Set(["id"]),Xe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),je=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),ze=/^(data-.*)$/;function Ct(e,t={}){let{labelable:n,isLink:a,propNames:o}=t,f={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(Ve.has(l)||n&&Xe.has(l)||a&&je.has(l)||o!=null&&o.has(l)||ze.test(l))&&(f[l]=e[l]);return f}function D(e){if(qe())e.focus({preventScroll:!0});else{let t=Je(e);e.focus(),Qe(t)}}let z=null;function qe(){if(z==null){z=!1;try{document.createElement("div").focus({get preventScroll(){return z=!0,!0}})}catch{}}return z}function Je(e){let t=e.parentNode,n=[],a=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==a;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return a instanceof HTMLElement&&n.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),n}function Qe(e){for(let{element:t,scrollTop:n,scrollLeft:a}of e)t.scrollTop=n,t.scrollLeft=a}function re(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function ge(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function H(e){let t=null;return()=>(t==null&&(t=e()),t)}const Y=H(function(){return ge(/^Mac/i)}),Ze=H(function(){return ge(/^iPhone/i)}),xe=H(function(){return ge(/^iPad/i)||Y()&&navigator.maxTouchPoints>1}),be=H(function(){return Ze()||xe()}),Ft=H(function(){return Y()||be()}),et=H(function(){return re(/AppleWebKit/i)&&!tt()}),tt=H(function(){return re(/Chrome/i)}),Me=H(function(){return re(/Android/i)}),nt=H(function(){return re(/Firefox/i)}),Ke=g.createContext({isNative:!0,open:at,useHref:e=>e});function Ht(e){let{children:t,navigate:n,useHref:a}=e,o=g.useMemo(()=>({isNative:!1,open:(f,l,c,d)=>{Ce(f,b=>{rt(b,l)?n(c,d):I(b,l)})},useHref:a||(f=>f)}),[n,a]);return we.createElement(Ke.Provider,{value:o},t)}function ke(){return g.useContext(Ke)}function rt(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function I(e,t,n=!0){var a,o;let{metaKey:f,ctrlKey:l,altKey:c,shiftKey:d}=t;nt()&&(!((o=window.event)===null||o===void 0||(a=o.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(Y()?f=!0:l=!0);let b=et()&&Y()&&!xe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:f,ctrlKey:l,altKey:c,shiftKey:d}):new MouseEvent("click",{metaKey:f,ctrlKey:l,altKey:c,shiftKey:d,bubbles:!0,cancelable:!0});I.isOpening=n,D(e),e.dispatchEvent(b),I.isOpening=!1}I.isOpening=!1;function Ce(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function at(e,t){Ce(e,n=>I(n,t))}function Ot(e){let t=ke();var n;const a=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?a:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function _t(e){let t=ke();var n;const a=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?a:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let R=new Map,le=new Set;function $e(){if(typeof window>"u")return;function e(a){return"propertyName"in a}let t=a=>{if(!e(a)||!a.target)return;let o=R.get(a.target);o||(o=new Set,R.set(a.target,o),a.target.addEventListener("transitioncancel",n,{once:!0})),o.add(a.propertyName)},n=a=>{if(!e(a)||!a.target)return;let o=R.get(a.target);if(o&&(o.delete(a.propertyName),o.size===0&&(a.target.removeEventListener("transitioncancel",n),R.delete(a.target)),R.size===0)){for(let f of le)f();le.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?$e():document.addEventListener("DOMContentLoaded",$e));function Fe(e){requestAnimationFrame(()=>{R.size===0?e():le.add(e)})}function it(){let e=g.useRef(new Map),t=g.useCallback((o,f,l,c)=>{let d=c!=null&&c.once?(...b)=>{e.current.delete(l),l(...b)}:l;e.current.set(l,{type:f,eventTarget:o,fn:d,options:c}),o.addEventListener(f,d,c)},[]),n=g.useCallback((o,f,l,c)=>{var d;let b=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;o.removeEventListener(f,b,c),e.current.delete(l)},[]),a=g.useCallback(()=>{e.current.forEach((o,f)=>{n(o.eventTarget,o.type,f,o.options)})},[n]);return g.useEffect(()=>a,[a]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:a}}function ot(e,t){Le(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function fe(e){return e.mozInputSource===0&&e.isTrusted?!0:Me()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function st(e){return!Me()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let N="default",ce="",Z=new WeakMap;function he(e){if(be()){if(N==="default"){const t=m(e);ce=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}N="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(Z.set(e,e.style.userSelect),e.style.userSelect="none")}function q(e){if(be()){if(N!=="disabled")return;N="restoring",setTimeout(()=>{Fe(()=>{if(N==="restoring"){const t=m(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=ce||""),ce="",N="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Z.has(e)){let t=Z.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),Z.delete(e)}}const He=we.createContext({register:()=>{}});He.displayName="PressResponderContext";function ut(e,t){return t.get?t.get.call(e):t.value}function Oe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function lt(e,t){var n=Oe(e,t,"get");return ut(e,n)}function ft(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ct(e,t,n){ft(e,t),t.set(e,n)}function dt(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ye(e,t,n){var a=Oe(e,t,"set");return dt(e,a,n),n}function pt(e){let t=g.useContext(He);if(t){let{register:n,...a}=t;e=Se(a,e),n()}return ot(t,e.ref),e}var J=new WeakMap;class Q{continuePropagation(){ye(this,J,!1)}get shouldStopPropagation(){return lt(this,J)}constructor(t,n,a,o){ct(this,J,{writable:!0,value:void 0}),ye(this,J,!0);var f;let l=(f=o==null?void 0:o.target)!==null&&f!==void 0?f:a.currentTarget;const c=l==null?void 0:l.getBoundingClientRect();let d,b=0,y,L=null;a.clientX!=null&&a.clientY!=null&&(y=a.clientX,L=a.clientY),c&&(y!=null&&L!=null?(d=y-c.left,b=L-c.top):(d=c.width/2,b=c.height/2)),this.type=t,this.pointerType=n,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=d,this.y=b}}const Te=Symbol("linkClicked");function At(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:f,isDisabled:l,isPressed:c,preventFocusOnPress:d,shouldCancelOnPointerExit:b,allowTextSelectionOnPress:y,ref:L,...S}=pt(e),[v,M]=g.useState(!1),P=g.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:_,removeAllGlobalListeners:B}=it(),K=G((r,p)=>{let w=P.current;if(l||w.didFirePressStart)return!1;let u=!0;if(w.isTriggeringEvent=!0,a){let $=new Q("pressstart",p,r);a($),u=$.shouldStopPropagation}return n&&n(!0),w.isTriggeringEvent=!1,w.didFirePressStart=!0,M(!0),u}),T=G((r,p,w=!0)=>{let u=P.current;if(!u.didFirePressStart)return!1;u.ignoreClickAfterPress=!0,u.didFirePressStart=!1,u.isTriggeringEvent=!0;let $=!0;if(o){let i=new Q("pressend",p,r);o(i),$=i.shouldStopPropagation}if(n&&n(!1),M(!1),t&&w&&!l){let i=new Q("press",p,r);t(i),$&&($=i.shouldStopPropagation)}return u.isTriggeringEvent=!1,$}),U=G((r,p)=>{let w=P.current;if(l)return!1;if(f){w.isTriggeringEvent=!0;let u=new Q("pressup",p,r);return f(u),w.isTriggeringEvent=!1,u.shouldStopPropagation}return!0}),A=G(r=>{let p=P.current;p.isPressed&&p.target&&(p.isOverTarget&&p.pointerType!=null&&T(C(p.target,r),p.pointerType,!1),p.isPressed=!1,p.isOverTarget=!1,p.activePointerId=null,p.pointerType=null,B(),y||q(p.target))}),j=G(r=>{b&&A(r)}),Re=g.useMemo(()=>{let r=P.current,p={onKeyDown(u){if(ie(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)){var $;me(u.target,u.key)&&u.preventDefault();let i=!0;if(!r.isPressed&&!u.repeat){r.target=u.currentTarget,r.isPressed=!0,i=K(u,"keyboard");let s=u.currentTarget,h=k=>{ie(k,s)&&!k.repeat&&s.contains(k.target)&&r.target&&U(C(r.target,k),"keyboard")};_(m(u.currentTarget),"keyup",Ne(h,w),!0)}i&&u.stopPropagation(),u.metaKey&&Y()&&(($=r.metaKeyEvents)===null||$===void 0||$.set(u.key,u.nativeEvent))}else u.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(u){if(!(u&&!u.currentTarget.contains(u.target))&&u&&u.button===0&&!r.isTriggeringEvent&&!I.isOpening){let $=!0;if(l&&u.preventDefault(),!r.ignoreClickAfterPress&&!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||fe(u.nativeEvent))){!l&&!d&&D(u.currentTarget);let i=K(u,"virtual"),s=U(u,"virtual"),h=T(u,"virtual");$=i&&s&&h}r.ignoreEmulatedMouseEvents=!1,r.ignoreClickAfterPress=!1,$&&u.stopPropagation()}}},w=u=>{var $;if(r.isPressed&&r.target&&ie(u,r.target)){var i;me(u.target,u.key)&&u.preventDefault();let h=u.target;T(C(r.target,u),"keyboard",r.target.contains(h)),B(),u.key!=="Enter"&&ve(r.target)&&r.target.contains(h)&&!u[Te]&&(u[Te]=!0,I(r.target,u,!1)),r.isPressed=!1,(i=r.metaKeyEvents)===null||i===void 0||i.delete(u.key)}else if(u.key==="Meta"&&(!(($=r.metaKeyEvents)===null||$===void 0)&&$.size)){var s;let h=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let k of h.values())(s=r.target)===null||s===void 0||s.dispatchEvent(new KeyboardEvent("keyup",k))}};if(typeof PointerEvent<"u"){p.onPointerDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(st(s.nativeEvent)){r.pointerType="virtual";return}se(s.currentTarget)&&s.preventDefault(),r.pointerType=s.pointerType;let h=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=s.pointerId,r.target=s.currentTarget,!l&&!d&&D(s.currentTarget),y||he(r.target),h=K(s,r.pointerType);let k=s.target;"releasePointerCapture"in k&&k.releasePointerCapture(s.pointerId),_(m(s.currentTarget),"pointerup",u,!1),_(m(s.currentTarget),"pointercancel",i,!1)}h&&s.stopPropagation()},p.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(se(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},p.onPointerUp=s=>{!s.currentTarget.contains(s.target)||r.pointerType==="virtual"||s.button===0&&U(s,r.pointerType||s.pointerType)},p.onPointerEnter=s=>{s.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,K(C(r.target,s),r.pointerType))},p.onPointerLeave=s=>{s.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,T(C(r.target,s),r.pointerType,!1),j(s))};let u=s=>{s.pointerId===r.activePointerId&&r.isPressed&&s.button===0&&r.target&&(r.target.contains(s.target)&&r.pointerType!=null?T(C(r.target,s),r.pointerType):r.isOverTarget&&r.pointerType!=null&&T(C(r.target,s),r.pointerType,!1),r.isPressed=!1,r.isOverTarget=!1,r.activePointerId=null,r.pointerType=null,B(),y||q(r.target),"ontouchend"in r.target&&s.pointerType!=="mouse"&&_(r.target,"touchend",$,{once:!0}))},$=s=>{_e(s.currentTarget)&&s.preventDefault()},i=s=>{A(s)};p.onDragStart=s=>{s.currentTarget.contains(s.target)&&A(s)}}else{p.onMouseDown=i=>{if(i.button!==0||!i.currentTarget.contains(i.target))return;if(se(i.currentTarget)&&i.preventDefault(),r.ignoreEmulatedMouseEvents){i.stopPropagation();return}r.isPressed=!0,r.isOverTarget=!0,r.target=i.currentTarget,r.pointerType=fe(i.nativeEvent)?"virtual":"mouse",!l&&!d&&D(i.currentTarget),K(i,r.pointerType)&&i.stopPropagation(),_(m(i.currentTarget),"mouseup",u,!1)},p.onMouseEnter=i=>{if(!i.currentTarget.contains(i.target))return;let s=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!0,s=K(i,r.pointerType)),s&&i.stopPropagation()},p.onMouseLeave=i=>{if(!i.currentTarget.contains(i.target))return;let s=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!1,s=T(i,r.pointerType,!1),j(i)),s&&i.stopPropagation()},p.onMouseUp=i=>{i.currentTarget.contains(i.target)&&!r.ignoreEmulatedMouseEvents&&i.button===0&&U(i,r.pointerType||"mouse")};let u=i=>{if(i.button===0){if(r.isPressed=!1,B(),r.ignoreEmulatedMouseEvents){r.ignoreEmulatedMouseEvents=!1;return}r.target&&oe(i,r.target)&&r.pointerType!=null?T(C(r.target,i),r.pointerType):r.target&&r.isOverTarget&&r.pointerType!=null&&T(C(r.target,i),r.pointerType,!1),r.isOverTarget=!1}};p.onTouchStart=i=>{if(!i.currentTarget.contains(i.target))return;let s=gt(i.nativeEvent);if(!s)return;r.activePointerId=s.identifier,r.ignoreEmulatedMouseEvents=!0,r.isOverTarget=!0,r.isPressed=!0,r.target=i.currentTarget,r.pointerType="touch",!l&&!d&&D(i.currentTarget),y||he(r.target),K(O(r.target,i),r.pointerType)&&i.stopPropagation(),_(x(i.currentTarget),"scroll",$,!0)},p.onTouchMove=i=>{if(!i.currentTarget.contains(i.target))return;if(!r.isPressed){i.stopPropagation();return}let s=Ee(i.nativeEvent,r.activePointerId),h=!0;s&&oe(s,i.currentTarget)?!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,h=K(O(r.target,i),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,h=T(O(r.target,i),r.pointerType,!1),j(O(r.target,i))),h&&i.stopPropagation()},p.onTouchEnd=i=>{if(!i.currentTarget.contains(i.target))return;if(!r.isPressed){i.stopPropagation();return}let s=Ee(i.nativeEvent,r.activePointerId),h=!0;s&&oe(s,i.currentTarget)&&r.pointerType!=null?(U(O(r.target,i),r.pointerType),h=T(O(r.target,i),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(h=T(O(r.target,i),r.pointerType,!1)),h&&i.stopPropagation(),r.isPressed=!1,r.activePointerId=null,r.isOverTarget=!1,r.ignoreEmulatedMouseEvents=!0,r.target&&!y&&q(r.target),B()},p.onTouchCancel=i=>{i.currentTarget.contains(i.target)&&(i.stopPropagation(),r.isPressed&&A(O(r.target,i)))};let $=i=>{r.isPressed&&i.target.contains(r.target)&&A({currentTarget:r.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};p.onDragStart=i=>{i.currentTarget.contains(i.target)&&A(i)}}return p},[_,l,d,B,y,A,j,T,K,U]);return g.useEffect(()=>()=>{var r;y||q((r=P.current.target)!==null&&r!==void 0?r:void 0)},[y]),{isPressed:c||v,pressProps:Se(S,Re)}}function ve(e){return e.tagName==="A"&&e.hasAttribute("href")}function ie(e,t){const{key:n,code:a}=e,o=t,f=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||a==="Space")&&!(o instanceof x(o).HTMLInputElement&&!Ae(o,n)||o instanceof x(o).HTMLTextAreaElement||o.isContentEditable)&&!((f==="link"||!f&&ve(o))&&n!=="Enter")}function gt(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ee(e,t){const n=e.changedTouches;for(let a=0;a<n.length;a++){const o=n[a];if(o.identifier===t)return o}return null}function O(e,t){let n=0,a=0;return t.targetTouches&&t.targetTouches.length===1&&(n=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function C(e,t){let n=t.clientX,a=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function bt(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function vt(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function oe(e,t){let n=t.getBoundingClientRect(),a=bt(e);return vt(n,a)}function se(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function _e(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!ve(e)}function me(e,t){return e instanceof HTMLInputElement?!Ae(e,t):_e(e)}const $t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ae(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":$t.has(e.type)}class ht{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function De(e){let t=g.useRef({isFocused:!1,observer:null});Le(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let n=G(a=>{e==null||e(a)});return g.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=a.target,f=l=>{t.current.isFocused=!1,o.disabled&&n(new ht("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",f,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let c=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function yt(e){let{isDisabled:t,onFocus:n,onBlur:a,onFocusChange:o}=e;const f=g.useCallback(d=>{if(d.target===d.currentTarget)return a&&a(d),o&&o(!1),!0},[a,o]),l=De(f),c=g.useCallback(d=>{const b=m(d.target);d.target===d.currentTarget&&b.activeElement===d.target&&(n&&n(d),o&&o(!0),l(d))},[o,n,l]);return{focusProps:{onFocus:!t&&(n||o||a)?c:void 0,onBlur:!t&&(a||o)?f:void 0}}}let F=null,X=new Set,V=new Map,W=!1,de=!1;const Tt={Tab:!0,Escape:!0};function ae(e,t){for(let n of X)n(e,t)}function Et(e){return!(e.metaKey||!Y()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ee(e){W=!0,Et(e)&&(F="keyboard",ae("keyboard",e))}function E(e){F="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(W=!0,ae("pointer",e))}function Ie(e){fe(e)&&(W=!0,F="virtual")}function We(e){e.target===window||e.target===document||(!W&&!de&&(F="virtual",ae("virtual",e)),W=!1,de=!1)}function Be(){W=!1,de=!0}function te(e){if(typeof window>"u"||V.get(x(e)))return;const t=x(e),n=m(e);let a=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){W=!0,a.apply(this,arguments)},n.addEventListener("keydown",ee,!0),n.addEventListener("keyup",ee,!0),n.addEventListener("click",Ie,!0),t.addEventListener("focus",We,!0),t.addEventListener("blur",Be,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",E,!0),n.addEventListener("pointermove",E,!0),n.addEventListener("pointerup",E,!0)):(n.addEventListener("mousedown",E,!0),n.addEventListener("mousemove",E,!0),n.addEventListener("mouseup",E,!0)),t.addEventListener("beforeunload",()=>{Ue(e)},{once:!0}),V.set(t,{focus:a})}const Ue=(e,t)=>{const n=x(e),a=m(e);t&&a.removeEventListener("DOMContentLoaded",t),V.has(n)&&(n.HTMLElement.prototype.focus=V.get(n).focus,a.removeEventListener("keydown",ee,!0),a.removeEventListener("keyup",ee,!0),a.removeEventListener("click",Ie,!0),n.removeEventListener("focus",We,!0),n.removeEventListener("blur",Be,!1),typeof PointerEvent<"u"?(a.removeEventListener("pointerdown",E,!0),a.removeEventListener("pointermove",E,!0),a.removeEventListener("pointerup",E,!0)):(a.removeEventListener("mousedown",E,!0),a.removeEventListener("mousemove",E,!0),a.removeEventListener("mouseup",E,!0)),V.delete(n))};function mt(e){const t=m(e);let n;return t.readyState!=="loading"?te(e):(n=()=>{te(e)},t.addEventListener("DOMContentLoaded",n)),()=>Ue(e,n)}typeof document<"u"&&mt();function Ge(){return F!=="pointer"}function Pt(){return F}function Dt(e){F=e,ae(e,null)}function It(){te();let[e,t]=g.useState(F);return g.useEffect(()=>{let n=()=>{t(F)};return X.add(n),()=>{X.delete(n)}},[]),Ye()?null:e}const wt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Lt(e,t,n){var a;const o=typeof window<"u"?x(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,f=typeof window<"u"?x(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?x(n==null?void 0:n.target).HTMLElement:HTMLElement,c=typeof window<"u"?x(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof o&&!wt.has(n==null||(a=n.target)===null||a===void 0?void 0:a.type)||(n==null?void 0:n.target)instanceof f||(n==null?void 0:n.target)instanceof l&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof c&&!Tt[n.key])}function St(e,t,n){te(),g.useEffect(()=>{let a=(o,f)=>{Lt(!!(n!=null&&n.isTextInput),o,f)&&e(Ge())};return X.add(a),()=>{X.delete(a)}},t)}function xt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:o}=e,f=g.useRef({isFocusWithin:!1}),l=g.useCallback(b=>{f.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(f.current.isFocusWithin=!1,n&&n(b),o&&o(!1))},[n,o,f]),c=De(l),d=g.useCallback(b=>{!f.current.isFocusWithin&&document.activeElement===b.target&&(a&&a(b),o&&o(!0),f.current.isFocusWithin=!0,c(b))},[a,o,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let ne=!1,ue=0;function pe(){ne=!0,setTimeout(()=>{ne=!1},50)}function Pe(e){e.pointerType==="touch"&&pe()}function Mt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Pe):document.addEventListener("touchend",pe),ue++,()=>{ue--,!(ue>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Pe):document.removeEventListener("touchend",pe))}}function Wt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:a,isDisabled:o}=e,[f,l]=g.useState(!1),c=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(Mt,[]);let{hoverProps:d,triggerHoverEnd:b}=g.useMemo(()=>{let y=(v,M)=>{if(c.pointerType=M,o||M==="touch"||c.isHovered||!v.currentTarget.contains(v.target))return;c.isHovered=!0;let P=v.currentTarget;c.target=P,t&&t({type:"hoverstart",target:P,pointerType:M}),n&&n(!0),l(!0)},L=(v,M)=>{if(c.pointerType="",c.target=null,M==="touch"||!c.isHovered)return;c.isHovered=!1;let P=v.currentTarget;a&&a({type:"hoverend",target:P,pointerType:M}),n&&n(!1),l(!1)},S={};return typeof PointerEvent<"u"?(S.onPointerEnter=v=>{ne&&v.pointerType==="mouse"||y(v,v.pointerType)},S.onPointerLeave=v=>{!o&&v.currentTarget.contains(v.target)&&L(v,v.pointerType)}):(S.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},S.onMouseEnter=v=>{!c.ignoreEmulatedMouseEvents&&!ne&&y(v,"mouse"),c.ignoreEmulatedMouseEvents=!1},S.onMouseLeave=v=>{!o&&v.currentTarget.contains(v.target)&&L(v,"mouse")}),{hoverProps:S,triggerHoverEnd:L}},[t,n,a,o,c]);return g.useEffect(()=>{o&&b({currentTarget:c.target},c.pointerType)},[o]),{hoverProps:d,isHovered:f}}function Bt(e){const t=m(e);if(Pt()==="virtual"){let n=t.activeElement;Fe(()=>{t.activeElement===n&&e.isConnected&&D(e)})}else D(e)}function Ut(e={}){let{autoFocus:t=!1,isTextInput:n,within:a}=e,o=g.useRef({isFocused:!1,isFocusVisible:t||Ge()}),[f,l]=g.useState(!1),[c,d]=g.useState(()=>o.current.isFocused&&o.current.isFocusVisible),b=g.useCallback(()=>d(o.current.isFocused&&o.current.isFocusVisible),[]),y=g.useCallback(v=>{o.current.isFocused=v,l(v),b()},[b]);St(v=>{o.current.isFocusVisible=v,b()},[],{isTextInput:n});let{focusProps:L}=yt({isDisabled:a,onFocusChange:y}),{focusWithinProps:S}=xt({isDisabled:!a,onFocusWithinChange:y});return{isFocused:f,isFocusVisible:c,focusProps:a?S:L}}export{Wt as $,It as A,Ot as B,xe as C,ct as _,Ut as a,Ct as b,x as c,xt as d,He as e,ot as f,m as g,Bt as h,Me as i,tt as j,Pt as k,At as l,ke as m,_t as n,rt as o,Ht as p,Dt as q,yt as r,Y as s,et as t,Ge as u,be as v,it as w,Ft as x,D as y,I as z};
