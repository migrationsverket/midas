import{j as r}from"./jsx-runtime-DtgEGaVE.js";import{R as n}from"./index-BbAIUH2N.js";import{$,s as p,a as C,C as j}from"./Checkbox-BtVKYFxd.js";import{$ as y}from"./Group-DpcLwH5h.js";import{I as R}from"./TextField-CV7vLq2M.js";const V=({label:u,description:m,errorMessage:f,showSelectAll:g,children:i,...h})=>{const[t,l]=n.useState(),b=()=>{const e=n.useContext(C),s=n.Children.toArray(i).filter(n.isValidElement).map(a=>a.props.value),x=()=>t!=="all"?(l("all"),e==null?void 0:e.setValue(["toggleAll",...s])):(l("none"),e==null?void 0:e.setValue([]));return n.useEffect(()=>{var c,d;const a=s.length,A=s.length+1,o=((c=e==null?void 0:e.value)==null?void 0:c.length)||0;o===0&&l("none"),o>0&&o<a&&l("some"),o!==A&&(e==null||e.removeValue("toggleAll")),o===a&&!((d=e==null?void 0:e.value)!=null&&d.includes("toggleAll"))&&(e==null||e.addValue("toggleAll"),l("all"))},[s.length,e==null?void 0:e.value]),r.jsx(j,{value:"toggleAll",isSelected:t==="all",isIndeterminate:t==="some",onChange:()=>x(),children:"VÃ¤lj alla"})};return r.jsx($,{className:p.checkboxGroup,...h,children:r.jsx(R,{label:u,description:m,errorMessage:f,children:r.jsxs(y,{className:p.wrap,children:[g&&r.jsx(b,{}),i]})})})};V.__docgenInfo={description:"",methods:[],displayName:"CheckboxGroup",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},label:{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},showSelectAll:{required:!1,tsType:{name:"boolean"},description:""},errorMessage:{required:!1,tsType:{name:"union",raw:"string | ((validation: ValidationResult) => string)",elements:[{name:"string"},{name:"unknown"}]},description:""}},composes:["Omit"]};export{V as C};
