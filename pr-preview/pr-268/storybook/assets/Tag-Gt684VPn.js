import{j as w}from"./jsx-runtime-CBDCb4rg.js";import{a as Ue}from"./Button-BeKNHBLF.js";import{b as We,c as G,e as He,$ as Ge,a as qe,f as Qe}from"./Collection-BhSMiv7E.js";import{j as q,o as T,d as y,C as Xe,G as Je,Q,u as h,H as Ye,f as Ze,P as _e,h as er,b as X,a as rr,c as J,B as Y,$ as Z,z as or}from"./useFocusable-BFvoMS9y.js";import{b as tr,$ as ar}from"./useField-BVKRIrPf.js";import{a as z}from"./ListBox-Bqd_jMsd.js";import{$ as ir}from"./Text-BvZdlzFi.js";import{r as m,R as g}from"./index-B-o1Wr-g.js";import{b as E,a as nr}from"./ListKeyboardDelegate-Lv1vouSK.js";import{a as ur,b as lr}from"./useHighlightSelectionDescription-BGVOLZLZ.js";import{$ as sr}from"./useHasTabbableChild-CueI-znd.js";import{$ as dr}from"./Separator-Bd4vkn40.js";import{$ as _}from"./context-DFvSrY_x.js";import{$ as cr}from"./useDescription-DRw803pY.js";import{h as pr,d as br,i as C}from"./SelectionManager-DRRiPKTi.js";import{$ as O}from"./FocusScope-2XdeF7h-.js";import{$ as fr}from"./useLocalizedStringFormatter-CABpxIsR.js";import{$ as $r}from"./useListState-BtOFoHoC.js";import{c as vr}from"./clsx-B-dksMZM.js";import{B as mr}from"./Button-dZcdrYJ-.js";import{X as xr}from"./x-CdHhRR78.js";const S=new WeakMap;function U(o,e){var r;let{id:a}=(r=S.get(o))!==null&&r!==void 0?r:{};if(!a)throw new Error("Unknown list");return`${a}-${gr(e)}`}function gr(o){return typeof o=="string"?o.replace(/\s*/g,""):""+o}function Dr(o,e,r){let{isVirtualized:a,keyboardDelegate:l,layoutDelegate:t,onAction:n,linkBehavior:d="action",keyboardNavigationBehavior:s="arrow"}=o;!o["aria-label"]&&!o["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:c}=dr({selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,ref:r,keyboardDelegate:l,layoutDelegate:t,isVirtualized:a,selectOnFocus:e.selectionManager.selectionBehavior==="replace",shouldFocusWrap:o.shouldFocusWrap,linkBehavior:d}),u=q(o.id);S.set(e,{id:u,onAction:n,linkBehavior:d,keyboardNavigationBehavior:s});let $=ur({selectionManager:e.selectionManager,hasItemActions:!!n}),p=sr(r,{isDisabled:e.collection.size!==0}),b=T(o,{labelable:!0}),v=y(b,{role:"grid",id:u,"aria-multiselectable":e.selectionManager.selectionMode==="multiple"?"true":void 0},e.collection.size===0?{tabIndex:p?-1:0}:c,$);return a&&(v["aria-rowcount"]=e.collection.size,v["aria-colcount"]=1),lr({},e),{gridProps:v}}const W={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function yr(o,e,r){var a,l;let{node:t,isVirtualized:n,shouldSelectOnPressUp:d}=o,{direction:s}=_(),{onAction:c,linkBehavior:u,keyboardNavigationBehavior:$}=S.get(e),p=Xe(),b=m.useRef(null),v=()=>{var i;r.current!==null&&(b.current!=null&&t.key!==b.current||!(!((i=r.current)===null||i===void 0)&&i.contains(document.activeElement)))&&h(r.current)},F={},B,K=e.selectionManager.isLink(t.key);if(t!=null&&"expandedKeys"in e){var L,A,R;let i=(L=(A=e.collection).getChildren)===null||L===void 0?void 0:L.call(A,t.key);B=[...i??[]].length>1,c==null&&!K&&e.selectionManager.selectionMode==="none"&&B&&(c=()=>e.toggleKey(t.key));let x=B?e.expandedKeys.has(t.key):void 0,P=1;var M;if(t.level>0&&(t==null?void 0:t.parentKey)!=null){let f=e.collection.getItem(t.parentKey);if(f){var k,j;let D=(k=(j=e.collection).getChildren)===null||k===void 0?void 0:k.call(j,f.key);P=pr(D).index+1}}else P=((M=(R=[...e.collection].filter(f=>f.level===0).at(-1))===null||R===void 0?void 0:R.index)!==null&&M!==void 0?M:0)+1;F={"aria-expanded":x,"aria-level":t.level+1,"aria-posinset":(t==null?void 0:t.index)+1,"aria-setsize":P}}let{itemProps:Ke,...V}=br({selectionManager:e.selectionManager,key:t.key,ref:r,isVirtualized:n,shouldSelectOnPressUp:d,onAction:c||!((a=t.props)===null||a===void 0)&&a.onAction?Je((l=t.props)===null||l===void 0?void 0:l.onAction,c?()=>c(t.key):void 0):void 0,focus:v,linkBehavior:u}),Se=i=>{if(!i.currentTarget.contains(i.target)||!r.current||!document.activeElement)return;let x=O(r.current);if(x.currentNode=document.activeElement,"expandedKeys"in e&&document.activeElement===r.current){if(i.key===W.expand[s]&&e.selectionManager.focusedKey===t.key&&B&&!e.expandedKeys.has(t.key)){e.toggleKey(t.key),i.stopPropagation();return}else if(i.key===W.collapse[s]&&e.selectionManager.focusedKey===t.key&&B&&e.expandedKeys.has(t.key)){e.toggleKey(t.key),i.stopPropagation();return}}switch(i.key){case"ArrowLeft":if($==="arrow"){let f=s==="rtl"?x.nextNode():x.previousNode();if(f)i.preventDefault(),i.stopPropagation(),h(f),C(f,{containingElement:E(r.current)});else if(i.preventDefault(),i.stopPropagation(),s==="rtl")h(r.current),C(r.current,{containingElement:E(r.current)});else{x.currentNode=r.current;let D=H(x);D&&(h(D),C(D,{containingElement:E(r.current)}))}}break;case"ArrowRight":if($==="arrow"){let f=s==="rtl"?x.previousNode():x.nextNode();if(f)i.preventDefault(),i.stopPropagation(),h(f),C(f,{containingElement:E(r.current)});else if(i.preventDefault(),i.stopPropagation(),s==="ltr")h(r.current),C(r.current,{containingElement:E(r.current)});else{x.currentNode=r.current;let D=H(x);D&&(h(D),C(D,{containingElement:E(r.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!i.altKey&&r.current.contains(i.target)){var P;i.stopPropagation(),i.preventDefault(),(P=r.current.parentElement)===null||P===void 0||P.dispatchEvent(new KeyboardEvent(i.nativeEvent.type,i.nativeEvent))}break;case"Tab":if($==="tab"){let f=O(r.current,{tabbable:!0});f.currentNode=document.activeElement,(i.shiftKey?f.previousNode():f.nextNode())&&i.stopPropagation()}}},je=i=>{if(b.current=t.key,i.target!==r.current){Ye()||e.selectionManager.setFocusedKey(t.key);return}},Ve=Q(t.props),Ie=V.hasAction?Ve:{},I=y(Ke,Ie,{role:"row",onKeyDownCapture:Se,onFocus:je,"aria-label":t.textValue||void 0,"aria-selected":e.selectionManager.canSelectItem(t.key)?e.selectionManager.isSelected(t.key):void 0,"aria-disabled":e.selectionManager.isDisabled(t.key)||void 0,"aria-labelledby":p&&t.textValue?`${U(e,t.key)} ${p}`:void 0,id:U(e,t.key)});n&&(I["aria-rowindex"]=t.index+1);let Oe={role:"gridcell","aria-colindex":1};return{rowProps:{...y(I,F)},gridCellProps:Oe,descriptionProps:{id:p},...V}}function H(o){let e=null,r=null;do r=o.lastChild(),r&&(e=r);while(r);return e}const ee=new WeakMap;function Br(o,e,r){let{direction:a}=_(),l=o.keyboardDelegate||new nr({collection:e.collection,ref:r,orientation:"horizontal",direction:a,disabledKeys:e.disabledKeys,disabledBehavior:e.selectionManager.disabledBehavior}),{labelProps:t,fieldProps:n,descriptionProps:d,errorMessageProps:s}=tr({...o,labelElementType:"span"}),{gridProps:c}=Dr({...o,...n,keyboardDelegate:l,shouldFocusWrap:!0,linkBehavior:"override"},e,r),[u,$]=m.useState(!1),{focusWithinProps:p}=Ze({onFocusWithinChange:$}),b=T(o),v=m.useRef(e.collection.size);return m.useEffect(()=>{r.current&&v.current>0&&e.collection.size===0&&u&&r.current.focus(),v.current=e.collection.size},[e.collection.size,u,r]),ee.set(e,{onRemove:o.onRemove}),{gridProps:y(c,b,{role:e.collection.size?"grid":null,"aria-atomic":!1,"aria-relevant":"additions","aria-live":u?"polite":"off",...p,...n}),labelProps:t,descriptionProps:d,errorMessageProps:s}}var re={};re={removeButtonLabel:"إزالة",removeDescription:"اضغط على مفتاح DELETE لإزالة علامة."};var oe={};oe={removeButtonLabel:"Премахване",removeDescription:"Натиснете Delete, за да премахнете маркера."};var te={};te={removeButtonLabel:"Odebrat",removeDescription:"Stisknutím klávesy Delete odeberete značku."};var ae={};ae={removeButtonLabel:"Fjern",removeDescription:"Tryk på Slet for at fjerne tag."};var ie={};ie={removeButtonLabel:"Entfernen",removeDescription:"Auf „Löschen“ drücken, um das Tag zu entfernen."};var ne={};ne={removeButtonLabel:"Κατάργηση",removeDescription:"Πατήστε Διαγραφή για να καταργήσετε την ετικέτα."};var ue={};ue={removeDescription:"Press Delete to remove tag.",removeButtonLabel:"Remove"};var le={};le={removeButtonLabel:"Quitar",removeDescription:"Pulse Eliminar para quitar la etiqueta."};var se={};se={removeButtonLabel:"Eemalda",removeDescription:"Sildi eemaldamiseks vajutage kustutusklahvi Delete."};var de={};de={removeButtonLabel:"Poista",removeDescription:"Poista tunniste painamalla Poista-painiketta."};var ce={};ce={removeButtonLabel:"Supprimer",removeDescription:"Appuyez sur Supprimer pour supprimer l’étiquette."};var pe={};pe={removeButtonLabel:"הסר",removeDescription:"לחץ על מחק כדי להסיר תג."};var be={};be={removeButtonLabel:"Ukloni",removeDescription:"Pritisnite Delete za uklanjanje oznake."};var fe={};fe={removeButtonLabel:"Eltávolítás",removeDescription:"Nyomja meg a Delete billentyűt a címke eltávolításához."};var $e={};$e={removeButtonLabel:"Rimuovi",removeDescription:"Premi Elimina per rimuovere il tag."};var ve={};ve={removeButtonLabel:"削除",removeDescription:"タグを削除するには、Delete キーを押します。"};var me={};me={removeButtonLabel:"제거",removeDescription:"태그를 제거하려면 Delete 키를 누르십시오."};var xe={};xe={removeButtonLabel:"Pašalinti",removeDescription:"Norėdami pašalinti žymą, paspauskite „Delete“ klavišą."};var ge={};ge={removeButtonLabel:"Noņemt",removeDescription:"Nospiediet Delete [Dzēst], lai noņemtu tagu."};var De={};De={removeButtonLabel:"Fjern",removeDescription:"Trykk på Slett for å fjerne taggen."};var ye={};ye={removeButtonLabel:"Verwijderen",removeDescription:"Druk op Verwijderen om de tag te verwijderen."};var Be={};Be={removeButtonLabel:"Usuń",removeDescription:"Naciśnij Usuń, aby usunąć znacznik."};var ke={};ke={removeButtonLabel:"Remover",removeDescription:"Pressione Delete para remover a tag."};var Pe={};Pe={removeButtonLabel:"Eliminar",removeDescription:"Prima Delete para eliminar a tag."};var he={};he={removeButtonLabel:"Îndepărtaţi",removeDescription:"Apăsați pe Delete (Ștergere) pentru a elimina eticheta."};var Ee={};Ee={removeButtonLabel:"Удалить",removeDescription:"Нажмите DELETE, чтобы удалить тег."};var Ce={};Ce={removeButtonLabel:"Odstrániť",removeDescription:"Ak chcete odstrániť značku, stlačte kláves Delete."};var we={};we={removeButtonLabel:"Odstrani",removeDescription:"Pritisnite Delete, da odstranite oznako."};var Le={};Le={removeButtonLabel:"Ukloni",removeDescription:"Pritisnite Obriši da biste uklonili oznaku."};var Ae={};Ae={removeButtonLabel:"Ta bort",removeDescription:"Tryck på Radera för att ta bort taggen."};var Re={};Re={removeButtonLabel:"Kaldır",removeDescription:"Etiketi kaldırmak için Sil tuşuna basın."};var Me={};Me={removeButtonLabel:"Вилучити",removeDescription:"Натисніть Delete, щоб вилучити тег."};var Ne={};Ne={removeButtonLabel:"删除",removeDescription:"按下“删除”以删除标记。"};var Te={};Te={removeButtonLabel:"移除",removeDescription:"按 Delete 鍵以移除標記。"};var Fe={};Fe={"ar-AE":re,"bg-BG":oe,"cs-CZ":te,"da-DK":ae,"de-DE":ie,"el-GR":ne,"en-US":ue,"es-ES":le,"et-EE":se,"fi-FI":de,"fr-FR":ce,"he-IL":pe,"hr-HR":be,"hu-HU":fe,"it-IT":$e,"ja-JP":ve,"ko-KR":me,"lt-LT":xe,"lv-LV":ge,"nb-NO":De,"nl-NL":ye,"pl-PL":Be,"pt-BR":ke,"pt-PT":Pe,"ro-RO":he,"ru-RU":Ee,"sk-SK":Ce,"sl-SI":we,"sr-SP":Le,"sv-SE":Ae,"tr-TR":Re,"uk-UA":Me,"zh-CN":Ne,"zh-TW":Te};function kr(o){return o&&o.__esModule?o.default:o}function Pr(o,e,r){let{item:a}=o,l=fr(kr(Fe),"@react-aria/tag"),t=q(),{onRemove:n}=ee.get(e)||{},{rowProps:d,gridCellProps:s,...c}=yr({node:a},e,r);delete d.onKeyDownCapture;let{descriptionProps:u,...$}=c,p=e.disabledKeys.has(a.key)||a.props.isDisabled,b=k=>{if(k.key==="Delete"||k.key==="Backspace"){if(p)return;k.preventDefault(),e.selectionManager.isSelected(a.key)?n==null||n(new Set(e.selectionManager.selectedKeys)):n==null||n(new Set([a.key]))}},v=_e();v==="virtual"&&typeof window<"u"&&"ontouchstart"in window&&(v="pointer");let F=n&&(v==="keyboard"||v==="virtual")?l.format("removeDescription"):"",B=cr(F),K=a.key===e.selectionManager.focusedKey,L=e.selectionManager.focusedKey!=null,A=-1;!p&&(K||!L)&&(A=0);let R=T(a.props),M=Q(a.props);return{removeButtonProps:{"aria-label":l.format("removeButtonLabel"),"aria-labelledby":`${t} ${d.id}`,isDisabled:p,id:t,onPress:()=>n?n(new Set([a.key])):null,excludeFromTabOrder:!0},rowProps:y(d,R,M,{tabIndex:A,onKeyDown:n?b:void 0,"aria-describedby":B["aria-describedby"]}),gridCellProps:y(s,{"aria-errormessage":o["aria-errormessage"],"aria-label":o["aria-label"]}),...$,allowsRemoving:!!n}}const hr=m.createContext(null),ze=m.createContext(null),Er=m.forwardRef(function(e,r){return[e,r]=Z(e,r,hr),g.createElement(Ge,{content:e.children},a=>g.createElement(Cr,{props:e,forwardedRef:r,collection:a}))});function Cr({props:o,forwardedRef:e,collection:r}){let a=m.useRef(null),[l,t]=or(),n=$r({...o,children:void 0,collection:r}),d=T(o),s=Object.fromEntries(Object.entries(d).map(([v])=>[v,void 0])),{gridProps:c,labelProps:u,descriptionProps:$,errorMessageProps:p}=Br({...o,...s,label:t},n,a);var b;return g.createElement("div",{...d,ref:e,slot:o.slot||void 0,className:(b=o.className)!==null&&b!==void 0?b:"react-aria-TagGroup",style:o.style},g.createElement(Y,{values:[[ar,{...u,elementType:"span",ref:l}],[ze,{...c,ref:a}],[z,n],[ir,{slots:{description:$,errorMessage:p}}]]},o.children))}const wr=m.forwardRef(function(e,r){return m.useContext(z)?g.createElement(Lr,{props:e,forwardedRef:r}):g.createElement(qe,e)});function Lr({props:o,forwardedRef:e}){let r=m.useContext(z),{CollectionRoot:a}=m.useContext(G),[l,t]=Z(o,e,ze);delete l.items,delete l.renderEmptyState;let{focusProps:n,isFocused:d,isFocusVisible:s}=X(),c={isEmpty:r.collection.size===0,isFocused:d,isFocusVisible:s,state:r},u=J({className:o.className,style:o.style,defaultClassName:"react-aria-TagList",values:c}),$=Qe(r.selectionManager.focusedKey);return g.createElement("div",{...y(l,n),...u,ref:t,"data-empty":r.collection.size===0||void 0,"data-focused":d||void 0,"data-focus-visible":s||void 0},r.collection.size===0&&o.renderEmptyState?o.renderEmptyState(c):g.createElement(a,{collection:r.collection,persistedKeys:$}))}const Ar=We("item",(o,e,r)=>{let a=m.useContext(z),l=er(e),{focusProps:t,isFocusVisible:n}=X({within:!0}),{rowProps:d,gridCellProps:s,removeButtonProps:c,...u}=Pr({item:r},a,l),{hoverProps:$,isHovered:p}=rr({isDisabled:!u.allowsSelection,onHoverStart:r.props.onHoverStart,onHoverChange:r.props.onHoverChange,onHoverEnd:r.props.onHoverEnd}),b=J({...o,id:void 0,children:r.rendered,defaultClassName:"react-aria-Tag",values:{...u,isFocusVisible:n,isHovered:p,selectionMode:a.selectionManager.selectionMode,selectionBehavior:a.selectionManager.selectionBehavior}});return m.useEffect(()=>{r.textValue||console.warn("A `textValue` prop is required for <Tag> elements with non-plain text children for accessibility.")},[r.textValue]),g.createElement("div",{ref:l,...b,...y(T(o),d,t,$),"data-selected":u.isSelected||void 0,"data-disabled":u.isDisabled||void 0,"data-hovered":p||void 0,"data-focused":u.isFocused||void 0,"data-focus-visible":n||void 0,"data-pressed":u.isPressed||void 0,"data-allows-removing":u.allowsRemoving||void 0,"data-selection-mode":a.selectionManager.selectionMode==="none"?void 0:a.selectionManager.selectionMode},g.createElement("div",{...s,style:{display:"contents"}},g.createElement(Y,{values:[[Ue,{slots:{remove:c}}],[G,He]]},b.children)))}),Rr="_button_m4kn4_4",Mr="_tag_m4kn4_14",Nr="_dismissable_m4kn4_34",Tr="_tagText_m4kn4_42",Fr="_tagList_m4kn4_47",N={button:Rr,tag:Mr,dismissable:Nr,tagText:Tr,tagList:Fr},zr=({children:o,...e})=>w.jsx(Er,{...e,children:w.jsx(wr,{className:N.tagList,children:o})}),Kr=({children:o,dismissable:e,...r})=>w.jsxs(Ar,{className:vr(N.tag,e&&N.dismissable),...r,children:[w.jsx("div",{className:N.tagText,children:o}),e&&w.jsx(mr,{variant:"icon",size:"small",className:N.button,slot:"remove",children:w.jsx(xr,{size:20})})]});zr.__docgenInfo={description:"",methods:[],displayName:"TagGroup",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["AriaTagGroupProps"]};Kr.__docgenInfo={description:"",methods:[],displayName:"Tag",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},dismissable:{required:!1,tsType:{name:"boolean"},description:""}},composes:["AriaTagProps"]};export{U as $,Kr as T,zr as a,yr as b,Dr as c};
