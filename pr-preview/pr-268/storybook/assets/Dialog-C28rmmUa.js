import{a as ur}from"./Button-ojkDv_BK.js";import{k as pe,u as dr,f as cr,j as U,l as j,U as fr,H as te,d as K,e as pr,p as D,q as $r,D as z,o as br,a as ve,I as gr,V as mr,T as vr,r as xr,v as $e,$ as W,c as T,C as S,h as xe,J as yr,z as Pr,b as hr,A as Er,K as be}from"./useFocusable-B8HhqQIl.js";import{$ as Cr}from"./RSPContexts-BT50PPhj.js";import{g as Dr,c as Ar,$ as ye,b as Mr,d as wr,e as Sr,a as kr}from"./OverlayArrow-CuCbQGRr.js";import{$ as Br,a as Fr,b as Kr,c as Pe,d as Tr,f as Rr}from"./Collection-DVrKtIZX.js";import{$ as Or,a as Ir,c as Lr,b as Nr,d as _r}from"./Separator-CNfBi8L5.js";import{r as c,R as g}from"./index-B-o1Wr-g.js";import{$ as zr}from"./Text-Bxg5Zhzp.js";import{l as Hr,d as Ur,$ as he,a as jr,b as Ee}from"./SelectionManager-BrHtouv1.js";import{a as Wr,$ as Ce}from"./PressResponder-CtzAwrCi.js";import{$ as De}from"./useLocalizedStringFormatter-4pChcv_1.js";import{$ as Vr}from"./useControlledState-BgxdDqm0.js";import{c as Gr,a as Ae}from"./FocusScope-hGcwqkni.js";import{G as qr}from"./index-D2jEcJry.js";import{b as Jr}from"./Hidden-C-kiqh_I.js";import{b as Me}from"./ListKeyboardDelegate-JdsgzHfV.js";import{$ as Zr}from"./useLabels-BiAlD12e.js";import{a as Yr}from"./VisuallyHidden-DjSI67in.js";function Xr(t){let{ref:e,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:o}=t,l=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=pe(n=>{r&&N(n,e)&&(o&&o(n),l.current.isPointerDown=!0)}),i=pe(n=>{r&&r(n)});c.useEffect(()=>{let n=l.current;if(a)return;const d=e.current,s=dr(d);if(typeof PointerEvent<"u"){let p=$=>{n.isPointerDown&&N($,e)&&i($),n.isPointerDown=!1};return s.addEventListener("pointerdown",u,!0),s.addEventListener("pointerup",p,!0),()=>{s.removeEventListener("pointerdown",u,!0),s.removeEventListener("pointerup",p,!0)}}else{let p=f=>{n.ignoreEmulatedMouseEvents?n.ignoreEmulatedMouseEvents=!1:n.isPointerDown&&N(f,e)&&i(f),n.isPointerDown=!1},$=f=>{n.ignoreEmulatedMouseEvents=!0,n.isPointerDown&&N(f,e)&&i(f),n.isPointerDown=!1};return s.addEventListener("mousedown",u,!0),s.addEventListener("mouseup",p,!0),s.addEventListener("touchstart",u,!0),s.addEventListener("touchend",$,!0),()=>{s.removeEventListener("mousedown",u,!0),s.removeEventListener("mouseup",p,!0),s.removeEventListener("touchstart",u,!0),s.removeEventListener("touchend",$,!0)}}},[e,a,u,i])}function N(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const h=[];function Qr(t,e){let{onClose:r,shouldCloseOnBlur:a,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:i}=t;c.useEffect(()=>(o&&h.push(e),()=>{let b=h.indexOf(e);b>=0&&h.splice(b,1)}),[o,e]);let n=()=>{h[h.length-1]===e&&r&&r()},d=b=>{(!i||i(b.target))&&h[h.length-1]===e&&(b.stopPropagation(),b.preventDefault())},s=b=>{(!i||i(b.target))&&(h[h.length-1]===e&&(b.stopPropagation(),b.preventDefault()),n())},p=b=>{b.key==="Escape"&&!u&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),n())};Xr({ref:e,onInteractOutside:l&&o?s:void 0,onInteractOutsideStart:d});let{focusWithinProps:$}=cr({isDisabled:!a,onBlurWithin:b=>{!b.relatedTarget||Gr(b.relatedTarget)||(!i||i(b.relatedTarget))&&(r==null||r())}}),f=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:p,...$},underlayProps:{onPointerDown:f}}}function we(t,e,r){let{type:a}=t,{isOpen:o}=e;c.useEffect(()=>{r&&r.current&&Dr.set(r.current,e.close)});let l;a==="menu"?l=!0:a==="listbox"&&(l="listbox");let u=U();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}const Q=typeof document<"u"&&window.visualViewport,ea=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let _=0,ee;function ta(t={}){let{isDisabled:e}=t;j(()=>{if(!e)return _++,_===1&&(fr()?ee=aa():ee=ra()),()=>{_--,_===0&&ee()}},[e])}function ra(){return te(w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden"))}function aa(){let t,e,r=d=>{t=Me(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=w(t,"overscrollBehavior","contain"))},a=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},o=()=>{e&&e()},l=d=>{let s=d.target;oa(s)&&(i(),s.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{s.style.transform="",Q&&(Q.height<window.innerHeight?requestAnimationFrame(()=>{ge(s)}):Q.addEventListener("resize",()=>ge(s),{once:!0}))}))},u=null,i=()=>{if(u)return;let d=()=>{window.scrollTo(0,0)},s=window.pageXOffset,p=window.pageYOffset;u=te(B(window,"scroll",d),w(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),w(document.documentElement,"overflow","hidden"),w(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(s,p)}),window.scrollTo(0,0)},n=te(B(document,"touchstart",r,{passive:!1,capture:!0}),B(document,"touchmove",a,{passive:!1,capture:!0}),B(document,"touchend",o,{passive:!1,capture:!0}),B(document,"focus",l,!0));return()=>{e==null||e(),u==null||u(),n()}}function w(t,e,r){let a=t.style[e];return t.style[e]=r,()=>{t.style[e]=a}}function B(t,e,r,a){return t.addEventListener(e,r,a),()=>{t.removeEventListener(e,r,a)}}function ge(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let a=Me(r);if(a!==document.documentElement&&a!==document.body&&a!==r){let o=a.getBoundingClientRect().top,l=r.getBoundingClientRect().top;l>o+r.clientHeight&&(a.scrollTop+=l-o)}r=a.parentElement}}function oa(t){return t instanceof HTMLInputElement&&!ea.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Se={};Se={dismiss:"تجاهل"};var ke={};ke={dismiss:"Отхвърляне"};var Be={};Be={dismiss:"Odstranit"};var Fe={};Fe={dismiss:"Luk"};var Ke={};Ke={dismiss:"Schließen"};var Te={};Te={dismiss:"Απόρριψη"};var Re={};Re={dismiss:"Dismiss"};var Oe={};Oe={dismiss:"Descartar"};var Ie={};Ie={dismiss:"Lõpeta"};var Le={};Le={dismiss:"Hylkää"};var Ne={};Ne={dismiss:"Rejeter"};var _e={};_e={dismiss:"התעלם"};var ze={};ze={dismiss:"Odbaci"};var He={};He={dismiss:"Elutasítás"};var Ue={};Ue={dismiss:"Ignora"};var je={};je={dismiss:"閉じる"};var We={};We={dismiss:"무시"};var Ve={};Ve={dismiss:"Atmesti"};var Ge={};Ge={dismiss:"Nerādīt"};var qe={};qe={dismiss:"Lukk"};var Je={};Je={dismiss:"Negeren"};var Ze={};Ze={dismiss:"Zignoruj"};var Ye={};Ye={dismiss:"Descartar"};var Xe={};Xe={dismiss:"Dispensar"};var Qe={};Qe={dismiss:"Revocare"};var et={};et={dismiss:"Пропустить"};var tt={};tt={dismiss:"Zrušiť"};var rt={};rt={dismiss:"Opusti"};var at={};at={dismiss:"Odbaci"};var ot={};ot={dismiss:"Avvisa"};var nt={};nt={dismiss:"Kapat"};var st={};st={dismiss:"Скасувати"};var lt={};lt={dismiss:"取消"};var it={};it={dismiss:"關閉"};var ut={};ut={"ar-AE":Se,"bg-BG":ke,"cs-CZ":Be,"da-DK":Fe,"de-DE":Ke,"el-GR":Te,"en-US":Re,"es-ES":Oe,"et-EE":Ie,"fi-FI":Le,"fr-FR":Ne,"he-IL":_e,"hr-HR":ze,"hu-HU":He,"it-IT":Ue,"ja-JP":je,"ko-KR":We,"lt-LT":Ve,"lv-LV":Ge,"nb-NO":qe,"nl-NL":Je,"pl-PL":Ze,"pt-BR":Ye,"pt-PT":Xe,"ro-RO":Qe,"ru-RU":et,"sk-SK":tt,"sl-SI":rt,"sr-SP":at,"sv-SE":ot,"tr-TR":nt,"uk-UA":st,"zh-CN":lt,"zh-TW":it};function na(t){return t&&t.__esModule?t.default:t}function me(t){let{onDismiss:e,...r}=t,a=De(na(ut),"@react-aria/overlays"),o=Zr(r,a.format("dismiss")),l=()=>{e&&e()};return g.createElement(Yr,null,g.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}let F=new WeakMap,x=[];function sa(t,e=document.body){let r=new Set(t),a=new Set,o=n=>{for(let $ of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add($);let d=$=>{if(r.has($)||$.parentElement&&a.has($.parentElement)&&$.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if($.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(n);if(p===NodeFilter.FILTER_ACCEPT&&l(n),p!==NodeFilter.FILTER_REJECT){let $=s.nextNode();for(;$!=null;)l($),$=s.nextNode()}},l=n=>{var d;let s=(d=F.get(n))!==null&&d!==void 0?d:0;n.getAttribute("aria-hidden")==="true"&&s===0||(s===0&&n.setAttribute("aria-hidden","true"),a.add(n),F.set(n,s+1))};x.length&&x[x.length-1].disconnect(),o(e);let u=new MutationObserver(n=>{for(let d of n)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...r,...a].some(s=>s.contains(d.target))){for(let s of d.removedNodes)s instanceof Element&&(r.delete(s),a.delete(s));for(let s of d.addedNodes)(s instanceof HTMLElement||s instanceof SVGElement)&&(s.dataset.liveAnnouncer==="true"||s.dataset.reactAriaTopLayer==="true")?r.add(s):s instanceof Element&&o(s)}});u.observe(e,{childList:!0,subtree:!0});let i={observe(){u.observe(e,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return x.push(i),()=>{u.disconnect();for(let n of a){let d=F.get(n);d!=null&&(d===1?(n.removeAttribute("aria-hidden"),F.delete(n)):F.set(n,d-1))}i===x[x.length-1]?(x.pop(),x.length&&x[x.length-1].observe()):x.splice(x.indexOf(i),1)}}function la(t,e){let{triggerRef:r,popoverRef:a,isNonModal:o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u,...i}=t,{overlayProps:n,underlayProps:d}=Qr({isOpen:e.isOpen&&!i["data-react-aria-top-layer"],onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:u},a),{overlayProps:s,arrowProps:p,placement:$}=Ar({...i,targetRef:r,overlayRef:a,isOpen:e.isOpen,onClose:o?e.close:null});return ta({isDisabled:o||!e.isOpen}),j(()=>{if(e.isOpen&&!o&&a.current)return sa([a.current])},[o,e.isOpen,a]),{popoverProps:K(n,s),arrowProps:p,underlayProps:d,placement:$}}const ia=c.createContext({});function ua(){var t;return(t=c.useContext(ia))!==null&&t!==void 0?t:{}}const dt=g.createContext(null);function da(t){let e=pr(),{portalContainer:r=e?null:document.body,isExiting:a}=t,[o,l]=c.useState(!1),u=c.useMemo(()=>({contain:o,setContain:l}),[o,l]),{getContainer:i}=ua();if(!t.portalContainer&&i&&(r=i()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=g.createElement(Ae,{restoreFocus:!0,contain:o&&!a},n)),n=g.createElement(dt.Provider,{value:u},g.createElement(Wr,null,n)),qr.createPortal(n,r)}function ca(){let t=c.useContext(dt),e=t==null?void 0:t.setContain;j(()=>{e==null||e(!0)},[e])}var ct={};ct={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var ft={};ft={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var pt={};pt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var $t={};$t={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var bt={};bt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var gt={};gt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var mt={};mt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var vt={};vt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var xt={};xt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var yt={};yt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Pt={};Pt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var ht={};ht={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Et={};Et={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ct={};Ct={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Dt={};Dt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var At={};At={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Mt={};Mt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var wt={};wt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var St={};St={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var kt={};kt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Bt={};Bt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Ft={};Ft={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Kt={};Kt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Tt={};Tt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Rt={};Rt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Ot={};Ot={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var It={};It={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Lt={};Lt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Nt={};Nt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var _t={};_t={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var zt={};zt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Ht={};Ht={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Ut={};Ut={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var jt={};jt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Wt={};Wt={"ar-AE":ct,"bg-BG":ft,"cs-CZ":pt,"da-DK":$t,"de-DE":bt,"el-GR":gt,"en-US":mt,"es-ES":vt,"et-EE":xt,"fi-FI":yt,"fr-FR":Pt,"he-IL":ht,"hr-HR":Et,"hu-HU":Ct,"it-IT":Dt,"ja-JP":At,"ko-KR":Mt,"lt-LT":wt,"lv-LV":St,"nb-NO":kt,"nl-NL":Bt,"pl-PL":Ft,"pt-BR":Kt,"pt-PT":Tt,"ro-RO":Rt,"ru-RU":Ot,"sk-SK":It,"sl-SI":Lt,"sr-SP":Nt,"sv-SE":_t,"tr-TR":zt,"uk-UA":Ht,"zh-CN":Ut,"zh-TW":jt};function fa(t){return t&&t.__esModule?t.default:t}function pa(t,e,r){let{type:a="menu",isDisabled:o,trigger:l="press"}=t,u=U(),{triggerProps:i,overlayProps:n}=we({type:a},e,r),d=f=>{if(!o&&!(l==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(l==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},s=De(fa(Wt),"@react-aria/menu"),{longPressProps:p}=Hr({isDisabled:o||l!=="longPress",accessibilityDescription:s.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),$={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!o&&e.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!o&&e.toggle()}};return delete i.onPress,{menuTriggerProps:{...i,...l==="press"?$:p,id:u,onKeyDown:d},menuProps:{...n,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const Vt=new WeakMap;function $a(t,e,r){let{shouldFocusWrap:a=!0,onKeyDown:o,onKeyUp:l,...u}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let i=D(t,{labelable:!0}),{listProps:n}=Or({...u,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:a,linkBehavior:"override"});return Vt.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:K(i,{onKeyDown:o,onKeyUp:l},{role:"menu",...n,onKeyDown:d=>{var s;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((s=n.onKeyDown)===null||s===void 0||s.call(n,d))}})}}function ba(t,e,r){let{id:a,key:o,closeOnSelect:l,isVirtualized:u,"aria-haspopup":i,onPressStart:n,onPressUp:d,onPress:s,onPressChange:p,onPressEnd:$,onHoverStart:f,onHoverChange:b,onHoverEnd:E,onKeyDown:C,onKeyUp:R,onFocus:O,onFocusChange:G,onBlur:Zt,selectionManager:y=e.selectionManager}=t,P=!!i,se=P&&t["aria-expanded"]==="true";var q;let A=(q=t.isDisabled)!==null&&q!==void 0?q:y.isDisabled(o);var J;let le=(J=t.isSelected)!==null&&J!==void 0?J:y.isSelected(o),I=Vt.get(e),v=e.collection.getItem(o),M=t.onClose||I.onClose,Yt=$r(),Z=m=>{var X;if(!P){if(!(v==null||(X=v.props)===null||X===void 0)&&X.onAction?v.props.onAction():t.onAction&&t.onAction(o),I.onAction){let ir=I.onAction;ir(o)}m.target instanceof HTMLAnchorElement&&v&&Yt.open(m.target,m,v.props.href,v.props.routerOptions)}},Y="menuitem";P||(y.selectionMode==="single"?Y="menuitemradio":y.selectionMode==="multiple"&&(Y="menuitemcheckbox"));let ie=z(),ue=z(),de=z(),L={id:a,"aria-disabled":A||void 0,role:Y,"aria-label":t["aria-label"],"aria-labelledby":ie,"aria-describedby":[ue,de].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":i,"aria-expanded":t["aria-expanded"]};y.selectionMode!=="none"&&!P&&(L["aria-checked"]=le),u&&(L["aria-posinset"]=v==null?void 0:v.index,L["aria-setsize"]=Ir(e.collection));let Xt=m=>{m.pointerType==="keyboard"&&Z(m),n==null||n(m)},ce=()=>{!P&&M&&(l??(y.selectionMode!=="multiple"||y.isLink(o)))&&M()},Qt=m=>{m.pointerType==="mouse"&&(Z(m),ce()),d==null||d(m)},er=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(Z(m),ce()),s==null||s(m)},{itemProps:k,isFocused:tr}=Ur({id:a,selectionManager:y,key:o,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:I.shouldUseVirtualFocus}),{pressProps:rr,isPressed:ar}=br({onPressStart:Xt,onPress:er,onPressUp:Qt,onPressChange:p,onPressEnd:$,isDisabled:A}),{hoverProps:or}=ve({isDisabled:A,onHoverStart(m){!gr()&&!(se&&i==="dialog")&&(y.setFocused(!0),y.setFocusedKey(o)),f==null||f(m)},onHoverChange:b,onHoverEnd:E}),{keyboardProps:nr}=mr({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!A&&y.selectionMode==="none"&&!P&&l!==!1&&M&&M();break;case"Enter":!A&&l!==!1&&!P&&M&&M();break;default:P||m.continuePropagation(),C==null||C(m);break}},onKeyUp:R}),{focusProps:sr}=vr({onBlur:Zt,onFocus:O,onFocusChange:G}),fe=D(v==null?void 0:v.props);delete fe.id;let lr=xr(v==null?void 0:v.props);return{menuItemProps:{...L,...K(fe,lr,P?{onFocus:k.onFocus,"data-key":k["data-key"]}:k,rr,or,nr,sr),tabIndex:k.tabIndex!=null&&se?-1:k.tabIndex},labelProps:{id:ie},descriptionProps:{id:ue},keyboardShortcutProps:{id:de},isFocused:tr,isSelected:le,isPressed:ar,isDisabled:A}}function ga(t){let{heading:e,"aria-label":r}=t,a=U();return{itemProps:{role:"presentation"},headingProps:e?{id:a,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?a:void 0}}}function ma(t,e){let{role:r="dialog"}=t,a=z();a=t["aria-label"]?void 0:a;let o=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){$e(e.current);let l=setTimeout(()=>{document.activeElement===e.current&&(o.current=!0,e.current&&(e.current.blur(),$e(e.current)),o.current=!1)},500);return()=>{clearTimeout(l)}}},[e]),ca(),{dialogProps:{...D(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||a,onBlur:l=>{o.current&&l.stopPropagation()}},titleProps:{id:a}}}function Gt(t){let e=ye(t),[r,a]=c.useState(null),[o,l]=c.useState([]),u=()=>{l([]),e.close()};return{focusStrategy:r,...e,open(d=null){a(d),e.open()},toggle(d=null){a(d),e.toggle()},close(){u()},expandedKeysStack:o,openSubmenu:(d,s)=>{l(p=>s>p.length?p:[...p.slice(0,s),d])},closeSubmenu:(d,s)=>{l(p=>p[s]===d?p.slice(0,s):p)}}}class va{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var a;return r&&(a=r.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(e){let r=this.keyMap.get(e);var a;return r&&(a=r.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let a=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&(i.type==="section"||r.has(i.key)))for(let n of i.childNodes)a(n)};for(let i of e)a(i);let o=null,l=0;for(let[i,n]of this.keyMap)o?(o.nextKey=i,n.prevKey=o.key):(this.firstKey=i,n.prevKey=void 0),n.type==="item"&&(n.index=l++),o=n,o.nextKey=void 0;var u;this.lastKey=(u=o==null?void 0:o.key)!==null&&u!==void 0?u:null}}function xa(t){let{onExpandedChange:e}=t,[r,a]=Vr(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),o=he(t),l=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),u=jr(t,c.useCallback(n=>new va(n,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{o.focusedKey!=null&&!u.getItem(o.focusedKey)&&o.setFocusedKey(null)},[u,o.focusedKey]),{collection:u,expandedKeys:r,disabledKeys:l,toggleKey:n=>{a(ya(r,n))},setExpandedKeys:a,selectionManager:new Ee(u,o)}}function ya(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const ae=c.createContext(null),Wa=c.forwardRef(function(e,r){[e,r]=W(e,r,ae);let a=c.useContext(V),o=ye(e),l=e.isOpen!=null||e.defaultOpen!=null||!a?o:a,u=Mr(r,l.isOpen)||e.isExiting||!1;if(Jr()){let n=e.children;return typeof n=="function"&&(n=n({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),g.createElement(g.Fragment,null,n)}return l&&!l.isOpen&&!u?null:g.createElement(Pa,{...e,triggerRef:e.triggerRef,state:l,popoverRef:r,isExiting:u})});function Pa({state:t,isExiting:e,UNSTABLE_portalContainer:r,...a}){let o=c.useRef(null),[l,u]=c.useState(0);j(()=>{o.current&&t.isOpen&&u(o.current.getBoundingClientRect().width)},[t.isOpen,o]);var i;let{popoverProps:n,underlayProps:d,arrowProps:s,placement:p}=la({...a,offset:(i=a.offset)!==null&&i!==void 0?i:8,arrowSize:l},t),$=a.popoverRef,f=wr($,!!p)||a.isEntering||!1,b=T({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:p,isEntering:f,isExiting:e}}),E={...n.style,...b.style};return g.createElement(da,{...a,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&g.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),g.createElement("div",{...K(D(a),n),...b,ref:$,slot:a.slot||void 0,style:E,"data-trigger":a.trigger,"data-placement":p,"data-entering":f||void 0,"data-exiting":e||void 0},!a.isNonModal&&g.createElement(me,{onDismiss:t.close}),g.createElement(Sr.Provider,{value:{...s,placement:p,ref:o}},b.children),g.createElement(me,{onDismiss:t.close})))}const ha=c.createContext({}),qt=c.createContext(null),oe=c.createContext(null),ne=c.createContext(null),H=c.createContext(null);function Va(t){let e=Gt(t),r=c.useRef(null),{menuTriggerProps:a,menuProps:o}=pa({...t,type:"menu"},e,r),[l,u]=c.useState(null),i=c.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);kr({ref:r,onResize:i});let n=c.useRef(null);return g.createElement(S,{values:[[qt,{...o,ref:n}],[V,e],[ne,e],[ae,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":l}}]]},g.createElement(Ce,{...a,ref:r,isPressed:e.isOpen},t.children))}const Ea=c.createContext(null),Ga=c.forwardRef(function(e,r){return[e,r]=W(e,r,qt),g.createElement(Br,{content:g.createElement(Fr,e)},a=>a.size>0&&g.createElement(Ca,{props:e,collection:a,menuRef:r}))});function Ca({props:t,collection:e,menuRef:r}){let{filterFn:a,collectionProps:o,collectionRef:l}=c.useContext(Lr)||{};r=xe(c.useMemo(()=>yr(r,l!==void 0?l:null),[l,r]));let u=c.useMemo(()=>a?e.filter(a):e,[e,a]),i=xa({...t,collection:u,children:void 0}),n=c.useContext(ne),{isVirtualized:d,CollectionRoot:s}=c.useContext(Pe),{menuProps:p}=$a({...t,...o,isVirtualized:d,onClose:t.onClose||(n==null?void 0:n.close)},i,r),$=T({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{}});return g.createElement(Ae,null,g.createElement("div",{...D(t),...p,...$,ref:r,slot:t.slot||void 0,onScroll:t.onScroll},g.createElement(S,{values:[[oe,i],[Nr,{elementType:"div"}],[Tr,{name:"MenuSection",render:Aa}],[Ea,{parentMenuRef:r}],[re,null],[H,i.selectionManager]]},g.createElement(s,{collection:i.collection,persistedKeys:Rr(i.selectionManager.focusedKey),scrollRef:r}))))}class Da extends Ee{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function Aa(t,e,r,a="react-aria-MenuSection"){var o,l;let u=c.useContext(oe),{CollectionBranch:i}=c.useContext(Pe),[n,d]=Er();var s;let{headingProps:p,groupProps:$}=ga({heading:d,"aria-label":(s=r.props["aria-label"])!==null&&s!==void 0?s:void 0}),f=T({defaultClassName:a,className:(o=r.props)===null||o===void 0?void 0:o.className,style:(l=r.props)===null||l===void 0?void 0:l.style,values:{}}),b=c.useContext(H),E=he(t),C=t.selectionMode!=null?new Da(b,E):b;return g.createElement("section",{...D(t),...$,...f,ref:e},g.createElement(S,{values:[[_r,{...p,ref:n}],[H,C]]},g.createElement(i,{collection:u.collection,parent:r})))}const re=c.createContext(null),qa=Kr("item",function(e,r,a){var o;[e,r]=W(e,r,re);let l=(o=Pr(re))===null||o===void 0?void 0:o.id,u=c.useContext(oe),i=xe(r),n=c.useContext(H),{menuItemProps:d,labelProps:s,descriptionProps:p,keyboardShortcutProps:$,...f}=ba({...e,id:l,key:a.key,selectionManager:n},u,i),{isFocusVisible:b,focusProps:E}=hr(),{hoverProps:C,isHovered:R}=ve({isDisabled:f.isDisabled}),O=T({...e,id:void 0,children:a.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:R,isFocusVisible:b,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),G=e.href?"a":"div";return g.createElement(G,{...K(d,E,C),...O,ref:i,"data-disabled":f.isDisabled||void 0,"data-hovered":R||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":b||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},g.createElement(S,{values:[[zr,{slots:{label:s,description:p}}],[ha,$]]},O.children))}),Jt=c.createContext(null),V=c.createContext(null);function Ja(t){let e=Gt(t),r=c.useRef(null),{triggerProps:a,overlayProps:o}=we({type:"dialog"},e,r);return a.id=U(),o["aria-labelledby"]=a.id,g.createElement(S,{values:[[V,e],[ne,e],[Jt,o],[ae,{trigger:"DialogTrigger",triggerRef:r}]]},g.createElement(Ce,{...a,ref:r,isPressed:e.isOpen},t.children))}const Za=c.forwardRef(function(e,r){let a=e["aria-labelledby"];[e,r]=W(e,r,Jt);let{dialogProps:o,titleProps:l}=ma({...e,"aria-labelledby":a},r),u=c.useContext(V);!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let i=T({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(u==null?void 0:u.close)||(()=>{})}});return g.createElement("section",{...D(e),...o,...i,ref:r,slot:e.slot||void 0},g.createElement(S,{values:[[Cr,{slots:{[be]:{},title:{...l,level:2}}}],[ur,{slots:{[be]:{},close:{onPress:()=>u==null?void 0:u.close()}}}]]},i.children))});export{Va as $,Wa as a,Ga as b,qa as c,pa as d,V as e,ae as f,Ja as g,sa as h,Jt as i,Za as j};
