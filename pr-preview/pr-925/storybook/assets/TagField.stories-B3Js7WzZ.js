import{r as l,e as De,j as o,o as ke}from"./iframe-Bj-I_53F.js";import{$ as Se,b as we}from"./RSPContexts-CldvHFix.js";import{e as Be,g as I,d as Ne,n as qe,b as _,h as _e,j as Ke,k as Ue}from"./utils-AYBXNHWH.js";import{x as ze,I as Me,t as He,q as w,r as Oe}from"./useFocusRing-3Uqdh2tR.js";import{$ as We}from"./useLabels-R0WNnhTM.js";import{$ as Ge}from"./useEvent-C0iCA9HD.js";import{j as B,k as Je,l as Ze,m as N,n as q,o as Qe,p as Xe}from"./SelectionManager-dMnowY7v.js";import{$ as Ye}from"./useLocalizedStringFormatter-DCLhEoY8.js";import{$ as et}from"./useControlledState-C7UYN2s_.js";import{a as tt,b as rt}from"./Select-4GiVBtxX.js";import{b as at,$ as ot,a as lt}from"./Tag-LmdqQvBw.js";import{a as it}from"./TextField-Bxs1nm8n.js";import{a as nt,L as st}from"./Label-CkpabL1x.js";import{$ as ut}from"./useFilter-DT09kqvg.js";import{B as ct}from"./Button-DjY0cfru.js";import{C as dt}from"./chevron-down-BiKK85eZ.js";import{I as ft}from"./Input-DyI-u6WE.js";import{T as pt}from"./Text-BW7nmiG_.js";import{F as mt}from"./FieldError-QaZ2d8uP.js";import{P as bt}from"./Popover-DYokfV-S.js";import{a as $t,L as vt}from"./ListBoxItem-BYjoiwTJ.js";import"./preload-helper-PPVm8Dsz.js";import"./clsx-B-dksMZM.js";import"./index-Cr9mSzEt.js";import"./index-DRLQ3B3R.js";import"./scrollIntoView-CR2ITi7r.js";import"./SelectionIndicator-irqqzVMw.js";import"./useDescription-D15WWjzT.js";import"./LocalizedStringFormatter-wnoc2RuQ.js";import"./Button-CYD4aiPQ.js";import"./Hidden-C4NKfEwd.js";import"./useButton--bsyIudm.js";import"./Form-BajHUc8X.js";import"./useFormValidation-DawZfh6P.js";import"./intlStrings-ZMTSFH_M.js";import"./ListBox-BVSFCD31.js";import"./Collection-Dv3QAqst.js";import"./index-Bvlh8tRR.js";import"./DragAndDrop-BkJEqw-r.js";import"./getScrollParent-DGhJvWNi.js";import"./Separator-Ly1TdqAI.js";import"./ListKeyboardDelegate-Cdrm69H0.js";import"./Text-DOZw3K2Z.js";import"./inertValue-DIDnzgf-.js";import"./useListState-BvoEIMYk.js";import"./Dialog-BMXojvkR.js";import"./OverlayArrow-Czv8iarU.js";import"./useResizeObserver-CDeWg4As.js";import"./PressResponder-BFk5IEgx.js";import"./VisuallyHidden-BHWpIZFA.js";import"./useField-Co9IJsjf.js";import"./useHighlightSelectionDescription-yHBv-7ES.js";import"./useUpdateEffect-B7wTPJMt.js";import"./useHasTabbableChild-CqjzOmrl.js";import"./clsx-Ciqy0D92.js";import"./x-DP9rj5I0.js";import"./createLucideIcon-DCE2q9z-.js";import"./Group-CbeCE0dg.js";import"./Input-BkXPIH3c.js";import"./useTextField-CC_jrgcP.js";import"./useLocalizedStringFormatter-BN1MB58D.js";import"./Heading-8W4drCzH.js";import"./info-qSN4S0E8.js";import"./Button.module-CtQ1deO8.js";import"./TextField.module-1-_3qsJZ.js";import"./Virtualizer-B98FoWxd.js";var K={};K={collectionLabel:"مقترحات"};var U={};U={collectionLabel:"Предложения"};var z={};z={collectionLabel:"Návrhy"};var M={};M={collectionLabel:"Forslag"};var H={};H={collectionLabel:"Empfehlungen"};var O={};O={collectionLabel:"Προτάσεις"};var W={};W={collectionLabel:"Suggestions"};var G={};G={collectionLabel:"Sugerencias"};var J={};J={collectionLabel:"Soovitused"};var Z={};Z={collectionLabel:"Ehdotukset"};var Q={};Q={collectionLabel:"Suggestions"};var X={};X={collectionLabel:"הצעות"};var Y={};Y={collectionLabel:"Prijedlozi"};var ee={};ee={collectionLabel:"Javaslatok"};var te={};te={collectionLabel:"Suggerimenti"};var re={};re={collectionLabel:"候補"};var ae={};ae={collectionLabel:"제안"};var oe={};oe={collectionLabel:"Pasiūlymai"};var le={};le={collectionLabel:"Ieteikumi"};var ie={};ie={collectionLabel:"Forslag"};var ne={};ne={collectionLabel:"Suggesties"};var se={};se={collectionLabel:"Sugestie"};var ue={};ue={collectionLabel:"Sugestões"};var ce={};ce={collectionLabel:"Sugestões"};var de={};de={collectionLabel:"Sugestii"};var fe={};fe={collectionLabel:"Предложения"};var pe={};pe={collectionLabel:"Návrhy"};var me={};me={collectionLabel:"Predlogi"};var be={};be={collectionLabel:"Predlozi"};var $e={};$e={collectionLabel:"Förslag"};var ve={};ve={collectionLabel:"Öneriler"};var xe={};xe={collectionLabel:"Пропозиції"};var ge={};ge={collectionLabel:"建议"};var he={};he={collectionLabel:"建議"};var ye={};ye={"ar-AE":K,"bg-BG":U,"cs-CZ":z,"da-DK":M,"de-DE":H,"el-GR":O,"en-US":W,"es-ES":G,"et-EE":J,"fi-FI":Z,"fr-FR":Q,"he-IL":X,"hr-HR":Y,"hu-HU":ee,"it-IT":te,"ja-JP":re,"ko-KR":ae,"lt-LT":oe,"lv-LV":le,"nb-NO":ie,"nl-NL":ne,"pl-PL":se,"pt-BR":ue,"pt-PT":ce,"ro-RO":de,"ru-RU":fe,"sk-SK":pe,"sl-SI":me,"sr-SP":be,"sv-SE":$e,"tr-TR":ve,"uk-UA":xe,"zh-CN":ge,"zh-TW":he};function xt(r){return r&&r.__esModule?r.default:r}function gt(r,i){let{inputRef:u,collectionRef:n,filter:c,disableAutoFocusFirst:m=!1,disableVirtualFocus:b=!1}=r,$=Be(),d=l.useRef(void 0),f=l.useRef(!1),a=l.useRef(null),v=l.useRef(null),F=ze()==="virtual"&&(Me()||He()),[g,h]=l.useState(!F&&!b),[Ee,A]=l.useState(!1);l.useEffect(()=>()=>clearTimeout(d.current),[]);let L=I(e=>{!e.isTrusted&&g&&u.current&&w(Oe(u.current))!==u.current&&u.current.focus();let t=e.target;e.isTrusted||!t||a.current===t.id||(clearTimeout(d.current),t!==n.current?f.current?(a.current=t.id,d.current=setTimeout(()=>{i.setFocusedNodeId(t.id)},500)):(a.current=t.id,i.setFocusedNodeId(t.id)):a.current&&!document.getElementById(a.current)&&(a.current=null,i.setFocusedNodeId(null)),f.current=!1)}),D=l.useCallback(e=>{if(e!=null){var t;(t=v.current)===null||t===void 0||t.removeEventListener("focusin",L),v.current=e,e.addEventListener("focusin",L),e.getAttribute("tabindex")!=null&&h(!1),A(!0)}else{var s;(s=v.current)===null||s===void 0||s.removeEventListener("focusin",L),A(!1)}},[L]),Fe=Ne(l.useMemo(()=>qe(n,D),[n,D])),Le=I(()=>{var e;f.current=!0,(e=n.current)===null||e===void 0||e.dispatchEvent(new CustomEvent(B,{cancelable:!0,bubbles:!0,detail:{focusStrategy:"first"}}))}),k=I(e=>{var t;Je(w()),a.current=null,i.setFocusedNodeId(null);let s=new CustomEvent(Ze,{cancelable:!0,bubbles:!0,detail:{clearFocusKey:e}});clearTimeout(d.current),f.current=!1,(t=n.current)===null||t===void 0||t.dispatchEvent(s)}),y=l.useRef("");Ge(u,"input",e=>{let{inputType:t}=e;y.current=t});let Ie=e=>{y.current==="insertText"&&!m?Le():y.current&&(y.current.includes("insert")||y.current.includes("delete")||y.current.includes("history"))&&(k(!0),Xe(document)===u.current&&q(u.current,null)),i.setInputValue(e)},S=l.useRef(null),Ce=e=>{if(S.current=e.target,e.nativeEvent.isComposing)return;let t=a.current;switch(e.key){case"a":if(Qe(e))return;break;case"Escape":if(e.isDefaultPrevented())return;break;case" ":return;case"Tab":"continuePropagation"in e&&e.continuePropagation();return;case"Home":case"End":case"PageDown":case"PageUp":case"ArrowUp":case"ArrowDown":{var s;if((e.key==="Home"||e.key==="End")&&t==null&&e.shiftKey)return;e.preventDefault();let p=new CustomEvent(B,{cancelable:!0,bubbles:!0});(s=n.current)===null||s===void 0||s.dispatchEvent(p);break}}e.isPropagationStopped()||e.stopPropagation();let x=!0;if(n.current!==null){var P;if(t==null)x=((P=n.current)===null||P===void 0?void 0:P.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))||!1;else{let p=document.getElementById(t);p&&(x=p?.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent))||!1)}}if(x)switch(e.key){case"ArrowLeft":case"ArrowRight":k();break;case"Enter":if(t!=null){let p=document.getElementById(t);p?.click()}break}else e.preventDefault()},V=I(e=>{if(e.target===S.current){var t;e.stopImmediatePropagation();let s=a.current;if(s==null)(t=n.current)===null||t===void 0||t.dispatchEvent(new KeyboardEvent(e.type,e));else{let x=document.getElementById(s);x?.dispatchEvent(new KeyboardEvent(e.type,e))}}});l.useEffect(()=>(document.addEventListener("keyup",V,!0),()=>{document.removeEventListener("keyup",V,!0)}),[V]);let Ve=Ye(xt(ye),"@react-aria/autocomplete"),Te=We({id:$,"aria-label":Ve.format("collectionLabel")}),je=l.useCallback((e,t)=>c?c(e,i.inputValue,t):!0,[i.inputValue,c]),Pe=e=>{if(!e.isTrusted)return;let t=a.current?document.getElementById(a.current):null;t&&N(t,e.relatedTarget)},Re=e=>{if(!e.isTrusted)return;if(a.current?document.getElementById(a.current):null){let s=e.target;queueMicrotask(()=>{N(s,n.current),q(n.current,s)})}},T={value:i.inputValue,onChange:Ie};var j;let Ae={onKeyDown:Ce,"aria-activedescendant":(j=i.focusedNodeId)!==null&&j!==void 0?j:void 0,onBlur:Pe,onFocus:Re};return Ee&&(T={...T,...g&&Ae,enterKeyHint:"go","aria-controls":$,"aria-autocomplete":"list",autoCorrect:"off",spellCheck:"false",autoComplete:"off"}),{inputProps:T,collectionProps:_(Te,{shouldUseVirtualFocus:g,disallowTypeAhead:g}),collectionRef:Fe,filter:c!=null?je:void 0}}function ht(r){let{onInputChange:i,inputValue:u,defaultInputValue:n=""}=r,c=f=>{i&&i(f)},[m,b]=l.useState(null),[$,d]=et(u,n,c);return{inputValue:$,setInputValue:d,focusedNodeId:m,setFocusedNodeId:b}}const yt=l.createContext(null),Et=l.createContext(null);function Ft(r){let i=_e(yt,r.slot);r=_(i,r);let{filter:u,disableAutoFocusFirst:n}=r,c=ht(r),m=l.useRef(null),b=l.useRef(null),{inputProps:$,collectionProps:d,collectionRef:f,filter:a}=gt({...Ke(r),filter:u,disableAutoFocusFirst:n,inputRef:m,collectionRef:b},c);return De.createElement(Ue,{values:[[Et,c],[Se,{...$,ref:m}],[we,{...d,filter:a,ref:f}]]},r.children)}const Lt="_tagField_jo8iq_1",It="_triggerContainer_jo8iq_7",Ct="_trigger_jo8iq_7",Vt="_selectValue_jo8iq_74",Tt="_tagList_jo8iq_90",jt="_popover_jo8iq_96",E={tagField:Lt,triggerContainer:It,trigger:Ct,selectValue:Vt,tagList:Tt,popover:jt},R=({children:r,description:i,errorMessage:u,errorPosition:n="top",isDisabled:c=!1,items:m,label:b,popover:$})=>{const{contains:d}=ut({sensitivity:"base"}),f=a=>v=>{Array.isArray(a.value)&&a.setValue(a.value.filter(F=>!v.has(F)))};return o.jsxs(tt,{selectionMode:"multiple",className:E.tagField,children:[o.jsx(nt,{popover:$,children:b&&o.jsx(st,{"data-disabled":c||void 0,children:b})}),i&&o.jsx(pt,{slot:"description",children:i}),n==="top"&&o.jsx(mt,{children:u}),o.jsxs("div",{className:E.triggerContainer,children:[o.jsx(ct,{variant:"icon",className:E.trigger,children:o.jsx("div",{style:{display:"flex"},children:o.jsx(dt,{size:20})})}),o.jsx(rt,{className:E.selectValue,children:({selectedItems:a,state:v,defaultChildren:F,isPlaceholder:g})=>o.jsx(at,{"aria-label":"Selected items",onRemove:f(v),children:o.jsx(ot,{items:a.filter(h=>!!h),renderEmptyState:()=>o.jsx(o.Fragment,{children:g&&F}),className:E.tagList,children:h=>o.jsx(lt,{dismissable:!0,textValue:h.name,children:h.name})})})})]}),o.jsx(bt,{className:E.popover,hideArrow:!0,children:o.jsxs(Ft,{filter:d,children:[o.jsx(it,{"aria-label":"Search for items",children:o.jsx(ft,{})}),o.jsx($t,{items:m,children:r})]})})]})};try{R.displayName="TagField",R.__docgenInfo={description:"",displayName:"TagField",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},errorPosition:{defaultValue:{value:"top"},description:"The position of the error message",name:"errorPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},popover:{defaultValue:null,description:"An assistive text that helps the user understand the field better. Will be hidden in a popover with an info icon button.",name:"popover",required:!1,type:{name:"InfoPopoverProps"}},size:{defaultValue:{value:"'large'"},description:"Component size (large: height 48px, medium: height 40px)",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}},children:{defaultValue:null,description:"The contents of the collection.",name:"children",required:!0,type:{name:"CollectionChildren<T>"}},items:{defaultValue:null,description:"Item objects in the collection.",name:"items",required:!1,type:{name:"Iterable<T>"}},disabledKeys:{defaultValue:null,description:"The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with.",name:"disabledKeys",required:!1,type:{name:"Iterable<Key>"}}}}}catch{}const Ur={component:R,title:"Components/TagField",tags:["autodocs"],args:{children:r=>o.jsx(vt,{...r,children:r.name}),description:"Description",isDisabled:!1,label:"Label",items:ke,errorPosition:"top",size:"large"}},C={};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:"{}",...C.parameters?.docs?.source}}};const zr=["DynamicItems"];export{C as DynamicItems,zr as __namedExportsOrder,Ur as default};
