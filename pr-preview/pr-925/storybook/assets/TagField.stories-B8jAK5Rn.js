import{r as o,e as De,j as a,o as ke}from"./iframe-CyMjtGPK.js";import{$ as Se,b as we}from"./RSPContexts-B7a1EqUx.js";import{e as Be,g as I,d as Ne,n as qe,b as K,h as _e,j as Ke,k as Ue}from"./utils-DVuKvfbU.js";import{x as ze,I as Me,t as He,q as B,r as Oe}from"./useFocusRing-ChpYD699.js";import{$ as We}from"./useLabels-DNtrS2Qm.js";import{$ as Ge}from"./useEvent-DGFI6kX3.js";import{j as N,k as Je,l as Ze,m as q,n as _,o as Qe,p as Xe}from"./SelectionManager-C6_z_HwH.js";import{$ as Ye}from"./useLocalizedStringFormatter-CLPnsWem.js";import{$ as et}from"./useControlledState-CTMqSIS3.js";import{a as tt,b as rt}from"./Select-aNTqKcLt.js";import{b as at,$ as ot,a as lt}from"./Tag-CIWjMQLo.js";import{a as it}from"./TextField-CDC7mTBz.js";import{a as nt,L as st}from"./Label-CXE6cfAH.js";import{$ as ut}from"./useFilter-DFvUj4j6.js";import{B as ct}from"./Button-B8uAn95p.js";import{C as dt}from"./chevron-down-CU7H3a_x.js";import{I as ft}from"./Input-DfRyvOEe.js";import{T as pt}from"./Text-Ugwvt_bi.js";import{F as mt}from"./FieldError-Bva2mD5K.js";import{P as bt}from"./Popover-DcoGuDuo.js";import{a as $t,L as vt}from"./ListBoxItem-BBU42Vcq.js";import"./preload-helper-PPVm8Dsz.js";import"./clsx-B-dksMZM.js";import"./index-D_9YXFXE.js";import"./index-CEYNSK8w.js";import"./scrollIntoView-DiSP5vc7.js";import"./SelectionIndicator-OP8igp-4.js";import"./useDescription-y7zAw2pV.js";import"./LocalizedStringFormatter-wnoc2RuQ.js";import"./Button-BXSdsNHC.js";import"./Hidden-IMfBhQ0L.js";import"./useButton-KGQDEH2-.js";import"./Form-Bxd20bgC.js";import"./useFormValidation-DoI_l0NE.js";import"./intlStrings-ZMTSFH_M.js";import"./ListBox-DtEwYS3W.js";import"./Collection-DFlPbA8P.js";import"./index-DZDfQsSu.js";import"./DragAndDrop-vakca-Bd.js";import"./getScrollParent-Da9WjJ5R.js";import"./Separator-C3w7GKaJ.js";import"./ListKeyboardDelegate-C5QdJqc9.js";import"./Text-DzIkDf4e.js";import"./inertValue-DX2idHJz.js";import"./useListState-hW_0Zwwi.js";import"./Dialog-BBciz3IO.js";import"./OverlayArrow-CZT2_jrR.js";import"./useResizeObserver--QwmZnvn.js";import"./PressResponder-DFq-te7B.js";import"./VisuallyHidden-BjRgoPVR.js";import"./useField-Bz927p2u.js";import"./useHighlightSelectionDescription-Bz3vvC1I.js";import"./useUpdateEffect-B6nZUL2A.js";import"./useHasTabbableChild-DrdQecjZ.js";import"./clsx-Ciqy0D92.js";import"./x-E3pVvVHL.js";import"./createLucideIcon-D70ZsCEu.js";import"./Group-4BDL0-vA.js";import"./Input-CsLrW7G-.js";import"./useTextField-DLblCXJX.js";import"./useLocalizedStringFormatter-C4pjlO5j.js";import"./Heading-Bo_fpOH0.js";import"./info-DtrsAcnO.js";import"./Button.module-CtQ1deO8.js";import"./TextField.module-1-_3qsJZ.js";import"./Virtualizer-DdufjoIv.js";var U={};U={collectionLabel:"مقترحات"};var z={};z={collectionLabel:"Предложения"};var M={};M={collectionLabel:"Návrhy"};var H={};H={collectionLabel:"Forslag"};var O={};O={collectionLabel:"Empfehlungen"};var W={};W={collectionLabel:"Προτάσεις"};var G={};G={collectionLabel:"Suggestions"};var J={};J={collectionLabel:"Sugerencias"};var Z={};Z={collectionLabel:"Soovitused"};var Q={};Q={collectionLabel:"Ehdotukset"};var X={};X={collectionLabel:"Suggestions"};var Y={};Y={collectionLabel:"הצעות"};var ee={};ee={collectionLabel:"Prijedlozi"};var te={};te={collectionLabel:"Javaslatok"};var re={};re={collectionLabel:"Suggerimenti"};var ae={};ae={collectionLabel:"候補"};var oe={};oe={collectionLabel:"제안"};var le={};le={collectionLabel:"Pasiūlymai"};var ie={};ie={collectionLabel:"Ieteikumi"};var ne={};ne={collectionLabel:"Forslag"};var se={};se={collectionLabel:"Suggesties"};var ue={};ue={collectionLabel:"Sugestie"};var ce={};ce={collectionLabel:"Sugestões"};var de={};de={collectionLabel:"Sugestões"};var fe={};fe={collectionLabel:"Sugestii"};var pe={};pe={collectionLabel:"Предложения"};var me={};me={collectionLabel:"Návrhy"};var be={};be={collectionLabel:"Predlogi"};var $e={};$e={collectionLabel:"Predlozi"};var ve={};ve={collectionLabel:"Förslag"};var xe={};xe={collectionLabel:"Öneriler"};var ge={};ge={collectionLabel:"Пропозиції"};var he={};he={collectionLabel:"建议"};var ye={};ye={collectionLabel:"建議"};var Ee={};Ee={"ar-AE":U,"bg-BG":z,"cs-CZ":M,"da-DK":H,"de-DE":O,"el-GR":W,"en-US":G,"es-ES":J,"et-EE":Z,"fi-FI":Q,"fr-FR":X,"he-IL":Y,"hr-HR":ee,"hu-HU":te,"it-IT":re,"ja-JP":ae,"ko-KR":oe,"lt-LT":le,"lv-LV":ie,"nb-NO":ne,"nl-NL":se,"pl-PL":ue,"pt-BR":ce,"pt-PT":de,"ro-RO":fe,"ru-RU":pe,"sk-SK":me,"sl-SI":be,"sr-SP":$e,"sv-SE":ve,"tr-TR":xe,"uk-UA":ge,"zh-CN":he,"zh-TW":ye};function xt(r){return r&&r.__esModule?r.default:r}function gt(r,l){let{inputRef:u,collectionRef:i,filter:c,disableAutoFocusFirst:b=!1,disableVirtualFocus:$=!1}=r,v=Be(),d=o.useRef(void 0),f=o.useRef(!1),n=o.useRef(null),m=o.useRef(null),F=ze()==="virtual"&&(Me()||He()),[x,V]=o.useState(!F&&!$),[h,D]=o.useState(!1);o.useEffect(()=>()=>clearTimeout(d.current),[]);let L=I(e=>{!e.isTrusted&&x&&u.current&&B(Oe(u.current))!==u.current&&u.current.focus();let t=e.target;e.isTrusted||!t||n.current===t.id||(clearTimeout(d.current),t!==i.current?f.current?(n.current=t.id,d.current=setTimeout(()=>{l.setFocusedNodeId(t.id)},500)):(n.current=t.id,l.setFocusedNodeId(t.id)):n.current&&!document.getElementById(n.current)&&(n.current=null,l.setFocusedNodeId(null)),f.current=!1)}),k=o.useCallback(e=>{if(e!=null){var t;(t=m.current)===null||t===void 0||t.removeEventListener("focusin",L),m.current=e,e.addEventListener("focusin",L),e.getAttribute("tabindex")!=null&&V(!1),D(!0)}else{var s;(s=m.current)===null||s===void 0||s.removeEventListener("focusin",L),D(!1)}},[L]),Fe=Ne(o.useMemo(()=>qe(i,k),[i,k])),Le=I(()=>{var e;f.current=!0,(e=i.current)===null||e===void 0||e.dispatchEvent(new CustomEvent(N,{cancelable:!0,bubbles:!0,detail:{focusStrategy:"first"}}))}),S=I(e=>{var t;Je(B()),n.current=null,l.setFocusedNodeId(null);let s=new CustomEvent(Ze,{cancelable:!0,bubbles:!0,detail:{clearFocusKey:e}});clearTimeout(d.current),f.current=!1,(t=i.current)===null||t===void 0||t.dispatchEvent(s)}),y=o.useRef("");Ge(u,"input",e=>{let{inputType:t}=e;y.current=t});let Ie=e=>{y.current==="insertText"&&!b?Le():y.current&&(y.current.includes("insert")||y.current.includes("delete")||y.current.includes("history"))&&(S(!0),Xe(document)===u.current&&_(u.current,null)),l.setInputValue(e)},w=o.useRef(null),Ce=e=>{if(w.current=e.target,e.nativeEvent.isComposing)return;let t=n.current;switch(e.key){case"a":if(Qe(e))return;break;case"Escape":if(e.isDefaultPrevented())return;break;case" ":return;case"Tab":"continuePropagation"in e&&e.continuePropagation();return;case"Home":case"End":case"PageDown":case"PageUp":case"ArrowUp":case"ArrowDown":{var s;if((e.key==="Home"||e.key==="End")&&t==null&&e.shiftKey)return;e.preventDefault();let p=new CustomEvent(N,{cancelable:!0,bubbles:!0});(s=i.current)===null||s===void 0||s.dispatchEvent(p);break}}e.isPropagationStopped()||e.stopPropagation();let g=!0;if(i.current!==null){var R;if(t==null)g=((R=i.current)===null||R===void 0?void 0:R.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))||!1;else{let p=document.getElementById(t);p&&(g=p?.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent))||!1)}}if(g)switch(e.key){case"ArrowLeft":case"ArrowRight":S();break;case"Enter":if(t!=null){let p=document.getElementById(t);p?.click()}break}else e.preventDefault()},T=I(e=>{if(e.target===w.current){var t;e.stopImmediatePropagation();let s=n.current;if(s==null)(t=i.current)===null||t===void 0||t.dispatchEvent(new KeyboardEvent(e.type,e));else{let g=document.getElementById(s);g?.dispatchEvent(new KeyboardEvent(e.type,e))}}});o.useEffect(()=>(document.addEventListener("keyup",T,!0),()=>{document.removeEventListener("keyup",T,!0)}),[T]);let Ve=Ye(xt(Ee),"@react-aria/autocomplete"),Te=We({id:v,"aria-label":Ve.format("collectionLabel")}),je=o.useCallback((e,t)=>c?c(e,l.inputValue,t):!0,[l.inputValue,c]),Pe=e=>{if(!e.isTrusted)return;let t=n.current?document.getElementById(n.current):null;t&&q(t,e.relatedTarget)},Re=e=>{if(!e.isTrusted)return;if(n.current?document.getElementById(n.current):null){let s=e.target;queueMicrotask(()=>{q(s,i.current),_(i.current,s)})}},j={value:l.inputValue,onChange:Ie};var P;let Ae={onKeyDown:Ce,"aria-activedescendant":(P=l.focusedNodeId)!==null&&P!==void 0?P:void 0,onBlur:Pe,onFocus:Re};return h&&(j={...j,...x&&Ae,enterKeyHint:"go","aria-controls":v,"aria-autocomplete":"list",autoCorrect:"off",spellCheck:"false",autoComplete:"off"}),{inputProps:j,collectionProps:K(Te,{shouldUseVirtualFocus:x,disallowTypeAhead:x}),collectionRef:Fe,filter:c!=null?je:void 0}}function ht(r){let{onInputChange:l,inputValue:u,defaultInputValue:i=""}=r,c=f=>{l&&l(f)},[b,$]=o.useState(null),[v,d]=et(u,i,c);return{inputValue:v,setInputValue:d,focusedNodeId:b,setFocusedNodeId:$}}const yt=o.createContext(null),Et=o.createContext(null);function Ft(r){let l=_e(yt,r.slot);r=K(l,r);let{filter:u,disableAutoFocusFirst:i}=r,c=ht(r),b=o.useRef(null),$=o.useRef(null),{inputProps:v,collectionProps:d,collectionRef:f,filter:n}=gt({...Ke(r),filter:u,disableAutoFocusFirst:i,inputRef:b,collectionRef:$},c);return De.createElement(Ue,{values:[[Et,c],[Se,{...v,ref:b}],[we,{...d,filter:n,ref:f}]]},r.children)}const Lt="_tagField_jo8iq_1",It="_triggerContainer_jo8iq_7",Ct="_trigger_jo8iq_7",Vt="_selectValue_jo8iq_74",Tt="_tagList_jo8iq_90",jt="_popover_jo8iq_96",E={tagField:Lt,triggerContainer:It,trigger:Ct,selectValue:Vt,tagList:Tt,popover:jt},A=({children:r,description:l,errorMessage:u,errorPosition:i="top",isDisabled:c=!1,items:b,label:$,popover:v})=>{const d=o.useRef(null),{contains:f}=ut({sensitivity:"base"}),n=m=>F=>{Array.isArray(m.value)&&m.setValue(m.value.filter(x=>!F.has(x)))};return a.jsxs(tt,{selectionMode:"multiple",className:E.tagField,children:[a.jsx(nt,{popover:v,children:$&&a.jsx(st,{"data-disabled":c||void 0,children:$})}),l&&a.jsx(pt,{slot:"description",children:l}),i==="top"&&a.jsx(mt,{children:u}),a.jsxs("div",{className:E.triggerContainer,children:[a.jsx(ct,{variant:"icon",className:E.trigger,children:a.jsx("div",{ref:d,style:{display:"flex"},children:a.jsx(dt,{size:20})})}),a.jsx(rt,{className:E.selectValue,children:({selectedItems:m,state:F,defaultChildren:x,isPlaceholder:V})=>a.jsx(at,{"aria-label":"Selected items",onRemove:n(F),children:a.jsx(ot,{items:m.filter(h=>!!h),renderEmptyState:()=>a.jsx(a.Fragment,{children:V&&x}),className:E.tagList,children:h=>a.jsx(lt,{dismissable:!0,textValue:h.name,children:h.name})})})})]}),a.jsx(bt,{className:E.popover,triggerRef:d,hideArrow:!0,offset:16,children:a.jsxs(Ft,{filter:f,children:[a.jsx(it,{"aria-label":"Search for items",children:a.jsx(ft,{})}),a.jsx($t,{items:b,children:r})]})})]})};try{A.displayName="TagField",A.__docgenInfo={description:"",displayName:"TagField",props:{description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},errorPosition:{defaultValue:{value:"top"},description:"The position of the error message",name:"errorPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},popover:{defaultValue:null,description:"An assistive text that helps the user understand the field better. Will be hidden in a popover with an info icon button.",name:"popover",required:!1,type:{name:"InfoPopoverProps"}},size:{defaultValue:{value:"'large'"},description:"Component size (large: height 48px, medium: height 40px)",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}},children:{defaultValue:null,description:"The contents of the collection.",name:"children",required:!0,type:{name:"CollectionChildren<T>"}},items:{defaultValue:null,description:"Item objects in the collection.",name:"items",required:!1,type:{name:"Iterable<T>"}},disabledKeys:{defaultValue:null,description:"The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with.",name:"disabledKeys",required:!1,type:{name:"Iterable<Key>"}}}}}catch{}const Ur={component:A,title:"Components/TagField",tags:["autodocs"],args:{children:r=>a.jsx(vt,{...r,children:r.name}),description:"Description",isDisabled:!1,label:"Label",items:ke,errorPosition:"top",size:"large"}},C={};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:"{}",...C.parameters?.docs?.source}}};const zr=["DynamicItems"];export{C as DynamicItems,zr as __namedExportsOrder,Ur as default};
