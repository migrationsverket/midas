import{k as p,b as C,$ as w,g as j,a as F}from"./utils-BLyg3OOq.js";import{$ as R}from"./Hidden-BC9qER92.js";import{r as b,R as h}from"./index-ClcD9ViR.js";import{b as A,a as B,$ as S}from"./useFocusRing-DVgdqMmF.js";import{$ as H}from"./context-d6PNTTSe.js";import{$ as _}from"./useButton-DVh6qrnV.js";function K(i,e){let{id:t,"aria-label":r,"aria-labelledby":a}=i;return t=p(t),a&&r?a=[...new Set([t,...a.trim().split(/\s+/)])].join(" "):a&&(a=a.trim().split(/\s+/).join(" ")),!r&&!a&&e&&(r=e),{id:t,"aria-label":r,"aria-labelledby":a}}function I(i,e=-1/0,t=1/0){return Math.min(Math.max(i,e),t)}let x=new Map,E=!1;try{E=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let y=!1;try{y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const V={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class U{format(e){let t="";if(!E&&this.options.signDisplay!=null?t=k(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!y){var r;let{unit:a,unitDisplay:n="short",locale:l}=this.resolvedOptions();if(!a)return t;let s=(r=V[a])===null||r===void 0?void 0:r[n];t+=s[l]||s.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(t);return[...r.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!E&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=Z(e,t),this.options=t}}function Z(i,e={}){let{numberingSystem:t}=e;if(t&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${t}`),e.style==="unit"&&!y){var r;let{unit:l,unitDisplay:s="short"}=e;if(!l)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=V[l])===null||r===void 0)&&r[s]))throw new Error(`Unsupported unit ${l} with unitDisplay = ${s}`);e={...e,style:"decimal"}}let a=i+(e?Object.entries(e).sort((l,s)=>l[0]<s[0]?-1:1).join():"");if(x.has(a))return x.get(a);let n=new Intl.NumberFormat(i,e);return x.set(a,n),n}function k(i,e,t){if(e==="auto")return i.format(t);if(e==="never")return i.format(Math.abs(t));{let r=!1;if(e==="always"?r=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):r=t>0),r){let a=i.format(-t),n=i.format(t),l=a.replace(n,"").replace(/\u200e|\u061C/,"");return[...l].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(n,"!!!").replace(l,"+").replace("!!!",n)}else return i.format(t)}}function z(i={}){let{locale:e}=H();return b.useMemo(()=>new U(e,i),[e,i])}const O=7e3;let o=null;function D(i,e="assertive",t=O){o?o.announce(i,e,t):(o=new G,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?o.announce(i,e,t):setTimeout(()=>{o!=null&&o.isAttached()&&(o==null||o.announce(i,e,t))},100))}function ne(i){o&&o.clear(i)}class G{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",r=O){var a,n;if(!this.node)return;let l=document.createElement("div");typeof e=="object"?(l.setAttribute("role","img"),l.setAttribute("aria-labelledby",e["aria-labelledby"])):l.textContent=e,t==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(l):(n=this.politeLog)===null||n===void 0||n.appendChild(l),e!==""&&setTimeout(()=>{l.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function J(i){let{id:e,label:t,"aria-labelledby":r,"aria-label":a,labelElementType:n="label"}=i;e=p(e);let l=p(),s={};t&&(r=r?`${l} ${r}`:l,s={id:l,htmlFor:n==="label"?e:void 0});let d=K({id:e,"aria-label":a,"aria-labelledby":r});return{labelProps:s,fieldProps:d}}function W(i){let{value:e=0,minValue:t=0,maxValue:r=100,valueLabel:a,isIndeterminate:n,formatOptions:l={style:"percent"}}=i,s=A(i,{labelable:!0}),{labelProps:d,fieldProps:f}=J({...i,labelElementType:"span"});e=I(e,t,r);let m=(e-t)/(r-t),$=z(l);if(!n&&!a){let u=l.style==="percent"?m:e;a=$.format(u)}return{progressBarProps:C(s,{...f,"aria-valuenow":n?void 0:e,"aria-valuemin":t,"aria-valuemax":r,"aria-valuetext":n?void 0:a,role:"progressbar"}),labelProps:d}}const N=b.createContext({}),le=R(function(e,t){[e,t]=w(e,t,N);let{elementType:r="label",...a}=e;return h.createElement(r,{className:"react-aria-Label",...a,ref:t})}),M=b.createContext(null),se=b.forwardRef(function(e,t){[e,t]=w(e,t,M);let{value:r=0,minValue:a=0,maxValue:n=100,isIndeterminate:l=!1}=e;r=I(r,a,n);let[s,d]=j(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:f,labelProps:m}=W({...e,label:d}),$=l?void 0:(r-a)/(n-a)*100,u=F({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:f["aria-valuetext"],isIndeterminate:l}});return h.createElement("div",{...f,...u,ref:t,slot:e.slot||void 0},h.createElement(N.Provider,{value:{...m,ref:s,elementType:"span"}},u.children))}),Y=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),q=b.createContext({}),oe=R(function(e,t){[e,t]=w(e,t,q),e=Q(e);let r=e,{isPending:a}=r,{buttonProps:n,isPressed:l}=_(e,t),{focusProps:s,isFocused:d,isFocusVisible:f}=B(e),{hoverProps:m,isHovered:$}=S({...e,isDisabled:e.isDisabled||a}),u={isHovered:$,isPressed:(r.isPressed||l)&&!a,isFocused:d,isFocusVisible:f,isDisabled:e.isDisabled||!1,isPending:a??!1},L=F({...e,values:u,defaultClassName:"react-aria-Button"}),v=p(n.id),g=p(),c=n["aria-labelledby"];a&&(c?c=`${c} ${g}`:n["aria-label"]&&(c=`${v} ${g}`));let P=b.useRef(a);return b.useEffect(()=>{let T={"aria-labelledby":c||v};(!P.current&&d&&a||P.current&&d&&!a)&&D(T,"assertive"),P.current=a},[a,d,c,v]),h.createElement("button",{...A(e,{propNames:Y}),...C(n,s,m),...L,type:n.type==="submit"&&a?"button":n.type,id:v,ref:t,"aria-labelledby":c,slot:e.slot||void 0,"aria-disabled":a?"true":n["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":$||void 0,"data-focused":d||void 0,"data-pending":a||void 0,"data-focus-visible":f||void 0},h.createElement(M.Provider,{value:{id:g}},L.children))});function Q(i){return i.isPending&&(i.onPress=void 0,i.onPressStart=void 0,i.onPressEnd=void 0,i.onPressChange=void 0,i.onPressUp=void 0,i.onKeyDown=void 0,i.onKeyUp=void 0,i.onClick=void 0,i.href=void 0),i}export{oe as $,J as a,N as b,se as c,le as d,I as e,q as f,K as g,D as h,U as i,ne as j};
