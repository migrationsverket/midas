import{j as $}from"./jsx-runtime-CfatFE5O.js";import{r as p,R as m}from"./index-ClcD9ViR.js";import{$ as L,a as U}from"./Button-DRyTw_69.js";import{a as G,$ as J,b as Q,c as X}from"./ListBox-D6lH0XnD.js";import{b as Y,c as Z,d as ee,e as te,a as ae}from"./Dialog-Bk-R8JAE.js";import{n as K,b as N,k as le,x as ie,D as oe,c as T,A,e as se,B as ne,C as re,f as j,y as de}from"./useFocusable-CUvAewCR.js";import{c as ce,d as ue,b as fe,e as pe,a as me}from"./Form-Bnef0d36.js";import{$ as be}from"./intlStrings-ZMTSFH_M.js";import{b as $e,c as ve,a as W}from"./Text-CUSXFwf2.js";import{c as ye}from"./Collection-D2MgYaM2.js";import{$ as he}from"./useSingleSelectListState-YodwW4z0.js";import{a as ge}from"./DragAndDrop-ieluuKp3.js";import{c as xe}from"./SelectionManager-Bf1YJvgz.js";import{$ as Pe}from"./useCollator-ZDMRt11h.js";import{$ as Se}from"./useMenuTrigger-DT4Z28HZ.js";import{$ as Re}from"./VisuallyHidden-CU0vF0eT.js";import{$ as Ie}from"./useLocalizedStringFormatter-Dv05nzCb.js";import{I as qe}from"./TextField-Bs-AwA5r.js";import{C as De}from"./chevron-down-CVNiYbvV.js";const O=new WeakMap;function Ce(e,t,i){let{keyboardDelegate:o,isDisabled:l,isRequired:d,name:s,validationBehavior:a="aria"}=e,c=Pe({usage:"search",sensitivity:"base"}),n=p.useMemo(()=>o||new ge(t.collection,t.disabledKeys,i,c),[o,t.collection,t.disabledKeys,c]),{menuTriggerProps:r,menuProps:u}=Se({isDisabled:l,type:"listbox"},t,i),y=f=>{switch(f.key){case"ArrowLeft":{var g,x;f.preventDefault();let R=t.selectedKey!=null?(g=n.getKeyAbove)===null||g===void 0?void 0:g.call(n,t.selectedKey):(x=n.getFirstKey)===null||x===void 0?void 0:x.call(n);R&&t.setSelectedKey(R);break}case"ArrowRight":{var F,k;f.preventDefault();let R=t.selectedKey!=null?(F=n.getKeyBelow)===null||F===void 0?void 0:F.call(n,t.selectedKey):(k=n.getFirstKey)===null||k===void 0?void 0:k.call(n);R&&t.setSelectedKey(R);break}}},{typeSelectProps:v}=xe({keyboardDelegate:n,selectionManager:t.selectionManager,onTypeSelect(f){t.setSelectedKey(f)}}),{isInvalid:P,validationErrors:q,validationDetails:C}=t.displayValidation,{labelProps:B,fieldProps:S,descriptionProps:h,errorMessageProps:_}=$e({...e,labelElementType:"span",isInvalid:P,errorMessage:e.errorMessage||q});v.onKeyDown=v.onKeyDownCapture,delete v.onKeyDownCapture;let V=K(e,{labelable:!0}),b=N(v,r,S),D=le();return O.set(t,{isDisabled:l,isRequired:d,name:s,validationBehavior:a}),{labelProps:{...B,onClick:()=>{if(!e.isDisabled){var f;(f=i.current)===null||f===void 0||f.focus(),ie("keyboard")}}},triggerProps:N(V,{...b,isDisabled:l,onKeyDown:oe(b.onKeyDown,y,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[D,b["aria-labelledby"],b["aria-label"]&&!b["aria-labelledby"]?b.id:null].filter(Boolean).join(" "),onFocus(f){t.isFocused||(e.onFocus&&e.onFocus(f),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(f){t.isOpen||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:D},menuProps:{...u,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:f=>{f.currentTarget.contains(f.relatedTarget)||(e.onBlur&&e.onBlur(f),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[S["aria-labelledby"],b["aria-label"]&&!S["aria-labelledby"]?b.id:null].filter(Boolean).join(" ")},descriptionProps:h,errorMessageProps:_,isInvalid:P,validationErrors:q,validationDetails:C}}function Be(e,t,i){let o=O.get(t)||{},{autoComplete:l,name:d=o.name,isDisabled:s=o.isDisabled}=e,{validationBehavior:a,isRequired:c}=o,{visuallyHiddenProps:n}=Re();ce(e.selectRef,t.selectedKey,t.setSelectedKey),ue({validationBehavior:a,focus:()=>{var u;return(u=i.current)===null||u===void 0?void 0:u.focus()}},t,e.selectRef);var r;return{containerProps:{...n,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:l,disabled:s,required:a==="native"&&c,name:d,value:(r=t.selectedKey)!==null&&r!==void 0?r:"",onChange:u=>t.setSelectedKey(u.target.value)}}}function _e(e){let{state:t,triggerRef:i,label:o,name:l,isDisabled:d}=e,s=p.useRef(null),{containerProps:a,selectProps:c}=Be({...e,selectRef:s},t,i);var n;return t.collection.size<=300?m.createElement("div",{...a,"data-testid":"hidden-select-container"},m.createElement("label",null,o,m.createElement("select",{...c,ref:s},m.createElement("option",null),[...t.collection.getKeys()].map(r=>{let u=t.collection.getItem(r);if(u&&u.type==="item")return m.createElement("option",{key:u.key,value:u.key},u.textValue)})))):l?m.createElement("input",{type:"hidden",autoComplete:c.autoComplete,name:l,disabled:d,value:(n=t.selectedKey)!==null&&n!==void 0?n:""}):null}function Ve(e){let t=Y(e),[i,o]=p.useState(null),l=he({...e,onSelectionChange:c=>{e.onSelectionChange!=null&&e.onSelectionChange(c),t.close(),d.commitValidation()}}),d=fe({...e,value:l.selectedKey}),[s,a]=p.useState(!1);return{...d,...l,...t,focusStrategy:i,open(c=null){l.collection.size!==0&&(o(c),t.open())},toggle(c=null){l.collection.size!==0&&(o(c),t.toggle())},isFocused:s,setFocused:a}}function Fe(e){return e&&e.__esModule?e.default:e}const E=p.createContext(null),z=p.createContext(null);function ke(e,t){[e,t]=T(e,t,E);let{children:i,isDisabled:o=!1,isInvalid:l=!1,isRequired:d=!1}=e,s=p.useMemo(()=>typeof i=="function"?i({isOpen:!1,isDisabled:o,isInvalid:l,isRequired:d,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):i,[i,o,l,d]);return m.createElement(ye,{content:s},a=>m.createElement(Ke,{props:e,collection:a,selectRef:t}))}function Ke({props:e,selectRef:t,collection:i}){let{validationBehavior:o}=A(pe)||{};var l,d;let s=(d=(l=e.validationBehavior)!==null&&l!==void 0?l:o)!==null&&d!==void 0?d:"native",a=Ve({...e,collection:i,children:void 0,validationBehavior:s}),{isFocusVisible:c,focusProps:n}=se({within:!0}),r=p.useRef(null),[u,y]=ne(),{labelProps:v,triggerProps:P,valueProps:q,menuProps:C,descriptionProps:B,errorMessageProps:S,...h}=Ce({...re(e),label:y,validationBehavior:s},a,r),[_,V]=p.useState(null),b=p.useCallback(()=>{r.current&&V(r.current.offsetWidth+"px")},[r]);Z({ref:r,onResize:b});let D=p.useMemo(()=>({isOpen:a.isOpen,isFocused:a.isFocused,isFocusVisible:c,isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid||!1,isRequired:e.isRequired||!1}),[a.isOpen,a.isFocused,c,e.isDisabled,h.isInvalid,e.isRequired]),f=j({...e,values:D,defaultClassName:"react-aria-Select"}),g=K(e);delete g.id;let x=p.useRef(null);return m.createElement(de,{values:[[E,e],[z,a],[H,q],[ve,{...v,ref:u,elementType:"span"}],[L,{...P,ref:r,isPressed:a.isOpen}],[ee,a],[te,{trigger:"Select",triggerRef:r,scrollRef:x,placement:"bottom start",style:{"--trigger-width":_}}],[G,{...C,ref:x}],[J,a],[W,{slots:{description:B,errorMessage:S}}],[me,h]]},m.createElement("div",{...g,...f,...n,ref:t,slot:e.slot||void 0,"data-focused":a.isFocused||void 0,"data-focus-visible":c||void 0,"data-open":a.isOpen||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-required":e.isRequired||void 0}),m.createElement(_e,{state:a,triggerRef:r,label:y,name:e.name,isDisabled:e.isDisabled}))}const Ee=p.forwardRef(ke),H=p.createContext(null);function Ne(e,t){var i,o;[e,t]=T(e,t,H);let l=p.useContext(z),{placeholder:d}=A(E),s=l.selectedKey!=null?l.collection.getItem(l.selectedKey):null,a=s==null?void 0:s.props.children;typeof a=="function"&&(a=a({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"}));let c=Ie(Fe(be),"react-aria-components");var n,r,u;let y=j({...e,defaultChildren:(n=a??d)!==null&&n!==void 0?n:c.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(r=(i=l.selectedItem)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:null,selectedText:(u=(o=l.selectedItem)===null||o===void 0?void 0:o.textValue)!==null&&u!==void 0?u:null,isPlaceholder:!s}}),v=K(e);return m.createElement("span",{ref:t,...v,...y,"data-placeholder":!s||void 0},m.createElement(W.Provider,{value:void 0},y.children))}const Me=p.forwardRef(Ne),we='"../../../theme/src/lib/tokens.css"',Te='"Inter", sans-serif',Ae="#000000",je="#b31b1b",We="(max-width: 767px)",Oe="#bfbfbf",ze="#e6e6e6",He="0 0 0 2px #ffffff, 0 0 0 4px #000000",Le="#f2f2f2",Ue="_button_qnp9q_4",Ge="_select_qnp9q_41",Je="_popover_qnp9q_57",Qe="_listBoxItem_qnp9q_65",Xe="_icon_qnp9q_87",I={tokens:we,display:Te,black:Ae,signalRed130:je,smBreakpoint:We,gray50:Oe,gray20:ze,focus:He,backgroundSecondary:Le,button:Ue,select:Ge,popover:Je,listBoxItem:Qe,icon:Xe};function M({label:e,description:t,errorMessage:i,children:o,items:l,...d}){const s=m.useRef(null);return $.jsxs(Ee,{className:I.select,ref:s,...d,children:[$.jsx(qe,{label:e,description:t,errorMessage:i,children:$.jsxs(U,{className:I.button,children:[$.jsx(Me,{}),$.jsx("div",{className:I.icon,"aria-hidden":"true",children:$.jsx(De,{size:20,"aria-hidden":!0})})]})}),$.jsx(ae,{className:I.popover,offset:0,UNSTABLE_portalContainer:s.current||void 0,children:$.jsx(Q,{items:l,children:o})})]})}function w(e){return $.jsx(X,{className:I.listBoxItem,...e})}try{M.displayName="Select",M.__docgenInfo={description:"",displayName:"Select",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | ((validation: ValidationResult) => string)"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"Iterable<T>"}},validationBehavior:{defaultValue:{value:"'native'"},description:`Whether to use native HTML form validation to prevent form submission
when the value is missing or invalid, or mark the field as required
or invalid via ARIA.`,name:"validationBehavior",required:!1,type:{name:'"native" | "aria"'}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: SelectRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: SelectRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}}}}}catch{}try{w.displayName="Item",w.__docgenInfo={description:"",displayName:"Item",props:{id:{defaultValue:null,description:"The unique id of the item.",name:"id",required:!1,type:{name:"Key"}},value:{defaultValue:null,description:"The object value that this item represents. When using dynamic collections, this is set automatically.",name:"value",required:!1,type:{name:"object"}},textValue:{defaultValue:null,description:"A string representation of the item's contents, used for features like typeahead.",name:"textValue",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"An accessibility label for this item.",name:"aria-label",required:!1,type:{name:"string"}},isDisabled:{defaultValue:null,description:"Whether the item is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},onAction:{defaultValue:null,description:"Handler that is called when a user performs an action on the item. The exact user event depends on\nthe collection's `selectionBehavior` prop and the interaction modality.",name:"onAction",required:!1,type:{name:"() => void"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ReactNode | ((values: ListBoxItemRenderProps & { defaultChildren: ReactNode; }) => ReactNode)"}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | ((values: ListBoxItemRenderProps & { defaultClassName: string; }) => string)"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"CSSProperties | ((values: ListBoxItemRenderProps & { defaultStyle: CSSProperties; }) => CSSProperties)"}}}}}catch{}export{w as I,M as S};
